var Az=Object.defineProperty;var Oz=(t,e,n)=>e in t?Az(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>Oz(t,typeof e!="symbol"?e+"":e,n);function Rz(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ph={exports:{}},mM;function Dz(){if(mM)return Ph.exports;mM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,B,L){return Function.prototype.apply.call(N,B,L)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:n=function(N){return Object.getOwnPropertyNames(N)};function i(j){console&&console.warn&&console.warn(j)}var r=Number.isNaN||function(N){return N!==N};function s(){s.init.call(this)}Ph.exports=s,Ph.exports.once=T,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function l(j){if(typeof j!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(j){if(typeof j!="number"||j<0||r(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");o=j}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||r(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function u(j){return j._maxListeners===void 0?s.defaultMaxListeners:j._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(N){for(var B=[],L=1;L<arguments.length;L++)B.push(arguments[L]);var z=N==="error",W=this._events;if(W!==void 0)z=z&&W.error===void 0;else if(!z)return!1;if(z){var J;if(B.length>0&&(J=B[0]),J instanceof Error)throw J;var Z=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw Z.context=J,Z}var re=W[N];if(re===void 0)return!1;if(typeof re=="function")e(re,this,B);else for(var ye=re.length,ue=k(re,ye),L=0;L<ye;++L)e(ue[L],this,B);return!0};function f(j,N,B,L){var z,W,J;if(l(B),W=j._events,W===void 0?(W=j._events=Object.create(null),j._eventsCount=0):(W.newListener!==void 0&&(j.emit("newListener",N,B.listener?B.listener:B),W=j._events),J=W[N]),J===void 0)J=W[N]=B,++j._eventsCount;else if(typeof J=="function"?J=W[N]=L?[B,J]:[J,B]:L?J.unshift(B):J.push(B),z=u(j),z>0&&J.length>z&&!J.warned){J.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=j,Z.type=N,Z.count=J.length,i(Z)}return j}s.prototype.addListener=function(N,B){return f(this,N,B,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,B){return f(this,N,B,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(j,N,B){var L={fired:!1,wrapFn:void 0,target:j,type:N,listener:B},z=p.bind(L);return z.listener=B,L.wrapFn=z,z}s.prototype.once=function(N,B){return l(B),this.on(N,g(this,N,B)),this},s.prototype.prependOnceListener=function(N,B){return l(B),this.prependListener(N,g(this,N,B)),this},s.prototype.removeListener=function(N,B){var L,z,W,J,Z;if(l(B),z=this._events,z===void 0)return this;if(L=z[N],L===void 0)return this;if(L===B||L.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete z[N],z.removeListener&&this.emit("removeListener",N,L.listener||B));else if(typeof L!="function"){for(W=-1,J=L.length-1;J>=0;J--)if(L[J]===B||L[J].listener===B){Z=L[J].listener,W=J;break}if(W<0)return this;W===0?L.shift():w(L,W),L.length===1&&(z[N]=L[0]),z.removeListener!==void 0&&this.emit("removeListener",N,Z||B)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var B,L,z;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[N]),this;if(arguments.length===0){var W=Object.keys(L),J;for(z=0;z<W.length;++z)J=W[z],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=L[N],typeof B=="function")this.removeListener(N,B);else if(B!==void 0)for(z=B.length-1;z>=0;z--)this.removeListener(N,B[z]);return this};function v(j,N,B){var L=j._events;if(L===void 0)return[];var z=L[N];return z===void 0?[]:typeof z=="function"?B?[z.listener||z]:[z]:B?C(z):k(z,z.length)}s.prototype.listeners=function(N){return v(this,N,!0)},s.prototype.rawListeners=function(N){return v(this,N,!1)},s.listenerCount=function(j,N){return typeof j.listenerCount=="function"?j.listenerCount(N):S.call(j,N)},s.prototype.listenerCount=S;function S(j){var N=this._events;if(N!==void 0){var B=N[j];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function k(j,N){for(var B=new Array(N),L=0;L<N;++L)B[L]=j[L];return B}function w(j,N){for(;N+1<j.length;N++)j[N]=j[N+1];j.pop()}function C(j){for(var N=new Array(j.length),B=0;B<N.length;++B)N[B]=j[B].listener||j[B];return N}function T(j,N){return new Promise(function(B,L){function z(J){j.removeListener(N,W),L(J)}function W(){typeof j.removeListener=="function"&&j.removeListener("error",z),B([].slice.call(arguments))}P(j,N,W,{once:!0}),N!=="error"&&D(j,z,{once:!0})})}function D(j,N,B){typeof j.on=="function"&&P(j,"error",N,B)}function P(j,N,B,L){if(typeof j.on=="function")L.once?j.once(N,B):j.on(N,B);else if(typeof j.addEventListener=="function")j.addEventListener(N,function z(W){L.once&&j.removeEventListener(N,z),B(W)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j)}return Ph.exports}var iD=Dz();const Pz=Ow(iD);var Sn=[];for(var ub=0;ub<256;++ub)Sn.push((ub+256).toString(16).slice(1));function Nz(t,e=0){return(Sn[t[e+0]]+Sn[t[e+1]]+Sn[t[e+2]]+Sn[t[e+3]]+"-"+Sn[t[e+4]]+Sn[t[e+5]]+"-"+Sn[t[e+6]]+Sn[t[e+7]]+"-"+Sn[t[e+8]]+Sn[t[e+9]]+"-"+Sn[t[e+10]]+Sn[t[e+11]]+Sn[t[e+12]]+Sn[t[e+13]]+Sn[t[e+14]]+Sn[t[e+15]]).toLowerCase()}var Nh,jz=new Uint8Array(16);function Lz(){if(!Nh&&(Nh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nh(jz)}var Iz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const gM={randomUUID:Iz};function Bz(t,e,n){if(gM.randomUUID&&!e&&!t)return gM.randomUUID();t=t||{};var i=t.random||(t.rng||Lz)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return Nz(i)}const $z={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},rD={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Jt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Nn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ca={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ge{static getFirstMatch(e,n){const i=n.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,n){const i=n.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,n,i){if(e.test(n))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,i=!1){const r=ge.getVersionPrecision(e),s=ge.getVersionPrecision(n);let o=Math.max(r,s),l=0;const u=ge.map([e,n],f=>{const p=o-ge.getVersionPrecision(f),g=f+new Array(p+1).join(".0");return ge.map(g.split("."),v=>new Array(20-v.length).join("0")+v).reverse()});for(i&&(l=o-Math.min(r,s)),o-=1;o>=l;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===l)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const i=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(r=0;r<e.length;r+=1)i.push(n(e[r]));return i}static find(e,n){let i,r;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(i=0,r=e.length;i<r;i+=1){const s=e[i];if(n(s,i))return s}}static assign(e,...n){const i=e;let r,s;if(Object.assign)return Object.assign(e,...n);for(r=0,s=n.length;r<s;r+=1){const o=n[r];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{i[u]=o[u]})}return e}static getBrowserAlias(e){return $z[e]}static getBrowserTypeByAlias(e){return rD[e]||""}}const Ct=/version\/(\d+(\.?_?\d+)+)/i,zz=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=ge.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=ge.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=ge.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=ge.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=ge.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=ge.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=ge.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=ge.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=ge.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=ge.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=ge.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=ge.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=ge.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=ge.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=ge.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=ge.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=ge.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=ge.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=ge.getFirstMatch(Ct,t)||ge.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=ge.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=ge.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=ge.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=ge.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=ge.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=ge.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=ge.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=ge.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=ge.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=ge.getFirstMatch(Ct,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,r=t.search("\\(")!==-1?n:e;return{name:ge.getFirstMatch(r,t),version:ge.getSecondMatch(r,t)}}}],Fz=[{test:[/Roku\/DVP/],describe(t){const e=ge.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Nn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ge.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Nn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ge.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=ge.getWindowsVersionName(e);return{name:Nn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Nn.iOS},n=ge.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=ge.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=ge.getMacOSVersionName(e),i={name:Nn.MacOS,version:e};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ge.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Nn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=ge.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=ge.getAndroidVersionName(e),i={name:Nn.Android,version:e};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ge.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Nn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ge.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ge.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ge.getFirstMatch(/\bbb(\d+)/i,t);return{name:Nn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ge.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Nn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ge.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Nn.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Nn.Linux}}},{test:[/CrOS/],describe(){return{name:Nn.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=ge.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Nn.PlayStation4,version:e}}}],Uz=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=ge.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Jt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Jt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Jt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Jt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Jt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Jt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Jt.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=ge.getFirstMatch(/(ipod|iphone)/i,t);return{type:Jt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Jt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Jt.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Jt.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Jt.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Jt.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Jt.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Jt.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Jt.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Jt.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Jt.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Jt.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Jt.tv}}}],Vz=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:ca.Blink};const n=ge.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:ca.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:ca.Trident},n=ge.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:ca.Presto},n=ge.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:ca.Gecko},n=ge.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ca.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:ca.WebKit},n=ge.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class vM{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ge.find(zz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ge.find(Fz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=ge.find(Uz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ge.find(Vz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ge.assign({},this.parsedResult)}satisfies(e){const n={};let i=0;const r={};let s=0;if(Object.keys(e).forEach(l=>{const u=e[l];typeof u=="string"?(r[l]=u,s+=1):typeof u=="object"&&(n[l]=u,i+=1)}),i>0){const l=Object.keys(n),u=ge.find(l,p=>this.isOS(p));if(u){const p=this.satisfies(n[u]);if(p!==void 0)return p}const f=ge.find(l,p=>this.isPlatform(p));if(f){const p=this.satisfies(n[f]);if(p!==void 0)return p}}if(s>0){const l=Object.keys(r),u=ge.find(l,f=>this.isBrowser(f,!0));if(u!==void 0)return this.compareVersion(r[u])}}isBrowser(e,n=!1){const i=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const s=ge.getBrowserTypeByAlias(r);return n&&s&&(r=s.toLowerCase()),r===i}compareVersion(e){let n=[0],i=e,r=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(i=e.substr(1),e[1]==="="?(r=!0,i=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?i=e.substr(1):e[0]==="~"&&(r=!0,i=e.substr(1)),n.indexOf(ge.compareVersions(s,i,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Hz{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new vM(e,n)}static parse(e){return new vM(e).getResult()}static get BROWSER_MAP(){return rD}static get ENGINE_MAP(){return ca}static get OS_MAP(){return Nn}static get PLATFORMS_MAP(){return Jt}}function Lr(t,e){return Object.keys(e).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t}function qz(t){return t&&t.__esModule?t.default:t}function jt(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}var $l={},sD={};jt(sD,"PipecatClient",()=>hr);var wl={};wl=JSON.parse('{"name":"@pipecat-ai/client-js","version":"1.5.0","license":"BSD-2-Clause","main":"dist/index.js","module":"dist/index.module.js","types":"dist/index.d.ts","source":"index.ts","repository":{"type":"git","url":"git+https://github.com/pipecat-ai/pipecat-client-web.git"},"files":["dist","package.json","README.md"],"scripts":{"build":"jest --silent --passWithNoTests && parcel build --no-cache","dev":"parcel watch","lint":"eslint . --report-unused-disable-directives --max-warnings 0","test":"jest"},"jest":{"preset":"ts-jest","testEnvironment":"jsdom"},"devDependencies":{"@jest/globals":"^29.7.0","@types/clone-deep":"^4.0.4","@types/jest":"^29.5.12","@types/uuid":"^10.0.0","eslint":"^9.11.1","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","jest":"^29.7.0","jest-environment-jsdom":"^30.0.2","ts-jest":"^29.2.5"},"dependencies":{"@types/events":"^3.0.3","bowser":"^2.11.0","clone-deep":"^4.0.1","events":"^3.3.0","typed-emitter":"^2.1.0","uuid":"^10.0.0"}}');var Zm={},aD={};jt(aD,"TransportStateEnum",()=>J0);var J0;(function(t){t.DISCONNECTED="disconnected",t.INITIALIZING="initializing",t.INITIALIZED="initialized",t.AUTHENTICATING="authenticating",t.AUTHENTICATED="authenticated",t.CONNECTING="connecting",t.CONNECTED="connected",t.READY="ready",t.DISCONNECTING="disconnecting",t.ERROR="error"})(J0||(J0={}));var Ir={};jt(Ir,"RTVIError",()=>vi);jt(Ir,"ConnectionTimeoutError",()=>Wz);jt(Ir,"StartBotError",()=>oD);jt(Ir,"TransportStartError",()=>Y0);jt(Ir,"InvalidTransportParamsError",()=>Gz);jt(Ir,"BotNotReadyError",()=>cD);jt(Ir,"BotAlreadyStartedError",()=>lD);jt(Ir,"UnsupportedFeatureError",()=>zp);jt(Ir,"DeviceError",()=>ls);class vi extends Error{constructor(e,n){super(e),this.status=n}}class Wz extends vi{constructor(e){super(e??"Bot did not enter ready state within the specified timeout period.")}}class oD extends vi{constructor(e,n){super(e??"Failed to connect / invalid auth bundle from base url",n??500),this.error="invalid-request-error"}}class Y0 extends vi{constructor(e){super(e??"Unable to connect to transport")}}class Gz extends vi{constructor(e){super(e??"Invalid transport connection parameters")}}class cD extends vi{constructor(e){super(e??"Attempt to call action on transport when not in 'ready' state.")}}class lD extends vi{constructor(e){super(e??"Pipecat client has already been started. Please call disconnect() before starting again.")}}class zp extends vi{constructor(e,n,i){let r=`${e} not supported${i?`: ${i}`:""}`;n&&(r=`${n} does not support ${e}${i?`: ${i}`:""}`),super(r),this.feature=e}}class ls extends vi{constructor(e,n,i,r){super(i??`Device error for ${e.join(", ")}: ${n}`),this.devices=e,this.type=n,this.details=r}}var uD={};jt(uD,"RTVIEvent",()=>fe);var fe;(function(t){t.Connected="connected",t.Disconnected="disconnected",t.TransportStateChanged="transportStateChanged",t.BotStarted="botStarted",t.BotConnected="botConnected",t.BotReady="botReady",t.BotDisconnected="botDisconnected",t.Error="error",t.ServerMessage="serverMessage",t.ServerResponse="serverResponse",t.MessageError="messageError",t.Metrics="metrics",t.BotStartedSpeaking="botStartedSpeaking",t.BotStoppedSpeaking="botStoppedSpeaking",t.UserStartedSpeaking="userStartedSpeaking",t.UserStoppedSpeaking="userStoppedSpeaking",t.UserTranscript="userTranscript",t.BotOutput="botOutput",t.BotTranscript="botTranscript",t.BotLlmText="botLlmText",t.BotLlmStarted="botLlmStarted",t.BotLlmStopped="botLlmStopped",t.LLMFunctionCall="llmFunctionCall",t.BotLlmSearchResponse="botLlmSearchResponse",t.BotTtsText="botTtsText",t.BotTtsStarted="botTtsStarted",t.BotTtsStopped="botTtsStopped",t.ParticipantConnected="participantConnected",t.ParticipantLeft="participantLeft",t.TrackStarted="trackStarted",t.TrackStopped="trackStopped",t.ScreenTrackStarted="screenTrackStarted",t.ScreenTrackStopped="screenTrackStopped",t.ScreenShareError="screenShareError",t.LocalAudioLevel="localAudioLevel",t.RemoteAudioLevel="remoteAudioLevel",t.AvailableCamsUpdated="availableCamsUpdated",t.AvailableMicsUpdated="availableMicsUpdated",t.AvailableSpeakersUpdated="availableSpeakersUpdated",t.CamUpdated="camUpdated",t.MicUpdated="micUpdated",t.SpeakerUpdated="speakerUpdated",t.DeviceError="deviceError"})(fe||(fe={}));var Qo={};jt(Qo,"RTVI_PROTOCOL_VERSION",()=>dD);jt(Qo,"RTVI_MESSAGE_LABEL",()=>fD);jt(Qo,"RTVIMessageType",()=>Ke);jt(Qo,"AggregationType",()=>K0);jt(Qo,"setAboutClient",()=>Rw);jt(Qo,"RTVIMessage",()=>Zn);const dD="1.0.0",fD="rtvi-ai";var Ke;(function(t){t.CLIENT_READY="client-ready",t.DISCONNECT_BOT="disconnect-bot",t.CLIENT_MESSAGE="client-message",t.SEND_TEXT="send-text",t.APPEND_TO_CONTEXT="append-to-context",t.BOT_READY="bot-ready",t.ERROR="error",t.METRICS="metrics",t.SERVER_MESSAGE="server-message",t.SERVER_RESPONSE="server-response",t.ERROR_RESPONSE="error-response",t.APPEND_TO_CONTEXT_RESULT="append-to-context-result",t.USER_TRANSCRIPTION="user-transcription",t.BOT_OUTPUT="bot-output",t.BOT_TRANSCRIPTION="bot-transcription",t.USER_STARTED_SPEAKING="user-started-speaking",t.USER_STOPPED_SPEAKING="user-stopped-speaking",t.BOT_STARTED_SPEAKING="bot-started-speaking",t.BOT_STOPPED_SPEAKING="bot-stopped-speaking",t.USER_LLM_TEXT="user-llm-text",t.BOT_LLM_TEXT="bot-llm-text",t.BOT_LLM_STARTED="bot-llm-started",t.BOT_LLM_STOPPED="bot-llm-stopped",t.LLM_FUNCTION_CALL="llm-function-call",t.LLM_FUNCTION_CALL_RESULT="llm-function-call-result",t.BOT_LLM_SEARCH_RESPONSE="bot-llm-search-response",t.BOT_TTS_TEXT="bot-tts-text",t.BOT_TTS_STARTED="bot-tts-started",t.BOT_TTS_STOPPED="bot-tts-stopped"})(Ke||(Ke={}));var K0;(function(t){t.WORD="word",t.SENTENCE="sentence"})(K0||(K0={}));let rd;function Rw(t){rd?rd={...rd,...t}:rd=t}class Zn{constructor(e,n,i){this.label=fD,this.type=e,this.data=n,this.id=i||Bz().slice(0,8)}static clientReady(){return new Zn(Ke.CLIENT_READY,{version:dD,about:rd||{library:wl.name,library_version:wl.version}})}static disconnectBot(){return new Zn(Ke.DISCONNECT_BOT,{})}static error(e,n=!1){return new Zn(Ke.ERROR,{message:e,fatal:n})}}Lr(Zm,aD);Lr(Zm,Ir);Lr(Zm,uD);Lr(Zm,Qo);function Gd(t,e,n){const i=n.value;return n.value=function(...r){if(this.state==="ready")return i.apply(this,r);throw new cD(`Attempt to call ${e.toString()} when transport not in ready state. Await connect() first.`)},n}function Dw(t,e,n){const i=n.value,r=["authenticating","connecting","connected","ready"];return n.value=function(...s){if(r.includes(this.state))throw new lD(`Attempt to call ${e.toString()} when client already started. Please call disconnect() before starting again.`);return i.apply(this,s)},n}var hD={};jt(hD,"MessageDispatcher",()=>pD);var Pw={};jt(Pw,"LogLevel",()=>ga);jt(Pw,"logger",()=>Xe);var ga;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARN=2]="WARN",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(ga||(ga={}));class sl{constructor(){this.level=ga.DEBUG}static getInstance(){return sl.instance||(sl.instance=new sl),sl.instance}setLevel(e){this.level=e}debug(...e){this.level>=ga.DEBUG&&console.debug(...e)}info(...e){this.level>=ga.INFO&&console.info(...e)}warn(...e){this.level>=ga.WARN&&console.warn(...e)}error(...e){this.level>=ga.ERROR&&console.error(...e)}}const Xe=sl.getInstance();class pD{constructor(e){this._queue=new Array,this._gcInterval=void 0,this._queue=[],this._sendMethod=e}disconnect(){this.clearQueue(),clearInterval(this._gcInterval),this._gcInterval=void 0}dispatch(e,n=Ke.CLIENT_MESSAGE,i=1e4){this._gcInterval||(this._gcInterval=setInterval(()=>{this._gc()},2e3));const r=new Zn(n,e),s=new Promise((o,l)=>{this._queue.push({message:r,timestamp:Date.now(),timeout:i,resolve:o,reject:l})});Xe.debug("[MessageDispatcher] dispatch",r);try{this._sendMethod(r)}catch(o){return Xe.error("[MessageDispatcher] Error sending message",o),Promise.reject(o)}return this._gc(),s}clearQueue(){this._queue=[]}_resolveReject(e,n=!0){const i=this._queue.find(r=>r.message.id===e.id);return i&&(n?(Xe.debug("[MessageDispatcher] Resolve",e),i.resolve(e)):(Xe.debug("[MessageDispatcher] Reject",e),i.reject(e)),this._queue=this._queue.filter(r=>r.message.id!==e.id),Xe.debug("[MessageDispatcher] Queue",this._queue)),e}resolve(e){return this._resolveReject(e,!0)}reject(e){return this._resolveReject(e,!1)}_gc(){const e=[];this._queue=this._queue.filter(n=>{const i=Date.now()-n.timestamp<n.timeout;return i||e.push(n),i}),e.forEach(n=>{n.message.type===Ke.CLIENT_MESSAGE&&n.reject(new Zn(Ke.ERROR_RESPONSE,{error:"Timed out waiting for response",msgType:n.message.data.t,data:n.message.data.d,fatal:!1}))}),Xe.debug("[MessageDispatcher] GC",this._queue)}}var Nw={};jt(Nw,"isAPIRequest",()=>mD);jt(Nw,"makeRequest",()=>gD);function mD(t){if(typeof t=="object"&&t!==null&&Object.keys(t).includes("endpoint")){const e=t.endpoint;return typeof e=="string"||e instanceof URL||typeof Request<"u"&&e instanceof Request}return!1}async function gD(t,e){e||(e=new AbortController);let n;return new Promise((i,r)=>{(async()=>(t.timeout&&(n=setTimeout(async()=>{e.abort(),r(new Error("Timed out"))},t.timeout)),Xe.debug(`[Pipecat Client] Fetching from ${t.endpoint}`),fetch(t.endpoint,{method:"POST",mode:"cors",headers:new Headers({"Content-Type":"application/json",...Object.fromEntries((t.headers??new Headers).entries())}),body:JSON.stringify(t.requestData),signal:e==null?void 0:e.signal}).then(s=>{Xe.debug(`[Pipecat Client] Received response from ${t.endpoint}`,s),s.ok||r(s),s.json().then(o=>i(o))}).catch(s=>{Xe.error(`[Pipecat Client] Error fetching: ${s}`),r(s)}).finally(()=>{n&&clearTimeout(n)})))()})}var jw={};jt(jw,"Transport",()=>vD);jt(jw,"TransportWrapper",()=>yD);class vD{constructor(){this._state="disconnected"}connect(e){this._abortController=new AbortController;let n=e;try{n=this._validateConnectionParams(e)}catch(i){throw new vi(`Invalid connection params: ${i.message}. Please check your connection params and try again.`)}return this._connect(n)}get startBotParams(){return this._startBotParams}set startBotParams(e){this._startBotParams=e}disconnect(){return this._abortController&&this._abortController.abort(),this._disconnect()}}class yD{constructor(e){this._transport=e,this._proxy=new Proxy(this._transport,{get:(n,i,r)=>{if(typeof n[i]=="function"){let s;switch(String(i)){case"initialize":s="Direct calls to initialize() are disabled and used internally by the PipecatClient.";break;case"initDevices":s="Direct calls to initDevices() are disabled. Please use the PipecatClient.initDevices() wrapper or let PipecatClient.connect() call it for you.";break;case"sendReadyMessage":s="Direct calls to sendReadyMessage() are disabled and used internally by the PipecatClient.";break;case"connect":s="Direct calls to connect() are disabled. Please use the PipecatClient.connect() wrapper.";break;case"disconnect":s="Direct calls to disconnect() are disabled. Please use the PipecatClient.disconnect() wrapper.";break}return s?()=>{throw new Error(s)}:(...o)=>n[i](...o)}return Reflect.get(n,i,r)}})}get proxy(){return this._proxy}}var bD={};jt(bD,"learnAboutClient",()=>_D);function _D(){var n,i,r,s,o,l;let t={library:wl.name,library_version:wl.version,platform_details:{}},e=null;if((n=window==null?void 0:window.navigator)!=null&&n.userAgent)try{e=Hz.parse(window.navigator.userAgent)}catch{}return(i=e==null?void 0:e.browser)!=null&&i.name&&(t.platform_details.browser=e.browser.name),((r=e==null?void 0:e.browser)==null?void 0:r.name)==="Safari"&&!e.browser.version?t.platform_details.browser_version="Web View":(s=e==null?void 0:e.browser)!=null&&s.version&&(t.platform_details.browser_version=e.browser.version),(o=e==null?void 0:e.platform)!=null&&o.type&&(t.platform_details.platform_type=e.platform.type),(l=e==null?void 0:e.engine)!=null&&l.name&&(t.platform_details.engine=e.engine.name),e!=null&&e.os&&(t.platform=e.os.name,t.platform_version=e.os.version),t}var Pa=function(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};class Jz extends Pz{}class hr extends Jz{constructor(e){super(),this._functionCallCallbacks={},this._botTranscriptionWarned=!1,Rw(_D()),this._transport=e.transport,this._transportWrapper=new yD(this._transport);const n={...e.callbacks,onMessageError:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onMessageError)==null||s.call(r,i),this.emit(fe.MessageError,i)},onError:i=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onError)==null||o.call(s,i);try{this.emit(fe.Error,i)}catch{Xe.debug("Could not emit error",i)}const r=i.data;r!=null&&r.fatal&&(Xe.error("Fatal error reported. Disconnecting..."),this.disconnect())},onConnected:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onConnected)==null||r.call(i),this.emit(fe.Connected)},onDisconnected:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onDisconnected)==null||r.call(i),this.emit(fe.Disconnected)},onTransportStateChanged:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onTransportStateChanged)==null||s.call(r,i),this.emit(fe.TransportStateChanged,i)},onParticipantJoined:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onParticipantJoined)==null||s.call(r,i),this.emit(fe.ParticipantConnected,i)},onParticipantLeft:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onParticipantLeft)==null||s.call(r,i),this.emit(fe.ParticipantLeft,i)},onTrackStarted:(i,r)=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onTrackStarted)==null||o.call(s,i,r),this.emit(fe.TrackStarted,i,r)},onTrackStopped:(i,r)=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onTrackStopped)==null||o.call(s,i,r),this.emit(fe.TrackStopped,i,r)},onScreenTrackStarted:(i,r)=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onScreenTrackStarted)==null||o.call(s,i,r),this.emit(fe.ScreenTrackStarted,i,r)},onScreenTrackStopped:(i,r)=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onScreenTrackStopped)==null||o.call(s,i,r),this.emit(fe.ScreenTrackStopped,i,r)},onScreenShareError:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onScreenShareError)==null||s.call(r,i),this.emit(fe.ScreenShareError,i)},onAvailableCamsUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onAvailableCamsUpdated)==null||s.call(r,i),this.emit(fe.AvailableCamsUpdated,i)},onAvailableMicsUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onAvailableMicsUpdated)==null||s.call(r,i),this.emit(fe.AvailableMicsUpdated,i)},onAvailableSpeakersUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onAvailableSpeakersUpdated)==null||s.call(r,i),this.emit(fe.AvailableSpeakersUpdated,i)},onCamUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onCamUpdated)==null||s.call(r,i),this.emit(fe.CamUpdated,i)},onMicUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onMicUpdated)==null||s.call(r,i),this.emit(fe.MicUpdated,i)},onSpeakerUpdated:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onSpeakerUpdated)==null||s.call(r,i),this.emit(fe.SpeakerUpdated,i)},onDeviceError:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onDeviceError)==null||s.call(r,i),this.emit(fe.DeviceError,i)},onBotStarted:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotStarted)==null||s.call(r,i),this.emit(fe.BotStarted,i)},onBotConnected:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotConnected)==null||s.call(r,i),this.emit(fe.BotConnected,i)},onBotReady:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotReady)==null||s.call(r,i),this.emit(fe.BotReady,i)},onBotDisconnected:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotDisconnected)==null||s.call(r,i),this.emit(fe.BotDisconnected,i)},onBotStartedSpeaking:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotStartedSpeaking)==null||r.call(i),this.emit(fe.BotStartedSpeaking)},onBotStoppedSpeaking:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotStoppedSpeaking)==null||r.call(i),this.emit(fe.BotStoppedSpeaking)},onRemoteAudioLevel:(i,r)=>{var s,o;(o=(s=e==null?void 0:e.callbacks)==null?void 0:s.onRemoteAudioLevel)==null||o.call(s,i,r),this.emit(fe.RemoteAudioLevel,i,r)},onUserStartedSpeaking:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onUserStartedSpeaking)==null||r.call(i),this.emit(fe.UserStartedSpeaking)},onUserStoppedSpeaking:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onUserStoppedSpeaking)==null||r.call(i),this.emit(fe.UserStoppedSpeaking)},onLocalAudioLevel:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onLocalAudioLevel)==null||s.call(r,i),this.emit(fe.LocalAudioLevel,i)},onUserTranscript:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onUserTranscript)==null||s.call(r,i),this.emit(fe.UserTranscript,i)},onBotOutput:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotOutput)==null||s.call(r,i),this.emit(fe.BotOutput,i)},onBotTranscript:i=>{var r,s;this._botTranscriptionWarned||(Xe.warn("[Pipecat Client] Bot transcription is deprecated. Please use the onBotOutput instead."),this._botTranscriptionWarned=!0),(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotTranscript)==null||s.call(r,i),this.emit(fe.BotTranscript,i)},onBotLlmText:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotLlmText)==null||s.call(r,i),this.emit(fe.BotLlmText,i)},onBotLlmStarted:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotLlmStarted)==null||r.call(i),this.emit(fe.BotLlmStarted)},onBotLlmStopped:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotLlmStopped)==null||r.call(i),this.emit(fe.BotLlmStopped)},onBotTtsText:i=>{var r,s;(s=(r=e==null?void 0:e.callbacks)==null?void 0:r.onBotTtsText)==null||s.call(r,i),this.emit(fe.BotTtsText,i)},onBotTtsStarted:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotTtsStarted)==null||r.call(i),this.emit(fe.BotTtsStarted)},onBotTtsStopped:()=>{var i,r;(r=(i=e==null?void 0:e.callbacks)==null?void 0:i.onBotTtsStopped)==null||r.call(i),this.emit(fe.BotTtsStopped)}};this._options={...e,callbacks:n,enableMic:e.enableMic??!0,enableCam:e.enableCam??!1,enableScreenShare:e.enableScreenShare??!1},this._initialize(),Xe.debug("[Pipecat Client] Initialized",this.version)}setLogLevel(e){Xe.setLevel(e)}async initDevices(){Xe.debug("[Pipecat Client] Initializing devices..."),await this._transport.initDevices()}async startBot(e){var i,r,s,o;this._transport.state="authenticating",this._transport.startBotParams=e,this._abortController=new AbortController;let n;try{n=await gD(e,this._abortController)}catch(l){let u="An unknown error occurred while starting the bot.",f;if(l instanceof Response){const p=await l.json();u=p.info??p.detail??l.statusText,f=l.status}else l instanceof Error&&(u=l.message);throw(r=(i=this._options.callbacks)==null?void 0:i.onError)==null||r.call(i,new Zn(Ke.ERROR_RESPONSE,{message:u,fatal:!0})),new oD(u,f)}return this._transport.state="authenticated",(o=(s=this._options.callbacks)==null?void 0:s.onBotStarted)==null||o.call(s,n),n}async connect(e){return e&&mD(e)?(Xe.warn("Calling connect with an API endpoint is deprecated. Use startBotAndConnect() instead."),this.startBotAndConnect(e)):new Promise((n,i)=>{(async()=>{this._connectResolve=n,this._transport.state==="disconnected"&&await this._transport.initDevices();try{await this._transport.connect(e),await this._transport.sendReadyMessage()}catch(r){this.disconnect(),i(r);return}})()})}async startBotAndConnect(e){this._transport.state==="disconnected"&&await this._transport.initDevices();const n=await this.startBot(e);return this.connect(n)}async disconnect(){await this._transport.disconnect(),this._messageDispatcher.disconnect()}_initialize(){this._transport.initialize(this._options,this.handleMessage.bind(this)),this._messageDispatcher=new pD(this._transport.sendMessage.bind(this._transport))}get connected(){return["connected","ready"].includes(this._transport.state)}get transport(){return this._transportWrapper.proxy}get state(){return this._transport.state}get version(){return qz(wl).version}async getAllMics(){return await this._transport.getAllMics()}async getAllCams(){return await this._transport.getAllCams()}async getAllSpeakers(){return await this._transport.getAllSpeakers()}get selectedMic(){return this._transport.selectedMic}get selectedCam(){return this._transport.selectedCam}get selectedSpeaker(){return this._transport.selectedSpeaker}updateMic(e){this._transport.updateMic(e)}updateCam(e){this._transport.updateCam(e)}updateSpeaker(e){this._transport.updateSpeaker(e)}enableMic(e){this._transport.enableMic(e)}get isMicEnabled(){return this._transport.isMicEnabled}enableCam(e){this._transport.enableCam(e)}get isCamEnabled(){return this._transport.isCamEnabled}tracks(){return this._transport.tracks()}enableScreenShare(e){return this._transport.enableScreenShare(e)}get isSharingScreen(){return this._transport.isSharingScreen}sendClientMessage(e,n){this._transport.sendMessage(new Zn(Ke.CLIENT_MESSAGE,{t:e,d:n}))}async sendClientRequest(e,n,i){const r={t:e,d:n};return(await this._messageDispatcher.dispatch(r,Ke.CLIENT_MESSAGE,i)).data.d}registerFunctionCallHandler(e,n){this._functionCallCallbacks[e]=n}unregisterFunctionCallHandler(e){delete this._functionCallCallbacks[e]}unregisterAllFunctionCallHandlers(){this._functionCallCallbacks={}}async appendToContext(e){return Xe.warn("appendToContext() is deprecated. Use sendText() instead."),await this._transport.sendMessage(new Zn(Ke.APPEND_TO_CONTEXT,{role:e.role,content:e.content,run_immediately:e.run_immediately})),!0}async sendText(e,n={}){await this._transport.sendMessage(new Zn(Ke.SEND_TEXT,{content:e,options:n}))}disconnectBot(){this._transport.sendMessage(new Zn(Ke.DISCONNECT_BOT,{}))}handleMessage(e){var n,i,r,s,o,l,u,f,p,g,v,S,k,w,C,T,D,P,j,N,B,L,z,W,J,Z,re,ye,ue,he,H,te,Y,se,we,V,Q,h,b,_,O;switch(Xe.debug("[RTVI Message]",e),e.type){case Ke.BOT_READY:{const A=e.data,I=A.version?A.version.split(".").map(Number):[0,0,0];Xe.debug(`[Pipecat Client] Bot is ready. Version: ${A.version}`),I[0]<1&&Xe.warn("[Pipecat Client] Bot version is less than 1.0.0, which may not be compatible with this client."),(n=this._connectResolve)==null||n.call(this,e.data),(r=(i=this._options.callbacks)==null?void 0:i.onBotReady)==null||r.call(i,e.data);break}case Ke.ERROR:(o=(s=this._options.callbacks)==null?void 0:s.onError)==null||o.call(s,e);break;case Ke.SERVER_RESPONSE:this._messageDispatcher.resolve(e);break;case Ke.ERROR_RESPONSE:{const A=this._messageDispatcher.reject(e);(u=(l=this._options.callbacks)==null?void 0:l.onMessageError)==null||u.call(l,A);break}case Ke.USER_STARTED_SPEAKING:(p=(f=this._options.callbacks)==null?void 0:f.onUserStartedSpeaking)==null||p.call(f);break;case Ke.USER_STOPPED_SPEAKING:(v=(g=this._options.callbacks)==null?void 0:g.onUserStoppedSpeaking)==null||v.call(g);break;case Ke.BOT_STARTED_SPEAKING:(k=(S=this._options.callbacks)==null?void 0:S.onBotStartedSpeaking)==null||k.call(S);break;case Ke.BOT_STOPPED_SPEAKING:(C=(w=this._options.callbacks)==null?void 0:w.onBotStoppedSpeaking)==null||C.call(w);break;case Ke.USER_TRANSCRIPTION:{const A=e.data;(D=(T=this._options.callbacks)==null?void 0:T.onUserTranscript)==null||D.call(T,A);break}case Ke.BOT_OUTPUT:(j=(P=this._options.callbacks)==null?void 0:P.onBotOutput)==null||j.call(P,e.data);break;case Ke.BOT_TRANSCRIPTION:(B=(N=this._options.callbacks)==null?void 0:N.onBotTranscript)==null||B.call(N,e.data);break;case Ke.BOT_LLM_TEXT:(z=(L=this._options.callbacks)==null?void 0:L.onBotLlmText)==null||z.call(L,e.data);break;case Ke.BOT_LLM_STARTED:(J=(W=this._options.callbacks)==null?void 0:W.onBotLlmStarted)==null||J.call(W);break;case Ke.BOT_LLM_STOPPED:(re=(Z=this._options.callbacks)==null?void 0:Z.onBotLlmStopped)==null||re.call(Z);break;case Ke.BOT_TTS_TEXT:(ue=(ye=this._options.callbacks)==null?void 0:ye.onBotTtsText)==null||ue.call(ye,e.data);break;case Ke.BOT_TTS_STARTED:(H=(he=this._options.callbacks)==null?void 0:he.onBotTtsStarted)==null||H.call(he);break;case Ke.BOT_TTS_STOPPED:(Y=(te=this._options.callbacks)==null?void 0:te.onBotTtsStopped)==null||Y.call(te);break;case Ke.METRICS:(we=(se=this._options.callbacks)==null?void 0:se.onMetrics)==null||we.call(se,e.data),this.emit(fe.Metrics,e.data);break;case Ke.SERVER_MESSAGE:(Q=(V=this._options.callbacks)==null?void 0:V.onServerMessage)==null||Q.call(V,e.data),this.emit(fe.ServerMessage,e.data);break;case Ke.LLM_FUNCTION_CALL:{const A=e.data,I=this._functionCallCallbacks[A.function_name];if(I){const F={functionName:A.function_name,arguments:A.args};I(F).then(U=>{U!=null&&this._transport.sendMessage(new Zn(Ke.LLM_FUNCTION_CALL_RESULT,{function_name:A.function_name,tool_call_id:A.tool_call_id,arguments:A.args,result:U}))})}(b=(h=this._options.callbacks)==null?void 0:h.onLLMFunctionCall)==null||b.call(h,A),this.emit(fe.LLMFunctionCall,A);break}case Ke.BOT_LLM_SEARCH_RESPONSE:{const A=e.data;(O=(_=this._options.callbacks)==null?void 0:_.onBotLlmSearchResponse)==null||O.call(_,A),this.emit(fe.BotLlmSearchResponse,A);break}default:Xe.debug("[Pipecat Client] Unrecognized message type",e.type);break}}}Pa([Dw],hr.prototype,"startBot",null);Pa([Dw],hr.prototype,"connect",null);Pa([Dw],hr.prototype,"startBotAndConnect",null);Pa([Gd],hr.prototype,"sendClientMessage",null);Pa([Gd],hr.prototype,"sendClientRequest",null);Pa([Gd],hr.prototype,"appendToContext",null);Pa([Gd],hr.prototype,"sendText",null);Pa([Gd],hr.prototype,"disconnectBot",null);Lr($l,sD);Lr($l,hD);Lr($l,Pw);Lr($l,Nw);Lr($l,jw);Lr($l,bD);function yM(t,e){if(t==null)return{};var n,i,r=function(o,l){if(o==null)return{};var u={};for(var f in o)if({}.hasOwnProperty.call(o,f)){if(l.indexOf(f)!==-1)continue;u[f]=o[f]}return u}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t){return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(t)}function wD(t){var e=function(n,i){if(ct(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,i);if(ct(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return ct(e)=="symbol"?e:e+""}function bM(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,wD(i.key),i)}}function _i(t,e,n){return e&&bM(t.prototype,e),n&&bM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eg(t,e){if(e&&(ct(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(t)}function Od(t,e){return Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Od(t,e)}function tg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Od(t,e)}function Er(t,e,n){return(e=wD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _M(t,e,n,i,r,s,o){try{var l=t[s](o),u=l.value}catch(f){return void n(f)}l.done?e(u):Promise.resolve(u).then(i,r)}function Le(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var s=t.apply(e,n);function o(u){_M(s,i,r,o,l,"next",u)}function l(u){_M(s,i,r,o,l,"throw",u)}o(void 0)})}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function En(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var s,o,l,u,f=[],p=!0,g=!1;try{if(l=(r=r.call(n)).next,i===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(s=l.call(r)).done)&&(f.push(s.value),f.length!==i);p=!0);}catch(v){g=!0,o=v}finally{try{if(!p&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(g)throw o}}return f}}(t,e)||function(n,i){if(n){if(typeof n=="string")return wM(n,i);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wM(n,i):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SM,jh={exports:{}},X0=function(){if(SM)return jh.exports;SM=1;var t,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(w,C,T){return Function.prototype.apply.call(w,C,T)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var i=Number.isNaN||function(w){return w!=w};function r(){r.init.call(this)}jh.exports=r,jh.exports.once=function(w,C){return new Promise(function(T,D){function P(N){w.removeListener(C,j),D(N)}function j(){typeof w.removeListener=="function"&&w.removeListener("error",P),T([].slice.call(arguments))}k(w,C,j,{once:!0}),C!=="error"&&function(N,B,L){typeof N.on=="function"&&k(N,"error",B,L)}(w,P,{once:!0})})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var s=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function l(w){return w._maxListeners===void 0?r.defaultMaxListeners:w._maxListeners}function u(w,C,T,D){var P,j,N,B;if(o(T),(j=w._events)===void 0?(j=w._events=Object.create(null),w._eventsCount=0):(j.newListener!==void 0&&(w.emit("newListener",C,T.listener?T.listener:T),j=w._events),N=j[C]),N===void 0)N=j[C]=T,++w._eventsCount;else if(typeof N=="function"?N=j[C]=D?[T,N]:[N,T]:D?N.unshift(T):N.push(T),(P=l(w))>0&&N.length>P&&!N.warned){N.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=w,L.type=C,L.count=N.length,B=L,console&&console.warn&&console.warn(B)}return w}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(w,C,T){var D={fired:!1,wrapFn:void 0,target:w,type:C,listener:T},P=f.bind(D);return P.listener=T,D.wrapFn=P,P}function g(w,C,T){var D=w._events;if(D===void 0)return[];var P=D[C];return P===void 0?[]:typeof P=="function"?T?[P.listener||P]:[P]:T?function(j){for(var N=new Array(j.length),B=0;B<N.length;++B)N[B]=j[B].listener||j[B];return N}(P):S(P,P.length)}function v(w){var C=this._events;if(C!==void 0){var T=C[w];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}function S(w,C){for(var T=new Array(C),D=0;D<C;++D)T[D]=w[D];return T}function k(w,C,T,D){if(typeof w.on=="function")D.once?w.once(C,T):w.on(C,T);else{if(typeof w.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w);w.addEventListener(C,function P(j){D.once&&w.removeEventListener(C,P),T(j)})}}return Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(w){for(var C=[],T=1;T<arguments.length;T++)C.push(arguments[T]);var D=w==="error",P=this._events;if(P!==void 0)D=D&&P.error===void 0;else if(!D)return!1;if(D){var j;if(C.length>0&&(j=C[0]),j instanceof Error)throw j;var N=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw N.context=j,N}var B=P[w];if(B===void 0)return!1;if(typeof B=="function")n(B,this,C);else{var L=B.length,z=S(B,L);for(T=0;T<L;++T)n(z[T],this,C)}return!0},r.prototype.addListener=function(w,C){return u(this,w,C,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(w,C){return u(this,w,C,!0)},r.prototype.once=function(w,C){return o(C),this.on(w,p(this,w,C)),this},r.prototype.prependOnceListener=function(w,C){return o(C),this.prependListener(w,p(this,w,C)),this},r.prototype.removeListener=function(w,C){var T,D,P,j,N;if(o(C),(D=this._events)===void 0)return this;if((T=D[w])===void 0)return this;if(T===C||T.listener===C)--this._eventsCount==0?this._events=Object.create(null):(delete D[w],D.removeListener&&this.emit("removeListener",w,T.listener||C));else if(typeof T!="function"){for(P=-1,j=T.length-1;j>=0;j--)if(T[j]===C||T[j].listener===C){N=T[j].listener,P=j;break}if(P<0)return this;P===0?T.shift():function(B,L){for(;L+1<B.length;L++)B[L]=B[L+1];B.pop()}(T,P),T.length===1&&(D[w]=T[0]),D.removeListener!==void 0&&this.emit("removeListener",w,N||C)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(w){var C,T,D;if((T=this._events)===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete T[w]),this;if(arguments.length===0){var P,j=Object.keys(T);for(D=0;D<j.length;++D)(P=j[D])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(C=T[w])=="function")this.removeListener(w,C);else if(C!==void 0)for(D=C.length-1;D>=0;D--)this.removeListener(w,C[D]);return this},r.prototype.listeners=function(w){return g(this,w,!0)},r.prototype.rawListeners=function(w){return g(this,w,!1)},r.listenerCount=function(w,C){return typeof w.listenerCount=="function"?w.listenerCount(C):v.call(w,C)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},jh.exports}(),Lh=Yz(X0),xM=Object.prototype.hasOwnProperty;function kM(t,e,n){for(n of t.keys())if(Bn(n,e))return n}function Bn(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Bn(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if((r=i)&&typeof r=="object"&&!(r=kM(e,r))||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if((r=i[0])&&typeof r=="object"&&!(r=kM(e,r))||!Bn(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){for(n in i=0,t)if(xM.call(t,n)&&++i&&!xM.call(e,n)||!(n in e)||!Bn(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!=t&&e!=e}const Kz={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},SD={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Yt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},jn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},la={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let be=class il{static getFirstMatch(e,n){const i=n.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,n){const i=n.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,n,i){if(e.test(n))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,i=!1){const r=il.getVersionPrecision(e),s=il.getVersionPrecision(n);let o=Math.max(r,s),l=0;const u=il.map([e,n],f=>{const p=o-il.getVersionPrecision(f),g=f+new Array(p+1).join(".0");return il.map(g.split("."),v=>new Array(20-v.length).join("0")+v).reverse()});for(i&&(l=o-Math.min(r,s)),o-=1;o>=l;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===l)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const i=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(r=0;r<e.length;r+=1)i.push(n(e[r]));return i}static find(e,n){let i,r;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(i=0,r=e.length;i<r;i+=1){const s=e[i];if(n(s,i))return s}}static assign(e,...n){const i=e;let r,s;if(Object.assign)return Object.assign(e,...n);for(r=0,s=n.length;r<s;r+=1){const o=n[r];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{i[l]=o[l]})}return e}static getBrowserAlias(e){return Kz[e]}static getBrowserTypeByAlias(e){return SD[e]||""}};const Mt=/version\/(\d+(\.?_?\d+)+)/i,Xz=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=be.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=be.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=be.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=be.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=be.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=be.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=be.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=be.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=be.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=be.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=be.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=be.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=be.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=be.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=be.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=be.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=be.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=be.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=be.getFirstMatch(Mt,t)||be.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=be.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=be.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=be.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=be.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=be.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=be.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=be.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=be.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=be.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=be.getFirstMatch(Mt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:be.getFirstMatch(e,t),version:be.getSecondMatch(e,t)}}}];var Qz=[{test:[/Roku\/DVP/],describe(t){const e=be.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:jn.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=be.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:jn.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=be.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=be.getWindowsVersionName(e);return{name:jn.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:jn.iOS},n=be.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=be.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=be.getMacOSVersionName(e),i={name:jn.MacOS,version:e};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=be.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:jn.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=be.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=be.getAndroidVersionName(e),i={name:jn.Android,version:e};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=be.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:jn.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=be.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||be.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||be.getFirstMatch(/\bbb(\d+)/i,t);return{name:jn.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=be.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:jn.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=be.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:jn.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:jn.Linux})},{test:[/CrOS/],describe:()=>({name:jn.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=be.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:jn.PlayStation4,version:e}}}],Zz=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=be.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Yt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Yt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Yt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Yt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Yt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Yt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Yt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=be.getFirstMatch(/(ipod|iphone)/i,t);return{type:Yt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Yt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Yt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Yt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Yt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Yt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Yt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Yt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Yt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Yt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Yt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Yt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Yt.tv})}],e4=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:la.Blink};const e=be.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:la.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:la.Trident},n=be.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:la.Presto},n=be.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:la.Gecko},n=be.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:la.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:la.WebKit},n=be.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];let CM=class{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=be.find(Xz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=be.find(Qz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=be.find(Zz,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=be.find(e4,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return be.assign({},this.parsedResult)}satisfies(e){const n={};let i=0;const r={};let s=0;if(Object.keys(e).forEach(o=>{const l=e[o];typeof l=="string"?(r[o]=l,s+=1):typeof l=="object"&&(n[o]=l,i+=1)}),i>0){const o=Object.keys(n),l=be.find(o,f=>this.isOS(f));if(l){const f=this.satisfies(n[l]);if(f!==void 0)return f}const u=be.find(o,f=>this.isPlatform(f));if(u){const f=this.satisfies(n[u]);if(f!==void 0)return f}}if(s>0){const o=Object.keys(r),l=be.find(o,u=>this.isBrowser(u,!0));if(l!==void 0)return this.compareVersion(r[l])}}isBrowser(e,n=!1){const i=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const s=be.getBrowserTypeByAlias(r);return n&&s&&(r=s.toLowerCase()),r===i}compareVersion(e){let n=[0],i=e,r=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(i=e.substr(1),e[1]==="="?(r=!0,i=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?i=e.substr(1):e[0]==="~"&&(r=!0,i=e.substr(1)),n.indexOf(be.compareVersions(s,i,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let t4=class{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new CM(e,n)}static parse(e){return new CM(e).getResult()}static get BROWSER_MAP(){return SD}static get ENGINE_MAP(){return la}static get OS_MAP(){return jn}static get PLATFORMS_MAP(){return Yt}};function ng(){return Date.now()+Math.random().toString()}function Vu(){throw new Error("Method must be implemented in subclass")}function xD(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function sm(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:xD("https://c.daily.co/call-machine/versioned/".concat("0.83.1","/static/call-machine-object-bundle.js"),t)}function am(t){try{new URL(t)}catch{return!1}return!0}const Dt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ao="8.55.0",mt=globalThis;function om(t,e,n){const i=mt,r=i.__SENTRY__=i.__SENTRY__||{},s=r[Ao]=r[Ao]||{};return s[t]||(s[t]=e())}const Zo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Q0=["debug","info","warn","error","log","assert","trace"],cm={};function Jd(t){if(!("console"in mt))return t();const e=mt.console,n={},i=Object.keys(cm);i.forEach(r=>{const s=cm[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}const $e=om("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Zo?Q0.forEach(n=>{e[n]=(...i)=>{t&&Jd(()=>{mt.console[n](`Sentry Logger [${n}]:`,...i)})}}):Q0.forEach(n=>{e[n]=()=>{}}),e}),Co="?",MM=/\(error: (.*)\)/,EM=/captureMessage|captureException/;function Ih(t){return t[t.length-1]||{}}const TM="<anonymous>";function Ca(t){try{return t&&typeof t=="function"&&t.name||TM}catch{return TM}}function AM(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&n.push(...i.stacktrace.frames)}),n}catch{return}}}const Fp={},OM={};function Oo(t,e){Fp[t]=Fp[t]||[],Fp[t].push(e)}function Ro(t,e){if(!OM[t]){OM[t]=!0;try{e()}catch(n){Zo&&$e.error(`Error while instrumenting ${t}`,n)}}}function ar(t,e){const n=t&&Fp[t];if(n)for(const i of n)try{i(e)}catch(r){Zo&&$e.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ca(i)}
Error:`,r)}}let db=null;function n4(){db=mt.onerror,mt.onerror=function(t,e,n,i,r){return ar("error",{column:i,error:r,line:n,msg:t,url:e}),!!db&&db.apply(this,arguments)},mt.onerror.__SENTRY_INSTRUMENTED__=!0}let fb=null;function i4(){fb=mt.onunhandledrejection,mt.onunhandledrejection=function(t){return ar("unhandledrejection",t),!fb||fb.apply(this,arguments)},mt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ig(){return Lw(mt),mt}function Lw(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ao,e[Ao]=e[Ao]||{}}const kD=Object.prototype.toString;function Iw(t){switch(kD.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $o(t,Error)}}function zl(t,e){return kD.call(t)===`[object ${e}]`}function CD(t){return zl(t,"ErrorEvent")}function RM(t){return zl(t,"DOMError")}function vs(t){return zl(t,"String")}function Bw(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Z0(t){return t===null||Bw(t)||typeof t!="object"&&typeof t!="function"}function Sl(t){return zl(t,"Object")}function rg(t){return typeof Event<"u"&&$o(t,Event)}function sg(t){return!!(t&&t.then&&typeof t.then=="function")}function $o(t,e){try{return t instanceof e}catch{return!1}}function MD(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const $w=mt;function ED(t,e={}){if(!t)return"<unknown>";try{let n=t;const i=5,r=[];let s=0,o=0;const l=" > ",u=l.length;let f;const p=Array.isArray(e)?e:e.keyAttrs,g=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<i&&(f=r4(n,p),!(f==="html"||s>1&&o+r.length*u+f.length>=g));)r.push(f),o+=f.length,n=n.parentNode;return r.reverse().join(l)}catch{return"<unknown>"}}function r4(t,e){const n=t,i=[];if(!n||!n.tagName)return"";if($w.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const r=e&&e.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(r&&r.length)r.forEach(o=>{i.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&i.push(`#${n.id}`);const o=n.className;if(o&&vs(o)){const l=o.split(/\s+/);for(const u of l)i.push(`.${u}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const l=n.getAttribute(o);l&&i.push(`[${o}="${l}"]`)}return i.join("")}function fl(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function DM(t,e){if(!Array.isArray(t))return"";const n=[];for(let i=0;i<t.length;i++){const r=t[i];try{MD(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function s4(t,e,n=!1){return!!vs(t)&&(zl(e,"RegExp")?e.test(t):!!vs(e)&&(n?t===e:t.includes(e)))}function Bh(t,e=[],n=!1){return e.some(i=>s4(t,i,n))}function mi(t,e,n){if(!(e in t))return;const i=t[e],r=n(i);typeof r=="function"&&TD(r,i);try{t[e]=r}catch{Zo&&$e.log(`Failed to replace method "${e}" in object`,t)}}function zo(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Zo&&$e.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function TD(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,zo(t,"__sentry_original__",e)}catch{}}function zw(t){return t.__sentry_original__}function AD(t){if(Iw(t))return{message:t.message,name:t.name,stack:t.stack,...NM(t)};if(rg(t)){const e={type:t.type,target:PM(t.target),currentTarget:PM(t.currentTarget),...NM(t)};return typeof CustomEvent<"u"&&$o(t,CustomEvent)&&(e.detail=t.detail),e}return t}function PM(t){try{return e=t,typeof Element<"u"&&$o(e,Element)?ED(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function NM(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Li(t){return e_(t,new Map)}function e_(t,e){if(function(n){if(!Sl(n))return!1;try{const i=Object.getPrototypeOf(n).constructor.name;return!i||i==="Object"}catch{return!0}}(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.getOwnPropertyNames(t))t[r]!==void 0&&(i[r]=e_(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(e_(r,e))}),i}return t}function Yd(){return Date.now()/1e3}const Ss=function(){const{performance:t}=mt;if(!t||!t.now)return Yd;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3}();function zi(){const t=mt,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(15&n())>>i/4).toString(16))}function OD(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function pa(t){const{message:e,event_id:n}=t;if(e)return e;const i=OD(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function t_(t,e,n){const i=t.exception=t.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function xl(t,e){const n=OD(t);if(!n)return;const i=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...i,...e},e&&"data"in e){const r={...i&&i.data,...e.data};n.mechanism.data=r}}function jM(t){if(function(e){try{return e.__sentry_captured__}catch{}}(t))return!0;try{zo(t,"__sentry_captured__",!0)}catch{}return!1}var us;function Fo(t){return new Kd(e=>{e(t)})}function lm(t){return new Kd((e,n)=>{n(t)})}(()=>{const{performance:t}=mt;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(us||(us={}));let Kd=class bo{constructor(e){bo.prototype.__init.call(this),bo.prototype.__init2.call(this),bo.prototype.__init3.call(this),bo.prototype.__init4.call(this),this._state=us.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new bo((i,r)=>{this._handlers.push([!1,s=>{if(e)try{i(e(s))}catch(o){r(o)}else i(s)},s=>{if(n)try{i(n(s))}catch(o){r(o)}else r(s)}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new bo((n,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{s?i(r):n(r)})})}__init(){this._resolve=e=>{this._setResult(us.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(us.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===us.PENDING&&(sg(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===us.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===us.RESOLVED&&n[1](this._value),this._state===us.REJECTED&&n[2](this._value),n[0]=!0)})}}};function a4(t){const e=Ss(),n={sid:zi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(i){return Li({sid:`${i.sid}`,init:i.init,started:new Date(1e3*i.started).toISOString(),timestamp:new Date(1e3*i.timestamp).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,abnormal_mechanism:i.abnormal_mechanism,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}(n)};return t&&kl(n,t),n}function kl(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Ss(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:zi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function LM(){return zi()}function n_(){return zi().substring(16)}function ag(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const i={...t};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=ag(i[r],e[r],n-1));return i}const i_="_sentrySpan";function IM(t,e){e?zo(t,i_,e):delete t[i_]}function BM(t){return t[i_]}let o4=class RD{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:LM(),spanId:n_()}}clone(){const e=new RD;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,IM(e,BM(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&kl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[i,r]=n instanceof Ma?[n.getScopeData(),n.getRequestSession()]:Sl(n)?[e,e.requestSession]:[],{tags:s,extra:o,user:l,contexts:u,level:f,fingerprint:p=[],propagationContext:g}=i||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),f&&(this._level=f),p.length&&(this._fingerprint=p),g&&(this._propagationContext=g),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,IM(this,void 0),this._attachments=[],this.setPropagationContext({traceId:LM()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:100;if(i<=0)return this;const r={timestamp:Yd(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:BM(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ag(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:n_(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:zi();if(!this._client)return $e.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:zi();if(!this._client)return $e.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:zi();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):($e.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};const Ma=o4;let c4=class{constructor(e,n){let i,r;i=e||new Ma,r=n||new Ma,this._stack=[{scope:i}],this._isolationScope=r}withScope(e){const n=this._pushScope();let i;try{i=e(n)}catch(r){throw this._popScope(),r}return sg(i)?i.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}};function Cl(){const t=Lw(ig());return t.stack=t.stack||new c4(om("defaultCurrentScope",()=>new Ma),om("defaultIsolationScope",()=>new Ma))}function l4(t){return Cl().withScope(t)}function u4(t,e){const n=Cl();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function $M(t){return Cl().withScope(()=>t(Cl().getIsolationScope()))}function Fw(t){const e=Lw(t);return e.acs?e.acs:{withIsolationScope:$M,withScope:l4,withSetScope:u4,withSetIsolationScope:(n,i)=>$M(i),getCurrentScope:()=>Cl().getScope(),getIsolationScope:()=>Cl().getIsolationScope()}}function ec(){return Fw(ig()).getCurrentScope()}function Xd(){return Fw(ig()).getIsolationScope()}function Cn(){return ec().getClient()}function d4(t){const e=t.getPropagationContext(),{traceId:n,spanId:i,parentSpanId:r}=e;return Li({trace_id:n,span_id:i,parent_span_id:r})}function f4(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[i,r]]of e)(n[i]||(n[i]=[])).push(Li(r));return n}const h4=/^sentry-/;function p4(t){const e=function(i){if(!(!i||!vs(i)&&!Array.isArray(i)))return Array.isArray(i)?i.reduce((r,s)=>{const o=zM(s);return Object.entries(o).forEach(([l,u])=>{r[l]=u}),r},{}):zM(i)}(t);if(!e)return;const n=Object.entries(e).reduce((i,[r,s])=>(r.match(h4)&&(i[r.slice(7)]=s),i),{});return Object.keys(n).length>0?n:void 0}function zM(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,i])=>(n&&i&&(e[n]=i),e),{})}let FM=!1;function m4(t){const{spanId:e,traceId:n,isRemote:i}=t.spanContext();return Li({parent_span_id:i?e:Uw(t).parent_span_id,span_id:i?n_():e,trace_id:n})}function UM(t){return typeof t=="number"?VM(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?VM(t.getTime()):Ss()}function VM(t){return t>9999999999?t/1e3:t}function Uw(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(i){const r=i;return!!(r.attributes&&r.startTime&&r.name&&r.endTime&&r.status)}(t)){const{attributes:i,startTime:r,name:s,endTime:o,parentSpanId:l,status:u}=t;return Li({span_id:e,trace_id:n,data:i,description:s,parent_span_id:l,start_timestamp:UM(r),timestamp:UM(o)||void 0,status:g4(u),op:i["sentry.op"],origin:i["sentry.origin"],_metrics_summary:f4(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function g4(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function DD(t){return t._sentryRootSpan||t}function v4(){FM||(Jd(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),FM=!0)}const Vw="production";function PD(t,e){const n=e.getOptions(),{publicKey:i}=e.getDsn()||{},r=Li({environment:n.environment||Vw,release:n.release,public_key:i,trace_id:t});return e.emit("createDsc",r),r}function y4(t){const e=Cn();if(!e)return{};const n=DD(t),i=n._frozenDsc;if(i)return i;const r=n.spanContext().traceState,s=r&&r.get("sentry.dsc"),o=s&&p4(s);if(o)return o;const l=PD(t.spanContext().traceId,e),u=Uw(n),f=u.data||{},p=f["sentry.sample_rate"];p!=null&&(l.sample_rate=`${p}`);const g=f["sentry.source"],v=u.description;return g!=="url"&&v&&(l.transaction=v),function(S){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const k=Cn(),w=k&&k.getOptions();return!!w&&(w.enableTracing||"tracesSampleRate"in w||"tracesSampler"in w)}()&&(l.sampled=String(function(S){const{traceFlags:k}=S.spanContext();return k===1}(n))),e.emit("createDsc",l,n),l}const b4=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function um(t,e=!1){const{host:n,path:i,pass:r,port:s,projectId:o,protocol:l,publicKey:u}=t;return`${l}://${u}${e&&r?`:${r}`:""}@${n}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function HM(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function _4(t){const e=typeof t=="string"?function(n){const i=b4.exec(n);if(!i)return void Jd(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[r,s,o="",l="",u="",f=""]=i.slice(1);let p="",g=f;const v=g.split("/");if(v.length>1&&(p=v.slice(0,-1).join("/"),g=v.pop()),g){const S=g.match(/^\d+/);S&&(g=S[0])}return HM({host:l,pass:o,path:p,projectId:g,port:u,protocol:r,publicKey:s})}(t):HM(t);if(e&&function(n){if(!Zo)return!0;const{port:i,projectId:r,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&($e.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(r.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(s)?i&&isNaN(parseInt(i,10))&&($e.error(`Invalid Sentry Dsn: Invalid port ${i}`),1):($e.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):($e.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(e))return e}function ds(t,e=100,n=1/0){try{return r_("",t,e,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function ND(t,e=3,n=102400){const i=ds(t,e);return r=i,function(s){return~-encodeURI(s).split(/%..|./).length}(JSON.stringify(r))>n?ND(t,e-1,n):i;var r}function r_(t,e,n=1/0,i=1/0,r=function(){const s=typeof WeakSet=="function",o=s?new WeakSet:[];return[function(l){if(s)return!!o.has(l)||(o.add(l),!1);for(let u=0;u<o.length;u++)if(o[u]===l)return!0;return o.push(l),!1},function(l){if(s)o.delete(l);else for(let u=0;u<o.length;u++)if(o[u]===l){o.splice(u,1);break}}]}()){const[s,o]=r;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=function(S,k){try{if(S==="domain"&&k&&typeof k=="object"&&k._events)return"[Domain]";if(S==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&k===global)return"[Global]";if(typeof window<"u"&&k===window)return"[Window]";if(typeof document<"u"&&k===document)return"[Document]";if(MD(k))return"[VueViewModel]";if(Sl(w=k)&&"nativeEvent"in w&&"preventDefault"in w&&"stopPropagation"in w)return"[SyntheticEvent]";if(typeof k=="number"&&!Number.isFinite(k))return`[${k}]`;if(typeof k=="function")return`[Function: ${Ca(k)}]`;if(typeof k=="symbol")return`[${String(k)}]`;if(typeof k=="bigint")return`[BigInt: ${String(k)}]`;const C=function(T){const D=Object.getPrototypeOf(T);return D?D.constructor.name:"null prototype"}(k);return/^HTML(\w*)Element$/.test(C)?`[HTMLElement: ${C}]`:`[object ${C}]`}catch(C){return`**non-serializable** (${C})`}var w}(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(s(e))return"[Circular ~]";const f=e;if(f&&typeof f.toJSON=="function")try{return r_("",f.toJSON(),u-1,i,r)}catch{}const p=Array.isArray(e)?[]:{};let g=0;const v=AD(e);for(const S in v){if(!Object.prototype.hasOwnProperty.call(v,S))continue;if(g>=i){p[S]="[MaxProperties ~]";break}const k=v[S];p[S]=r_(S,k,u-1,i,r),g++}return o(e),p}function Rd(t,e=[]){return[t,e]}function w4(t,e){const[n,i]=t;return[n,[...i,e]]}function qM(t,e){const n=t[1];for(const i of n)if(e(i,i[0].type))return!0;return!1}function s_(t){return mt.__SENTRY__&&mt.__SENTRY__.encodePolyfill?mt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function S4(t){const[e,n]=t;let i=JSON.stringify(e);function r(s){typeof i=="string"?i=typeof s=="string"?i+s:[s_(i),s]:i.push(typeof s=="string"?s_(s):s)}for(const s of n){const[o,l]=s;if(r(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)r(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(ds(l))}r(u)}}return typeof i=="string"?i:function(s){const o=s.reduce((f,p)=>f+p.length,0),l=new Uint8Array(o);let u=0;for(const f of s)l.set(f,u),u+=f.length;return l}(i)}function x4(t){const e=typeof t.data=="string"?s_(t.data):t.data;return[Li({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const k4={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function WM(t){return k4[t]}function jD(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function C4(t,e,n,i){const r=jD(n),s=t.type&&t.type!=="replay_event"?t.type:"event";(function(l,u){u&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||u.name,l.sdk.version=l.sdk.version||u.version,l.sdk.integrations=[...l.sdk.integrations||[],...u.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...u.packages||[]])})(t,n&&n.sdk);const o=function(l,u,f,p){const g=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...u&&{sdk:u},...!!f&&p&&{dsn:um(p)},...g&&{trace:Li({...g})}}}(t,r,i,e);return delete t.sdkProcessingMetadata,Rd(o,[[{type:s},t]])}function a_(t,e,n,i=0){return new Kd((r,s)=>{const o=t[i];if(e===null||typeof o!="function")r(e);else{const l=o({...e},n);Dt&&o.id&&l===null&&$e.log(`Event processor "${o.id}" dropped event`),sg(l)?l.then(u=>a_(t,u,n,i+1).then(r)).then(null,s):a_(t,l,n,i+1).then(r).then(null,s)}})}let $h,GM,hb;function M4(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;(function(o,l){const{extra:u,tags:f,user:p,contexts:g,level:v,transactionName:S}=l,k=Li(u);k&&Object.keys(k).length&&(o.extra={...k,...o.extra});const w=Li(f);w&&Object.keys(w).length&&(o.tags={...w,...o.tags});const C=Li(p);C&&Object.keys(C).length&&(o.user={...C,...o.user});const T=Li(g);T&&Object.keys(T).length&&(o.contexts={...T,...o.contexts}),v&&(o.level=v),S&&o.type!=="transaction"&&(o.transaction=S)})(t,e),i&&function(o,l){o.contexts={trace:m4(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:y4(l),...o.sdkProcessingMetadata};const u=DD(l),f=Uw(u).description;f&&!o.transaction&&o.type==="transaction"&&(o.transaction=f)}(t,i),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(t,n),function(o,l){const u=[...o.breadcrumbs||[],...l];o.breadcrumbs=u.length?u:void 0}(t,r),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(t,s)}function JM(t,e){const{extra:n,tags:i,user:r,contexts:s,level:o,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:f,eventProcessors:p,attachments:g,propagationContext:v,transactionName:S,span:k}=e;zh(t,"extra",n),zh(t,"tags",i),zh(t,"user",r),zh(t,"contexts",s),t.sdkProcessingMetadata=ag(t.sdkProcessingMetadata,l,2),o&&(t.level=o),S&&(t.transactionName=S),k&&(t.span=k),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),f.length&&(t.fingerprint=[...t.fingerprint,...f]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),g.length&&(t.attachments=[...t.attachments,...g]),t.propagationContext={...t.propagationContext,...v}}function zh(t,e,n){t[e]=ag(t[e],n,1)}function E4(t,e,n,i,r,s){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=t,u={...e,event_id:e.event_id||n.event_id||zi(),timestamp:e.timestamp||Yd()},f=n.integrations||t.integrations.map(k=>k.name);(function(k,w){const{environment:C,release:T,dist:D,maxValueLength:P=250}=w;k.environment=k.environment||C||Vw,!k.release&&T&&(k.release=T),!k.dist&&D&&(k.dist=D),k.message&&(k.message=fl(k.message,P));const j=k.exception&&k.exception.values&&k.exception.values[0];j&&j.value&&(j.value=fl(j.value,P));const N=k.request;N&&N.url&&(N.url=fl(N.url,P))})(u,t),function(k,w){w.length>0&&(k.sdk=k.sdk||{},k.sdk.integrations=[...k.sdk.integrations||[],...w])}(u,f),r&&r.emit("applyFrameMetadata",e),e.type===void 0&&function(k,w){const C=function(T){const D=mt._sentryDebugIds;if(!D)return{};const P=Object.keys(D);return hb&&P.length===GM||(GM=P.length,hb=P.reduce((j,N)=>{$h||($h={});const B=$h[N];if(B)j[B[0]]=B[1];else{const L=T(N);for(let z=L.length-1;z>=0;z--){const W=L[z],J=W&&W.filename,Z=D[N];if(J&&Z){j[J]=Z,$h[N]=[J,Z];break}}}return j},{})),hb}(w);try{k.exception.values.forEach(T=>{T.stacktrace.frames.forEach(D=>{C&&D.filename&&(D.debug_id=C[D.filename])})})}catch{}}(u,t.stackParser);const p=function(k,w){if(!w)return k;const C=k?k.clone():new Ma;return C.update(w),C}(i,n.captureContext);n.mechanism&&xl(u,n.mechanism);const g=r?r.getEventProcessors():[],v=om("globalScope",()=>new Ma).getScopeData();s&&JM(v,s.getScopeData()),p&&JM(v,p.getScopeData());const S=[...n.attachments||[],...v.attachments];return S.length&&(n.attachments=S),M4(u,v),a_([...g,...v.eventProcessors],u,n).then(k=>(k&&function(w){const C={};try{w.exception.values.forEach(D=>{D.stacktrace.frames.forEach(P=>{P.debug_id&&(P.abs_path?C[P.abs_path]=P.debug_id:P.filename&&(C[P.filename]=P.debug_id),delete P.debug_id)})})}catch{}if(Object.keys(C).length===0)return;w.debug_meta=w.debug_meta||{},w.debug_meta.images=w.debug_meta.images||[];const T=w.debug_meta.images;Object.entries(C).forEach(([D,P])=>{T.push({type:"sourcemap",code_file:D,debug_id:P})})}(k),typeof o=="number"&&o>0?function(w,C,T){if(!w)return null;const D={...w,...w.breadcrumbs&&{breadcrumbs:w.breadcrumbs.map(P=>({...P,...P.data&&{data:ds(P.data,C,T)}}))},...w.user&&{user:ds(w.user,C,T)},...w.contexts&&{contexts:ds(w.contexts,C,T)},...w.extra&&{extra:ds(w.extra,C,T)}};return w.contexts&&w.contexts.trace&&D.contexts&&(D.contexts.trace=w.contexts.trace,w.contexts.trace.data&&(D.contexts.trace.data=ds(w.contexts.trace.data,C,T))),w.spans&&(D.spans=w.spans.map(P=>({...P,...P.data&&{data:ds(P.data,C,T)}}))),w.contexts&&w.contexts.flags&&D.contexts&&(D.contexts.flags=ds(w.contexts.flags,3,T)),D}(k,o,l):k))}function YM(t,e){return ec().captureEvent(t,e)}function KM(t){const e=Cn(),n=Xd(),i=ec(),{release:r,environment:s=Vw}=e&&e.getOptions()||{},{userAgent:o}=mt.navigator||{},l=a4({release:r,environment:s,user:i.getUser()||n.getUser(),...o&&{userAgent:o},...t}),u=n.getSession();return u&&u.status==="ok"&&kl(u,{status:"exited"}),LD(),n.setSession(l),i.setSession(l),l}function LD(){const t=Xd(),e=ec(),n=e.getSession()||t.getSession();n&&function(i,r){let s={};i.status==="ok"&&(s={status:"exited"}),kl(i,s)}(n),ID(),t.setSession(),e.setSession()}function ID(){const t=Xd(),e=ec(),n=Cn(),i=e.getSession()||t.getSession();i&&n&&n.captureSession(i)}function XM(t=!1){t?LD():ID()}function T4(t,e,n){return e||`${function(i){return`${function(r){const s=r.protocol?`${r.protocol}:`:"",o=r.port?`:${r.port}`:"";return`${s}//${r.host}${o}${r.path?`/${r.path}`:""}/api/`}(i)}${i.projectId}/envelope/`}(t)}?${function(i,r){const s={sentry_version:"7"};return i.publicKey&&(s.sentry_key=i.publicKey),r&&(s.sentry_client=`${r.name}/${r.version}`),new URLSearchParams(s).toString()}(t,n)}`}const QM=[];function ZM(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function eE(t,e,n){if(n[e.name])Dt&&$e.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,QM.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),QM.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(r,s)=>i(r,s,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),r=Object.assign((s,o)=>i(s,o,t),{id:e.name});t.addEventProcessor(r)}Dt&&$e.log(`Integration installed: ${e.name}`)}}let er=class extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}};const tE="Not capturing exception because it's already been captured.";let A4=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=_4(e.dsn):Dt&&$e.warn("No DSN provided, client will not send events."),this._dsn){const i=T4(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&Jd(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,i){const r=zi();if(jM(e))return Dt&&$e.log(tE),r;const s={event_id:r,...n};return this._process(this.eventFromException(e,s).then(o=>this._captureEvent(o,s,i))),s.event_id}captureMessage(e,n,i,r){const s={event_id:zi(),...i},o=Bw(e)?e:String(e),l=Z0(e)?this.eventFromMessage(o,n,s):this.eventFromException(e,s);return this._process(l.then(u=>this._captureEvent(u,s,r))),s.event_id}captureEvent(e,n,i){const r=zi();if(n&&n.originalException&&jM(n.originalException))return Dt&&$e.log(tE),r;const s={event_id:r,...n},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,o||i)),s.event_id}captureSession(e){typeof e.release!="string"?Dt&&$e.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),kl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(i=>n.flush(e).then(r=>i&&r))):Fo(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];eE(this,e,this._integrations),n||ZM(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let i=C4(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])i=w4(i,x4(s));const r=this.sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const n=function(i,r,s,o){const l=jD(s);return Rd({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&r&&{dsn:um(r)}},["aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,i){if(this._options.sendClientReports){const r=typeof i=="number"?i:1,s=`${e}:${n}`;Dt&&$e.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(e,n){const i=this._hooks[e]=this._hooks[e]||[];return i.push(n),()=>{const r=i.indexOf(n);r>-1&&i.splice(r,1)}}emit(e,...n){const i=this._hooks[e];i&&i.forEach(r=>r(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(Dt&&$e.error("Error while sending envelope:",n),n)):(Dt&&$e.error("Transport disabled"),Fo({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(n,i){const r={};return i.forEach(s=>{s&&eE(n,s,r)}),r}(this,e),ZM(this,e)}_updateSessionFromEvent(e,n){let i=n.level==="fatal",r=!1;const s=n.exception&&n.exception.values;if(s){r=!0;for(const l of s){const u=l.mechanism;if(u&&u.handled===!1){i=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&i)&&(kl(e,{...i&&{status:"crashed"},errors:e.errors||Number(r||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Kd(n=>{let i=0;const r=setInterval(()=>{this._numProcessing==0?(clearInterval(r),n(!0)):(i+=1,e&&i>=e&&(clearInterval(r),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,i=ec(),r=Xd()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||r.setLastEventId(e.event_id||n.event_id),E4(s,e,n,i,this,r).then(l=>{if(l===null)return l;l.contexts={trace:d4(i),...l.contexts};const u=function(f,p){const g=p.getPropagationContext();return g.dsc||PD(g.traceId,f)}(this,i);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},i){return this._processEvent(e,n,i).then(r=>r.event_id,r=>{Dt&&(r instanceof er&&r.logLevel==="log"?$e.log(r.message):$e.warn(r))})}_processEvent(e,n,i){const r=this.getOptions(),{sampleRate:s}=r,o=iE(e),l=nE(e),u=e.type||"error",f=`before send for type \`${u}\``,p=s===void 0?void 0:function(S){if(typeof S=="boolean")return Number(S);const k=typeof S=="string"?parseFloat(S):S;if(!(typeof k!="number"||isNaN(k)||k<0||k>1))return k;Dt&&$e.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(S)} of type ${JSON.stringify(typeof S)}.`)}(s);if(l&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error",e),lm(new er(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const g=u==="replay_event"?"replay":u,v=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,i,v).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",g,e),new er("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return S;const k=function(w,C,T,D){const{beforeSend:P,beforeSendTransaction:j,beforeSendSpan:N}=C;if(nE(T)&&P)return P(T,D);if(iE(T)){if(T.spans&&N){const B=[];for(const L of T.spans){const z=N(L);z?B.push(z):(v4(),w.recordDroppedEvent("before_send","span"))}T.spans=B}if(j){if(T.spans){const B=T.spans.length;T.sdkProcessingMetadata={...T.sdkProcessingMetadata,spanCountBeforeProcessing:B}}return j(T,D)}}return T}(this,r,S,n);return function(w,C){const T=`${C} must return \`null\` or a valid event.`;if(sg(w))return w.then(D=>{if(!Sl(D)&&D!==null)throw new er(T);return D},D=>{throw new er(`${C} rejected with ${D}`)});if(!Sl(w)&&w!==null)throw new er(T);return w}(k,f)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",g,e),o){const C=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw new er(`${f} returned \`null\`, will not send event.`,"log")}const k=i&&i.getSession();if(!o&&k&&this._updateSessionFromEvent(k,S),o){const C=(S.sdkProcessingMetadata&&S.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(S.spans?S.spans.length:0);C>0&&this.recordDroppedEvent("before_send","span",C)}const w=S.transaction_info;if(o&&w&&S.transaction!==e.transaction){const C="custom";S.transaction_info={...w,source:C}}return this.sendEvent(S,n),S}).then(null,S=>{throw S instanceof er?S:(this.captureException(S,{data:{__sentry__:!0},originalException:S}),new er(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,i])=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:i}})}_flushOutcomes(){Dt&&$e.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Dt&&$e.log("No outcomes to send"));if(!this._dsn)return void(Dt&&$e.log("No dsn provided, will not send outcomes"));Dt&&$e.log("Sending outcomes:",e);const n=(i=e,Rd((r=this._options.tunnel&&um(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||Yd(),discarded_events:i}]]));var i,r,s;this.sendEnvelope(n)}};function nE(t){return t.type===void 0}function iE(t){return t.type==="transaction"}function O4(t){const e=[];function n(i){return e.splice(e.indexOf(i),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(i){if(!(t===void 0||e.length<t))return lm(new er("Not adding Promise because buffer limit was reached."));const r=i();return e.indexOf(r)===-1&&e.push(r),r.then(()=>n(r)).then(null,()=>n(r).then(null,()=>{})),r},drain:function(i){return new Kd((r,s)=>{let o=e.length;if(!o)return r(!0);const l=setTimeout(()=>{i&&i>0&&r(!1)},i);e.forEach(u=>{Fo(u).then(()=>{--o||(clearTimeout(l),r(!0))},s)})})}}}function R4(t,{statusCode:e,headers:n},i=Date.now()){const r={...t},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[u,f,,,p]=l.split(":",5),g=parseInt(u,10),v=1e3*(isNaN(g)?60:g);if(f)for(const S of f.split(";"))S==="metric_bucket"&&p&&!p.split(";").includes("custom")||(r[S]=i+v);else r.all=i+v}else o?r.all=i+function(l,u=Date.now()){const f=parseInt(`${l}`,10);if(!isNaN(f))return 1e3*f;const p=Date.parse(`${l}`);return isNaN(p)?6e4:p-u}(o,i):e===429&&(r.all=i+6e4);return r}function D4(t,e,n=O4(t.bufferSize||64)){let i={};return{send:function(r){const s=[];if(qM(r,(u,f)=>{const p=WM(f);if(function(g,v,S=Date.now()){return function(k,w){return k[w]||k.all||0}(g,v)>S}(i,p)){const g=rE(u,f);t.recordDroppedEvent("ratelimit_backoff",p,g)}else s.push(u)}),s.length===0)return Fo({});const o=Rd(r[0],s),l=u=>{qM(o,(f,p)=>{const g=rE(f,p);t.recordDroppedEvent(u,WM(p),g)})};return n.add(()=>e({body:S4(o)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&Dt&&$e.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),i=R4(i,u),u),u=>{throw l("network_error"),u})).then(u=>u,u=>{if(u instanceof er)return Dt&&$e.error("Skipped sending event because buffer is full."),l("queue_overflow"),Fo({});throw u})},flush:r=>n.drain(r)}}function rE(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const P4=100;function io(t,e){const n=Cn(),i=Xd();if(!n)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:s=P4}=n.getOptions();if(s<=0)return;const o={timestamp:Yd(),...t},l=r?Jd(()=>r(o,e)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),i.addBreadcrumb(l,s))}let sE;const aE=new WeakMap,N4=()=>({name:"FunctionToString",setupOnce(){sE=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=zw(this),n=aE.has(Cn())&&e!==void 0?e:this;return sE.apply(n,t)}}catch{}},setup(t){aE.set(t,!0)}}),j4=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],L4=(t={})=>({name:"InboundFilters",processEvent(e,n,i){const r=i.getOptions(),s=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:j4],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(t,r);return function(o,l){return l.ignoreInternal&&function(u){try{return u.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Dt&&$e.warn(`Event dropped due to being internal Sentry Error.
Event: ${pa(o)}`),!0):function(u,f){return u.type||!f||!f.length?!1:function(p){const g=[];p.message&&g.push(p.message);let v;try{v=p.exception.values[p.exception.values.length-1]}catch{}return v&&v.value&&(g.push(v.value),v.type&&g.push(`${v.type}: ${v.value}`)),g}(u).some(p=>Bh(p,f))}(o,l.ignoreErrors)?(Dt&&$e.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${pa(o)}`),!0):function(u){return u.type||!u.exception||!u.exception.values||u.exception.values.length===0?!1:!u.message&&!u.exception.values.some(f=>f.stacktrace||f.type&&f.type!=="Error"||f.value)}(o)?(Dt&&$e.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${pa(o)}`),!0):function(u,f){if(u.type!=="transaction"||!f||!f.length)return!1;const p=u.transaction;return!!p&&Bh(p,f)}(o,l.ignoreTransactions)?(Dt&&$e.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${pa(o)}`),!0):function(u,f){if(!f||!f.length)return!1;const p=Fh(u);return!!p&&Bh(p,f)}(o,l.denyUrls)?(Dt&&$e.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${pa(o)}.
Url: ${Fh(o)}`),!0):function(u,f){if(!f||!f.length)return!0;const p=Fh(u);return!p||Bh(p,f)}(o,l.allowUrls)?!1:(Dt&&$e.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${pa(o)}.
Url: ${Fh(o)}`),!0)}(e,s)?null:e}});function Fh(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(n=[]){for(let i=n.length-1;i>=0;i--){const r=n[i];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}(e):null}catch{return Dt&&$e.error(`Cannot extract url for event ${pa(t)}`),null}}function I4(t,e,n=250,i,r,s,o){if(!(s.exception&&s.exception.values&&o&&$o(o.originalException,Error)))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var u,f;l&&(s.exception.values=(u=o_(t,e,r,o.originalException,i,s.exception.values,l,0),f=n,u.map(p=>(p.value&&(p.value=fl(p.value,f)),p))))}function o_(t,e,n,i,r,s,o,l){if(s.length>=n+1)return s;let u=[...s];if($o(i[r],Error)){oE(o,l);const f=t(e,i[r]),p=u.length;cE(f,r,p,l),u=o_(t,e,n,i[r],r,[f,...u],f,p)}return Array.isArray(i.errors)&&i.errors.forEach((f,p)=>{if($o(f,Error)){oE(o,l);const g=t(e,f),v=u.length;cE(g,`errors[${p}]`,v,l),u=o_(t,e,n,f,r,[g,...u],g,v)}}),u}function oE(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function cE(t,e,n,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:i}}function pb(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:i,relative:e[5]+n+i}}function B4(){"console"in mt&&Q0.forEach(function(t){t in mt.console&&mi(mt.console,t,function(e){return cm[t]=e,function(...n){ar("console",{args:n,level:t});const i=cm[t];i&&i.apply(mt.console,n)}})})}function $4(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const z4=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(n,i){return i?!!(function(r,s){const o=r.message,l=s.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!uE(r,s)||!lE(r,s))}(n,i)||function(r,s){const o=dE(s),l=dE(r);return!(!o||!l||o.type!==l.type||o.value!==l.value||!uE(r,s)||!lE(r,s))}(n,i)):!1}(e,t))return Dt&&$e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function lE(t,e){let n=AM(t),i=AM(e);if(!n&&!i)return!0;if(n&&!i||!n&&i||i.length!==n.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=n[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function uE(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return n.join("")===i.join("")}catch{return!1}}function dE(t){return t.exception&&t.exception.values&&t.exception.values[0]}function fE(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const mb=mt;function c_(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function F4(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in mb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(c_(mb.fetch))return!0;let t=!1;const e=mb.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=c_(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Zo&&$e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function U4(t,e){const n="fetch";Oo(n,t),Ro(n,()=>function(i,r=!1){r&&!F4()||mi(mt,"fetch",function(s){return function(...o){const l=new Error,{method:u,url:f}=function(g){if(g.length===0)return{method:"GET",url:""};if(g.length===2){const[S,k]=g;return{url:hE(S),method:l_(k,"method")?String(k.method).toUpperCase():"GET"}}const v=g[0];return{url:hE(v),method:l_(v,"method")?String(v.method).toUpperCase():"GET"}}(o),p={args:o,fetchData:{method:u,url:f},startTimestamp:1e3*Ss(),virtualError:l};return i||ar("fetch",{...p}),s.apply(mt,o).then(async g=>(i?i(g):ar("fetch",{...p,endTimestamp:1e3*Ss(),response:g}),g),g=>{throw ar("fetch",{...p,endTimestamp:1e3*Ss(),error:g}),Iw(g)&&g.stack===void 0&&(g.stack=l.stack,zo(g,"framesToPop",1)),g})}})}(void 0,e))}function l_(t,e){return!!t&&typeof t=="object"&&!!t[e]}function hE(t){return typeof t=="string"?t:t?l_(t,"url")?t.url:t.toString?t.toString():"":""}const Uh=mt,ln=mt;let u_=0;function pE(){return u_>0}function Ml(t,e={}){if(!function(i){return typeof i=="function"}(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(zw(t))return t}catch{return t}const n=function(...i){try{const r=i.map(s=>Ml(s,e));return t.apply(this,r)}catch(r){throw u_++,setTimeout(()=>{u_--}),function(...s){const o=Fw(ig());if(s.length===2){const[l,u]=s;return l?o.withSetScope(l,u):o.withScope(u)}o.withScope(s[0])}(s=>{var o;s.addEventProcessor(l=>(e.mechanism&&(t_(l,void 0),xl(l,e.mechanism)),l.extra={...l.extra,arguments:i},l)),o=r,ec().captureException(o,void 0)}),r}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}TD(n,t),zo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const og=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Hw(t,e){const n=qw(t,e),i={type:q4(e),value:W4(e)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function V4(t,e,n,i){const r=Cn(),s=r&&r.getOptions().normalizeDepth,o=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p)){const g=f[p];if(g instanceof Error)return g}}(e),l={__serialized__:ND(e,s)};if(o)return{exception:{values:[Hw(t,o)]},extra:l};const u={exception:{values:[{type:rg(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:G4(e,{isUnhandledRejection:i})}]},extra:l};if(n){const f=qw(t,n);f.length&&(u.exception.values[0].stacktrace={frames:f})}return u}function gb(t,e){return{exception:{values:[Hw(t,e)]}}}function qw(t,e){const n=e.stacktrace||e.stack||"",i=function(s){return s&&H4.test(s.message)?1:0}(e),r=function(s){return typeof s.framesToPop=="number"?s.framesToPop:0}(e);try{return t(n,i,r)}catch{}return[]}const H4=/Minified React error #\d+;/i;function BD(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function q4(t){const e=t&&t.name;return!e&&BD(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function W4(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:BD(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function d_(t,e,n,i,r){let s;if(CD(e)&&e.error)return gb(t,e.error);if(RM(e)||zl(e,"DOMException")){const o=e;if("stack"in e)s=gb(t,e);else{const l=o.name||(RM(o)?"DOMError":"DOMException"),u=o.message?`${l}: ${o.message}`:l;s=f_(t,u,n,i),t_(s,u)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Iw(e)?gb(t,e):Sl(e)||rg(e)?(s=V4(t,e,n,r),xl(s,{synthetic:!0}),s):(s=f_(t,e,n,i),t_(s,`${e}`),xl(s,{synthetic:!0}),s)}function f_(t,e,n,i){const r={};if(i&&n){const s=qw(t,n);s.length&&(r.exception={values:[{value:e,stacktrace:{frames:s}}]}),xl(r,{synthetic:!0})}if(Bw(e)){const{__sentry_template_string__:s,__sentry_template_values__:o}=e;return r.logentry={message:s,params:o},r}return r.message=e,r}function G4(t,{isUnhandledRejection:e}){const n=function(r,s=40){const o=Object.keys(AD(r));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=s)return fl(l,s);for(let u=o.length;u>0;u--){const f=o.slice(0,u).join(", ");if(!(f.length>s))return u===o.length?f:fl(f,s)}return""}(t),i=e?"promise rejection":"exception";return CD(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:rg(t)?`Event \`${function(r){try{const s=Object.getPrototypeOf(r);return s?s.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${n}`}let J4=class extends A4{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(i,r,s=[r],o="npm"){const l=i._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${r}`,packages:s.map(u=>({name:`${o}:@sentry/${u}`,version:Ao})),version:Ao}),i._metadata=l})(n,"browser",["browser"],ln.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&ln.document&&ln.document.addEventListener("visibilitychange",()=>{ln.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return function(i,r,s,o){const l=d_(i,r,s&&s.syntheticException||void 0,o);return xl(l),l.level="error",s&&s.event_id&&(l.event_id=s.event_id),Fo(l)}(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",i){return function(r,s,o="info",l,u){const f=f_(r,s,l&&l.syntheticException||void 0,u);return f.level=o,l&&l.event_id&&(f.event_id=l.event_id),Fo(f)}(this._options.stackParser,e,n,i,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(og&&$e.warn("SDK not enabled, will not capture user feedback."));const n=function(i,{metadata:r,tunnel:s,dsn:o}){const l={event_id:i.event_id,sent_at:new Date().toISOString(),...r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}},...!!s&&!!o&&{dsn:um(o)}};return Rd(l,[function(f){return[{type:"user_report"},f]}(i)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,i)}};const Y4=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zn=mt;let mE,vb,yb,Vh;function K4(){if(!zn.document)return;const t=ar.bind(null,"dom"),e=gE(t,!0);zn.document.addEventListener("click",e,!1),zn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const i=zn[n],r=i&&i.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(mi(r,"addEventListener",function(s){return function(o,l,u){if(o==="click"||o=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[o]=f[o]||{refCount:0};if(!p.handler){const g=gE(t);p.handler=g,s.call(this,o,g,u)}p.refCount++}catch{}return s.call(this,o,l,u)}}),mi(r,"removeEventListener",function(s){return function(o,l,u){if(o==="click"||o=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[o];p&&(p.refCount--,p.refCount<=0&&(s.call(this,o,p.handler,u),p.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,l,u)}}))})}function gE(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const i=function(s){try{return s.target}catch{return null}}(n);if(function(s,o){return s==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,i))return;zo(n,"_sentryCaptured",!0),i&&!i._sentryId&&zo(i,"_sentryId",zi());const r=n.type==="keypress"?"input":n.type;(function(s){if(s.type!==vb)return!1;try{if(!s.target||s.target._sentryId!==yb)return!1}catch{}return!0})(n)||(t({event:n,name:r,global:e}),vb=n.type,yb=i?i._sentryId:void 0),clearTimeout(mE),mE=zn.setTimeout(()=>{yb=void 0,vb=void 0},1e3)}}function $D(t){const e="history";Oo(e,t),Ro(e,X4)}function X4(){if(!function(){const n=Uh.chrome,i=n&&n.app&&n.app.runtime,r="history"in Uh&&!!Uh.history.pushState&&!!Uh.history.replaceState;return!i&&r}())return;const t=zn.onpopstate;function e(n){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=Vh,o=String(r);Vh=o,ar("history",{from:s,to:o})}return n.apply(this,i)}}zn.onpopstate=function(...n){const i=zn.location.href,r=Vh;if(Vh=i,ar("history",{from:r,to:i}),t)try{return t.apply(this,n)}catch{}},mi(zn.history,"pushState",e),mi(zn.history,"replaceState",e)}const Up={};function vE(t){Up[t]=void 0}const sd="__sentry_xhr_v3__";function Q4(){if(!zn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,i){const r=new Error,s=1e3*Ss(),o=vs(i[0])?i[0].toUpperCase():void 0,l=function(f){if(vs(f))return f;try{return f.toString()}catch{}}(i[1]);if(!o||!l)return e.apply(n,i);n[sd]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const u=()=>{const f=n[sd];if(f&&n.readyState===4){try{f.status_code=n.status}catch{}ar("xhr",{endTimestamp:1e3*Ss(),startTimestamp:s,xhr:n,virtualError:r})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(f,p,g)=>(u(),f.apply(p,g))}):n.addEventListener("readystatechange",u),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(f,p,g){const[v,S]=g,k=p[sd];return k&&vs(v)&&vs(S)&&(k.request_headers[v.toLowerCase()]=S),f.apply(p,g)}}),e.apply(n,i)}}),t.send=new Proxy(t.send,{apply(e,n,i){const r=n[sd];return r?(i[0]!==void 0&&(r.body=i[0]),ar("xhr",{startTimestamp:1e3*Ss(),xhr:n}),e.apply(n,i)):e.apply(n,i)}})}function Z4(t,e=function(n){const i=Up[n];if(i)return i;let r=zn[n];if(c_(r))return Up[n]=r.bind(zn);const s=zn.document;if(s&&typeof s.createElement=="function")try{const o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(r=l[n]),s.head.removeChild(o)}catch(o){Y4&&$e.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return r&&(Up[n]=r.bind(zn))}("fetch")){let n=0,i=0;return D4(t,function(r){const s=r.body.length;n+=s,i++;const o={body:r.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&i<15,...t.fetchOptions};if(!e)return vE("fetch"),lm("No fetch implementation available");try{return e(t.url,o).then(l=>(n-=s,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return vE("fetch"),n-=s,i--,lm(l)}})}function bb(t,e,n,i){const r={filename:t,function:e==="<anonymous>"?Co:e,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}const e5=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,t5=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n5=/\((\S*)(?::(\d+))(?::(\d+))\)/,i5=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,r5=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s5=function(...t){const e=t.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0,r=0)=>{const s=[],o=n.split(`
`);for(let l=i;l<o.length;l++){const u=o[l];if(u.length>1024)continue;const f=MM.test(u)?u.replace(MM,"$1"):u;if(!f.match(/\S*Error: /)){for(const p of e){const g=p(f);if(g){s.push(g);break}}if(s.length>=50+r)break}}return function(l){if(!l.length)return[];const u=Array.from(l);return/sentryWrapped/.test(Ih(u).function||"")&&u.pop(),u.reverse(),EM.test(Ih(u).function||"")&&(u.pop(),EM.test(Ih(u).function||"")&&u.pop()),u.slice(0,50).map(f=>({...f,filename:f.filename||Ih(u).filename,function:f.function||Co}))}(s.slice(r))}}([30,t=>{const e=e5.exec(t);if(e){const[,i,r,s]=e;return bb(i,Co,+r,+s)}const n=t5.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=n5.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,r]=yE(n[1]||Co,n[2]);return bb(r,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=i5.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const r=r5.exec(e[3]);r&&(e[1]=e[1]||"eval",e[3]=r[1],e[4]=r[2],e[5]="")}let n=e[3],i=e[1]||Co;return[i,n]=yE(i,n),bb(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),yE=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:Co,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},bE=1024,a5=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var i;e.console&&function(r){const s="console";Oo(s,r),Ro(s,B4)}(function(r){return function(s){if(Cn()!==r)return;const o={category:"console",data:{arguments:s.args,logger:"console"},level:$4(s.level),message:DM(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;o.message=`Assertion failed: ${DM(s.args.slice(1)," ")||"console.assert"}`,o.data.arguments=s.args.slice(1)}io(o,{input:s.args,level:s.level})}}(n)),e.dom&&(i=function(r,s){return function(o){if(Cn()!==r)return;let l,u,f=typeof s=="object"?s.serializeAttribute:void 0,p=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;p&&p>bE&&(og&&$e.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${p} was configured. Sentry will use 1024 instead.`),p=bE),typeof f=="string"&&(f=[f]);try{const v=o.event,S=function(k){return!!k&&!!k.target}(v)?v.target:v;l=ED(S,{keyAttrs:f,maxStringLength:p}),u=function(k){if(!$w.HTMLElement)return null;let w=k;for(let C=0;C<5;C++){if(!w)return null;if(w instanceof HTMLElement){if(w.dataset.sentryComponent)return w.dataset.sentryComponent;if(w.dataset.sentryElement)return w.dataset.sentryElement}w=w.parentNode}return null}(S)}catch{l="<unknown>"}if(l.length===0)return;const g={category:`ui.${o.name}`,message:l};u&&(g.data={"ui.component_name":u}),io(g,{event:o.event,name:o.name,global:o.global})}}(n,e.dom),Oo("dom",i),Ro("dom",K4)),e.xhr&&function(r){Oo("xhr",r),Ro("xhr",Q4)}(function(r){return function(s){if(Cn()!==r)return;const{startTimestamp:o,endTimestamp:l}=s,u=s.xhr[sd];if(!o||!l||!u)return;const{method:f,url:p,status_code:g,body:v}=u,S={method:f,url:p,status_code:g},k={xhr:s.xhr,input:v,startTimestamp:o,endTimestamp:l};io({category:"xhr",data:S,type:"http",level:fE(g)},k)}}(n)),e.fetch&&U4(function(r){return function(s){if(Cn()!==r)return;const{startTimestamp:o,endTimestamp:l}=s;if(l&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)io({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:o,endTimestamp:l});else{const u=s.response,f={...s.fetchData,status_code:u&&u.status},p={input:s.args,response:u,startTimestamp:o,endTimestamp:l};io({category:"fetch",data:f,type:"http",level:fE(f.status_code)},p)}}}(n)),e.history&&$D(function(r){return function(s){if(Cn()!==r)return;let o=s.from,l=s.to;const u=pb(ln.location.href);let f=o?pb(o):void 0;const p=pb(l);f&&f.path||(f=u),u.protocol===p.protocol&&u.host===p.host&&(l=p.relative),u.protocol===f.protocol&&u.host===f.host&&(o=f.relative),io({category:"navigation",data:{from:o,to:l}})}}(n)),e.sentry&&n.on("beforeSendEvent",function(r){return function(s){Cn()===r&&io({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:pa(s)},{event:s})}}(n))}}},o5=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c5=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&mi(ln,"setTimeout",_E),e.setInterval&&mi(ln,"setInterval",_E),e.requestAnimationFrame&&mi(ln,"requestAnimationFrame",l5),e.XMLHttpRequest&&"XMLHttpRequest"in ln&&mi(XMLHttpRequest.prototype,"send",u5);const n=e.eventTarget;n&&(Array.isArray(n)?n:o5).forEach(d5)}}};function _E(t){return function(...e){const n=e[0];return e[0]=Ml(n,{mechanism:{data:{function:Ca(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function l5(t){return function(e){return t.apply(this,[Ml(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ca(t)},handled:!1,type:"instrument"}})])}}function u5(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&mi(n,i,function(r){const s={mechanism:{data:{function:i,handler:Ca(r)},handled:!1,type:"instrument"}},o=zw(r);return o&&(s.mechanism.data.handler=Ca(o)),Ml(r,s)})}),t.apply(this,e)}}function d5(t){const e=ln[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(mi(n,"addEventListener",function(i){return function(r,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Ml(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ca(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[r,Ml(s,{mechanism:{data:{function:"addEventListener",handler:Ca(s),target:t},handled:!1,type:"instrument"}}),o])}}),mi(n,"removeEventListener",function(i){return function(r,s,o){try{const l=s.__sentry_wrapped__;l&&i.call(this,r,l,o)}catch{}return i.call(this,r,s,o)}}))}const f5=()=>({name:"BrowserSession",setupOnce(){ln.document!==void 0?(KM({ignoreDuration:!0}),XM(),$D(({from:t,to:e})=>{t!==void 0&&t!==e&&(KM({ignoreDuration:!0}),XM())})):og&&$e.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),h5=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(function(i){(function(r){const s="error";Oo(s,r),Ro(s,n4)})(r=>{const{stackParser:s,attachStacktrace:o}=SE();if(Cn()!==i||pE())return;const{msg:l,url:u,line:f,column:p,error:g}=r,v=function(S,k,w,C){const T=S.exception=S.exception||{},D=T.values=T.values||[],P=D[0]=D[0]||{},j=P.stacktrace=P.stacktrace||{},N=j.frames=j.frames||[],B=C,L=w,z=vs(k)&&k.length>0?k:function(){try{return $w.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:B,filename:z,function:Co,in_app:!0,lineno:L}),S}(d_(s,g||l,void 0,o,!1),u,f,p);v.level="error",YM(v,{originalException:g,mechanism:{handled:!1,type:"onerror"}})})}(n),wE("onerror")),e.onunhandledrejection&&(function(i){(function(r){const s="unhandledrejection";Oo(s,r),Ro(s,i4)})(r=>{const{stackParser:s,attachStacktrace:o}=SE();if(Cn()!==i||pE())return;const l=function(f){if(Z0(f))return f;try{if("reason"in f)return f.reason;if("detail"in f&&"reason"in f.detail)return f.detail.reason}catch{}return f}(r),u=Z0(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:d_(s,l,void 0,o,!0);u.level="error",YM(u,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),wE("onunhandledrejection"))}}};function wE(t){og&&$e.log(`Global Handler attached: ${t}`)}function SE(){const t=Cn();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const p5=()=>({name:"HttpContext",preprocessEvent(t){if(!ln.navigator&&!ln.location&&!ln.document)return;const e=t.request&&t.request.url||ln.location&&ln.location.href,{referrer:n}=ln.document||{},{userAgent:i}=ln.navigator||{},r={...t.request&&t.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},s={...t.request,...e&&{url:e},headers:r};t.request=s}}),m5=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(i,r,s){const o=s.getOptions();I4(Hw,o.stackParser,o.maxValueLength,n,e,i,r)}}};var xE="new",kE="loading",CE="loaded",h_="joining-meeting",xo="joined-meeting",ro="left-meeting",ea="error",g5="playable",_b="unknown",v5="full",y5="base",ME="no-room",b5="end-of-life",_5="connection-error",w5="iframe-ready-for-launch-config",S5="iframe-launch-config",x5="theme-updated",k5="loading",C5="load-attempt-failed",EE="loaded",M5="started-camera",E5="camera-error",T5="joining-meeting",A5="joined-meeting",O5="left-meeting",R5="participant-joined",D5="participant-updated",P5="participant-left",N5="participant-counts-updated",j5="access-state-updated",L5="meeting-session-summary-updated",I5="meeting-session-state-updated",B5="waiting-participant-added",$5="waiting-participant-updated",z5="waiting-participant-removed",F5="track-started",U5="track-stopped",V5="transcription-started",H5="transcription-stopped",q5="transcription-error",TE="recording-started",AE="recording-stopped",W5="recording-stats",G5="recording-error",J5="recording-upload-completed",Y5="recording-data",K5="app-message",X5="transcription-message",Q5="remote-media-player-started",Z5="remote-media-player-updated",eF="remote-media-player-stopped",tF="local-screen-share-started",nF="local-screen-share-stopped",iF="local-screen-share-canceled",rF="active-speaker-change",sF="active-speaker-mode-change",aF="network-quality-change",oF="network-connection",cF="cpu-load-change",lF="face-counts-updated",Hh="fullscreen",qh="exited-fullscreen",uF="live-streaming-started",dF="live-streaming-updated",fF="live-streaming-stopped",hF="live-streaming-error",pF="lang-updated",mF="receive-settings-updated",OE="input-settings-updated",RE="nonfatal-error",DE="error",wb=4096,PE=102400,Sb="iframe-call-message",NE="local-screen-start",jE="daily-method-update-live-streaming-endpoints",Wh="transmit-log",ys="daily-custom-track",Vp={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},zD={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},p_={PLAY:"play",PAUSE:"pause"},xb=["jpg","png","jpeg"],gF="add-endpoints",vF="remove-endpoints",LE="sip-call-transfer";function Vi(){return!st()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function st(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function FD(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function yF(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(Uo(),dm())||st())}function IE(){if(st()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var m_="none",bF="software",_F="hardware",wF=function(){try{var t,e=document.createElement("canvas"),n=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,t=e.getContext("webgl2"));var i=t!=null;return e.remove(),i?n?bF:_F:m_}catch{return m_}}();function UD(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!st()&&wF!==m_&&(t?function(){return $E()?!1:["Chrome","Firefox"].includes(Uo())}():function(){if($E())return!1;var e=Uo();if(e==="Safari"){var n=Gw();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?Ww().major>=77:e==="Firefox"?Jw().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function VD(){if(st()||HD()||typeof AudioWorkletNode>"u")return!1;switch(Uo()){case"Chrome":case"Firefox":return!0;case"Safari":var t=dm();return t.major>17||t.major===17&&t.minor>=4}return!1}function BE(){return FD()&&!function(){var t,e=Uo();if(!Vi())return!0;switch(e){case"Chrome":return(t=Ww()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Jw()).major<91;case"Safari":return(t=Gw()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function HD(){return Vi().match(/Linux; Android/)}function $E(){var t,e=Vi(),n=e.match(/Mac/)&&(!st()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!Vi().match(/DailyAnd\//)||void 0}function Uo(){if(typeof window<"u"){var t=Vi();return qD()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||WD()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function dm(){switch(Uo()){case"Chrome":return Ww();case"Safari":return Gw();case"Firefox":return Jw();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var n=Vi().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}()}}function Ww(){var t=0,e=0,n=0,i=0,r=!1;if(typeof window<"u"){var s=Vi(),o=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{t=parseInt(o[1]),e=parseInt(o[2]),n=parseInt(o[3]),i=parseInt(o[4]),r=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:i,opera:r}}function qD(){return!!Vi().match(/iPad|iPhone|iPod/i)&&FD()}function WD(){return Vi().indexOf("AppleWebKit/605.1.15")>-1}function Gw(){var t=0,e=0,n=0;if(typeof window<"u"){var i=Vi().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(i)try{t=parseInt(i[1]),e=parseInt(i[2]),n=parseInt(i[4])}catch{}else(qD()||WD())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function Jw(){var t=0,e=0;if(typeof window<"u"){var n=Vi().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var GD=function(){return _i(function t(){bi(this,t)},[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){Vu()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){Vu()}},{key:"sendMessageToCallMachine",value:function(t,e,n,i){Vu()}},{key:"sendMessageToDailyJs",value:function(t,e){Vu()}},{key:"removeListener",value:function(t){Vu()}}])}();function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(i){Er(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function JD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JD=function(){return!!t})()}var SF=function(){function t(){var e,n,i,r;return bi(this,t),n=this,i=lr(i=t),(e=eg(n,JD()?Reflect.construct(i,[],lr(n).constructor):i.apply(n,r)))._wrappedListeners={},e._messageCallbacks={},e}return tg(t,GD),_i(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,i){var r=this,s=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=kb({},o.data);if(delete l.from,l.callbackStamp&&r._messageCallbacks[l.callbackStamp]){var u=l.callbackStamp;r._messageCallbacks[u].call(i,l),delete r._messageCallbacks[u]}delete l.what,delete l.callbackStamp,e.call(i,l)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,i){var r=function(s){var o;if(!(!s.data||s.data.what!==Sb||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&n&&s.data.callClientId!==n||s!=null&&(o=s.data)!==null&&o!==void 0&&o.callFrameId)){var l=s.data;e.call(i,l)}};this._wrappedListeners[e]=r,window.addEventListener("message",r)}},{key:"sendMessageToCallMachine",value:function(e,n,i,r){if(!i)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=kb({},e);if(s.what=Sb,s.from="module",s.callClientId=i,n){var o=ng();this._messageCallbacks[o]=n,s.callbackStamp=o}var l=r?r.contentWindow:window,u=this._callMachineTargetOrigin(r);u&&l.postMessage(s,u)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=Sb,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,i){var r=kb({},e);r.callClientId=i;var s=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&s.postMessage(r,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var i=function(r){if(r.data&&r.data.what==="iframe-call-message"&&(!r.data.callClientId||r.data.callClientId===n)&&(!r.data.from||r.data.from!=="module")){var s=r.data;e(s)}};return this._wrappedListeners[e]=i,window.addEventListener("message",i),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}var xF=function(){function t(){var e,n,i,r;return bi(this,t),n=this,i=lr(i=t),e=eg(n,YD()?Reflect.construct(i,[],lr(n).constructor):i.apply(n,r)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new X0.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new X0.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return tg(t,GD),_i(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,i){this._addListener(e,global.callMachineToDailyJsEmitter,n,i,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,i){this._addListener(e,global.dailyJsToCallMachineEmitter,n,i,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,i){this._sendMessage(e,global.dailyJsToCallMachineEmitter,i,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,i,r,s){var o=this,l=function(u){if(u.callClientId===i){if(u.callbackStamp&&o._messageCallbacks[u.callbackStamp]){var f=u.callbackStamp;o._messageCallbacks[f].call(r,u),delete o._messageCallbacks[f]}e.call(r,u)}};this._wrappedListeners[e]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(e,n,i,r,s){var o=function(u){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?FE(Object(p),!0).forEach(function(g){Er(u,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):FE(Object(p)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(p,g))})}return u}({},e);if(o.callClientId=i,r){var l=ng();this._messageCallbacks[l]=r,o.callbackStamp=l}n.emit("message",o)}}])}(),g_="replace",v_="shallow-merge",UE=[g_,v_],kF=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,i=e.mergeStrategy,r=i===void 0?g_:i;bi(this,t),t._validateMergeStrategy(r),t._validateData(n,r),this.mergeStrategy=r,this.data=n}return _i(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===v_}},{key:"_validateMergeStrategy",value:function(e){if(!UE.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(UE,"]"))}},{key:"_validateData",value:function(e,n){if(!function(l){if(l==null||ct(l)!=="object")return!1;var u=Object.getPrototypeOf(l);return u==null||u===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var i;try{if(i=JSON.stringify(e),n===g_){var r=JSON.parse(i);Bn(r,e)||console.warn("The meeting session data provided will be modified when serialized.",r,e)}else if(n===v_){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var o=JSON.parse(JSON.stringify(e[s]));Bn(e[s],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,e[s])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(i.length>PE)throw Error("Meeting session data is too large (".concat(i.length," characters). Maximum size suppported is ").concat(PE,"."))}}])}();function KD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KD=function(){return!!t})()}function y_(t){var e=typeof Map=="function"?new Map:void 0;return y_=function(n){if(n===null||!function(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return function(r,s,o){if(KD())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,s);var u=new(r.bind.apply(r,l));return o&&Od(u,o.prototype),u}(n,arguments,lr(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Od(i,n)},y_(t)}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!t})()}function VE(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var i=n.indexOf(t);i!==-1&&n.splice(i,1)}}var CF=function(){return _i(function t(e){bi(this,t),this._currentLoad=null,this._callClientId=e},[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void i(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new MF(n,function(){i(!1)},function(s,o){o||VE(e._callClientId),r(s,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),VE(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),MF=function(){return _i(function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;bi(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=i},[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new HE(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())},3e3))};this._currentAttempt=new HE(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Cb=function(){function t(){return bi(this,t),e=this,i=arguments,n=lr(n=t),eg(e,XD()?Reflect.construct(n,i||[],lr(e).constructor):n.apply(e,i));var e,n,i}return tg(t,y_(Error)),_i(t)}(),fm=2e4,HE=function(){return _i(function e(n,i,r){bi(this,e),this._loadAttemptImpl=st()||!n.avoidEval?new EF(n,i,r):new TF(n,i,r)},[{key:"start",value:(t=Le(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t}(),EF=function(){return _i(function r(s,o,l){bi(this,r),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(i=Le(function*(){var r=sm(this._dailyConfig);!(yield this._tryLoadFromIOSCache(r))&&this._loadFromNetwork(r)}),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=Le(function*(r){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(r);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}}),function(r){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Le(function*(r){var s=this;this._networkTimeout=setTimeout(function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(fm," ms) when loading call object bundle ").concat(r),type:"timeout"})},fm);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(r,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Cb;var u=yield this._getBundleCodeFromResponse(r,l);if(this.cancelled)throw new Cb;Function('"use strict";'+u)(),this._iosCache&&this._iosCache.set(r,u,l.headers),this.succeeded=!0,this._successCallback()}catch(f){if(clearTimeout(this._networkTimeout),f instanceof Cb||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(r,": ").concat(f),type:f.message})}}),function(r){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Le(function*(r,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(r,s.headers)).code;throw new Error("Received ".concat(s.status," response"))}),function(r,s){return t.apply(this,arguments)})}]);var t,e,n,i}(),TF=function(){return _i(function t(e,n,i){bi(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=i,this._attemptId=ng(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=sm(this._dailyConfig);(typeof document>"u"?"undefined":ct(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(fm," ms) when loading call object bundle ").concat(t),type:"timeout"})},fm);var n=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},i.onerror=function(r){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(r.target.src),type:r.message})},i.src=t,n.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Gh=function(t,e,n){return OF(t.local,e,n)===!0},AF=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},al=function(t,e,n,i){var r=RF(t,e,n,i);return r&&r.pendingTrack},OF=function(t,e,n){if(!t)return!1;var i=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},r=t.public.subscribedTracks;return r&&r[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&r[e].custom?[!0,"staged"].includes(r[e].custom)?i(r[e].custom):i(r[e].custom[n]):i(r[e][n]):!r||i(r.ALL)},RF=function(t,e,n,i){var r=Object.values(t.streams||{}).filter(function(s){return s.participantId===e&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===i}).sort(function(s,o){return new Date(o.starttime)-new Date(s.starttime)});return r&&r[0]},DF=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function qE(t,e){for(var n=e.getState(),i=0,r=["cam","screen"];i<r.length;i++)for(var s=r[i],o=0,l=["video","audio"];o<l.length;o++){var u=l[o],f=s==="cam"?u:"screen".concat(u.charAt(0).toUpperCase()+u.slice(1)),p=t.tracks[f];if(p){var g=t.local?AF(n,s,u):al(n,t.session_id,s,u);p.state==="playable"&&(p.track=g),p.persistentTrack=g}}}function WE(t,e){try{var n=e.getState();for(var i in t.tracks)if(!PF(i)){var r=t.tracks[i].kind;if(r){var s=t.tracks[i];if(s){var o=t.local?DF(n,i):al(n,t.session_id,i,r);s.state==="playable"&&(t.tracks[i].track=o),s.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function PF(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function GE(t,e,n){var i=n.getState();if(t.local){if(t.audio)try{t.audioTrack=i.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=i.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=i.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=i.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var r=!0;try{var s=i.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(r=!1)}catch(p){console.error(p)}if(!r)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(i.streams,t.audio&&Gh(i,t.session_id,"cam-audio")){var o=al(i,t.session_id,"cam","audio");o&&(e&&e.audioTrack&&e.audioTrack.id===o.id?t.audioTrack=o:o.muted||(t.audioTrack=o)),t.audioTrack||(t.audio=!1)}if(t.video&&Gh(i,t.session_id,"cam-video")){var l=al(i,t.session_id,"cam","video");l&&(e&&e.videoTrack&&e.videoTrack.id===l.id?t.videoTrack=l:l.muted||(t.videoTrack=l)),t.videoTrack||(t.video=!1)}if(t.screen&&Gh(i,t.session_id,"screen-audio")){var u=al(i,t.session_id,"screen","audio");u&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===u.id?t.screenAudioTrack=u:u.muted||(t.screenAudioTrack=u))}if(t.screen&&Gh(i,t.session_id,"screen-video")){var f=al(i,t.session_id,"screen","video");f&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===f.id?t.screenVideoTrack=f:f.muted||(t.screenVideoTrack=f))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(p){console.error("unexpected error matching up tracks",p)}}}function NF(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return JE(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?JE(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function JE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var xr=new Map,hl=null;function jF(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return YE(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?YE(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var kr=new Map,bd=null;function LF(t){QD()?function(e){xr.has(e)||(xr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){xr.has(e)&&(xr.get(e).lastDevicesString=JSON.stringify(n),hl||(hl=function(){var i=Le(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),o=NF(xr.keys());try{for(o.s();!(r=o.n()).done;){var l=r.value,u=JSON.stringify(s);u!==xr.get(l).lastDevicesString&&(xr.get(l).lastDevicesString=u,l(s))}}catch(f){o.e(f)}finally{o.f()}});return function(){return i.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",hl)))}).catch(function(){}))}(t):function(e){kr.has(e)||(kr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){kr.has(e)&&(kr.get(e).lastDevicesString=JSON.stringify(n),bd||(bd=setInterval(Le(function*(){var i,r=yield navigator.mediaDevices.enumerateDevices(),s=jF(kr.keys());try{for(s.s();!(i=s.n()).done;){var o=i.value,l=JSON.stringify(r);l!==kr.get(o).lastDevicesString&&(kr.get(o).lastDevicesString=l,o(r))}}catch(u){s.e(u)}finally{s.f()}}),3e3)))}))}(t)}function IF(t){QD()?function(e){xr.has(e)&&(xr.delete(e),xr.size===0&&hl&&(navigator.mediaDevices.removeEventListener("devicechange",hl),hl=null))}(t):function(e){kr.has(e)&&(kr.delete(e),kr.size===0&&bd&&(clearInterval(bd),bd=null))}(t)}function QD(){var t;return st()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var BF=new Set;function $F(t,e){return t&&t.readyState==="live"&&!function(n,i){return n.muted&&!BF.has(n.id)}(t)}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(i){Er(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var ad=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),zF=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),_d=Object.values(ad),XE=["v","a","sv","sa","cv","ca"];Object.freeze(_d.reduce(function(t,e,n){return t[e]=XE[n],t},{})),Object.freeze(XE.reduce(function(t,e,n){return t[e]=_d[n],t},{}));var FF=[ad.VIDEO,ad.AUDIO,ad.SCREEN_VIDEO,ad.SCREEN_AUDIO],QE=Object.values(zF),ZE=["p","s","t"];Object.freeze(QE.reduce(function(t,e,n){return t[e]=ZE[n],t},{})),Object.freeze(ZE.reduce(function(t,e,n){return t[e]=QE[n],t},{}));var ZD=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,i=e.byUserId,r=e.byParticipantId;bi(this,t),this.base=n,this.byUserId=i,this.byParticipantId=r}return _i(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof _n?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var i=this.byUserId[n];e.byUserId[n]=i instanceof _n?i.clone():i}if(this.byParticipantId!==void 0)for(var r in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[r];e.byParticipantId[r]=s instanceof _n?s.clone():s}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof _n&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var i=this.byUserId[n];e.byUserId[n]=i instanceof _n?i.toJSONObject():i}if(this.byParticipantId!==void 0)for(var r in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[r];e.byParticipantId[r]=s instanceof _n?s.toJSONObject():s}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var i=this.byUserId[n];e.u[n]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var r in e.p={},this.byParticipantId){var s=this.byParticipantId[r];e.p[r]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof _n&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(e){var n=En(e,2),i=n[0],r=n[1];return[i,r instanceof _n?r.normalize():r]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(e){var n=En(e,2),i=n[0],r=n[1];return[i,r instanceof _n?r.normalize():r]}))),this}}],[{key:"fromJSONObject",value:function(e){var n,i,r;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:_n.fromJSONObject(e.base)),e.byUserId!==void 0)for(var s in i={},e.byUserId){var o=e.byUserId[s];i[s]=typeof o=="boolean"?o:_n.fromJSONObject(o)}if(e.byParticipantId!==void 0)for(var l in r={},e.byParticipantId){var u=e.byParticipantId[l];r[l]=typeof u=="boolean"?u:_n.fromJSONObject(u)}return new t({base:n,byUserId:i,byParticipantId:r})}},{key:"fromMinifiedJSONObject",value:function(e){var n,i,r;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:_n.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var s in i={},e.u){var o=e.u[s];i[s]=typeof o=="boolean"?o:_n.fromMinifiedJSONObject(o)}if(e.p!==void 0)for(var l in r={},e.p){var u=e.p[l];r[l]=typeof u=="boolean"?u:_n.fromMinifiedJSONObject(u)}return new t({base:n,byUserId:i,byParticipantId:r})}},{key:"validateJSONObject",value:function(e){if(ct(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],i=0,r=Object.keys(e);i<r.length;i++){var s=r[i];if(!n.includes(s))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(s==="base"){var o=En(_n.validateJSONObject(e.base,!0),2),l=o[0],u=o[1];if(!l)return[!1,u]}else{if(ct(e[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var f=0,p=Object.values(e[s]);f<p.length;f++){var g=p[f],v=En(_n.validateJSONObject(g),2),S=v[0],k=v[1];if(!S)return[!1,k]}}}return[!0]}}])}(),_n=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,i=e.audio,r=e.screenVideo,s=e.screenAudio,o=e.customVideo,l=e.customAudio;bi(this,t),this.video=n,this.audio=i,this.screenVideo=r,this.screenAudio=s,this.customVideo=o,this.customAudio=l}return _i(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=ta({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=ta({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=ta({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=ta({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=ta({},this.customVideo)),this.customAudio!==void 0&&(e.ca=ta({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,i){return n&&Object.keys(n).length===1&&n["*"]===i}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?ta({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?ta({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(ct(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var i=Object.keys(e),r=0,s=i;r<s.length;r++){var o=s[r];if(!_d.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(FF.includes(o)){if(typeof e[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(ct(e[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,u=Object.values(e[o]);l<u.length;l++)if(typeof u[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&e[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&i.length!==_d.length?[!1,'canReceive "base" permission must specify all media types: '.concat(_d.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),UF=["result"],VF=["preserveIframe"];function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(i){Er(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!t})()}function tT(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return nT(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?nT(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var so={},iT="video",HF="voice",rT=st()?{data:{}}:{data:{},topology:"none"},sT={present:0,hidden:0},tP={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Mb=Object.keys(tP),aT=["state","volume","simulcastEncodings"],oT={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},hm={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},b_={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ao={customIntegrations:{validate:lP,help:oP()},customTrayButtons:{validate:cP,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(hm))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return uP(t,oT)},help:"reactNativeConfig should look like ".concat(JSON.stringify(oT),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return nP(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:ys};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:ys};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(i){for(var r=0,s=Object.keys(i);r<s.length;r++){var o=s[r];if(!e.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(e.join(", "))),!1;if(!i[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(i[o],'"')),!1}return!0};return ct(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return iP(t,{allowAllParticipantsKey:!1})},help:aP({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(n,i){try{return i.validateUpdateSendSettings(n),!0}catch(r){return console.error("Failed to validate send settings",r),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!rP(t)&&(e._inputSettings||(e._inputSettings={}),sP(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:__()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Jh={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var i in t.screen)if(i!=="div"&&i!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!st()&&t==="avatar")return!0;var i=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],r=function(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in s)if(l==="custom"){if(!n.includes(s[l])&&!r(s[l],!0))return!1}else{var u=!o&&!i.includes(l),f=!n.includes(s[l]);if(u||f)return!1}return!0};return r(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(st()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=En(n[e],2),r=i[0],s=i[1];switch(r){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],u=tT(s);try{for(u.s();!(o=u.n()).done;){var f=o.value;if(!l.includes(f))return!1}}catch(T){u.e(T)}finally{u.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canSend=new Set(s));break;case"canReceive":var p=En(ZD.validateJSONObject(s),2),g=p[0],v=p[1];if(!g)return console.error(v),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var S,k=["participants","streaming","transcription"],w=tT(s);try{for(w.s();!(S=w.n()).done;){var C=S.value;if(!k.includes(C))return!1}}catch(T){w.e(T)}finally{w.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=Le(function*(e){return new Promise(function(n,i){var r=[];e.forEach(function(s){return Promise.resolve(s).then(function(o){n(o)}).catch(function(o){r.push(o),r.length===e.length&&i(r)})})})});return function(e){return t.apply(this,arguments)}}());var cT=function(){function t(h){var b,_,O,A,I,F,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bi(this,t),O=this,A=lr(A=t),Er(_=eg(O,eP()?Reflect.construct(A,[],lr(O).constructor):A.apply(O,I)),"startListeningForDeviceChanges",function(){LF(_.handleDeviceChange)}),Er(_,"stopListeningForDeviceChanges",function(){IF(_.handleDeviceChange)}),Er(_,"handleDeviceChange",function(oe){oe=oe.map(function(pe){return JSON.parse(JSON.stringify(pe))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:oe})}),Er(_,"handleNativeAppStateChange",function(){var oe=Le(function*(pe){if(pe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Te=pe==="active";_.disableReactNativeAutoDeviceManagement("video")||(Te?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(pe){return oe.apply(this,arguments)}}()),Er(_,"handleNativeAudioFocusChange",function(oe){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=oe,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),Er(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),_.strictMode=U.strictMode===void 0||U.strictMode,_.allowMultipleCallInstances=(b=U.allowMultipleCallInstances)!==null&&b!==void 0&&b,Object.keys(so).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=ng(),so[(F=_).callClientId]=F,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,U.dailyJsVersion=t.version(),_._iframe=h,_._callObjectMode=U.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},U.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!U.showLocalVideo:_._showLocalVideo=!0,U.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!U.showParticipantsBar:_._showParticipantsBar=!0,U.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=U.customIntegrations:_._customIntegrations={},U.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=U.customTrayButtons:_._customTrayButtons={},U.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!U.activeSpeakerMode:_._activeSpeakerMode=!1,U.receiveSettings?_._callObjectMode?_._receiveSettings=U.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(U),_.properties=Oe({},U),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new CF(_.callClientId):null,_._callState=xE,_._isPreparingToJoin=!1,_._accessState={access:_b},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=Ab(rT,_._callObjectMode),_._nativeInCallAudioMode=iT,_._participants={},_._isScreenSharing=!1,_._participantCounts=sT,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=wb,_._messageChannel=st()?new xF:new SF,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Hh}),_.sendMessageToCallMachine({action:Hh})):(_.emitDailyJSEvent({action:qh}),_.sendMessageToCallMachine({action:qh}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Hh}),_.sendMessageToCallMachine({action:Hh})):(_.emitDailyJSEvent({action:qh}),_.sendMessageToCallMachine({action:qh}))})),st()){var K=_.nativeUtils();K.addAudioFocusChangeListener&&K.removeAudioFocusChangeListener&&K.addAppStateChangeListener&&K.removeAppStateChangeListener&&K.addSystemScreenCaptureStopListener&&K.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,K.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),K.addAppStateChangeListener(_.handleNativeAppStateChange),K.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return tg(t,Lh),_i(t,[{key:"destroy",value:(Q=Le(function*(){var h;try{yield this.leave()}catch{}var b=this._iframe;if(b){var _=b.parentElement;_&&_.removeChild(b)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),st()){var O=this.nativeUtils();O.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),O.removeAppStateChangeListener(this.handleNativeAppStateChange),O.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete so[this.callClientId],!((h=window)===null||h===void 0||(h=h._daily)===null||h===void 0)&&h.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Q.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(h){var b=h.bodyClass,_=h.cssFile,O=h.cssText;return nt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:b,cssText:O}),this}},{key:"iframe",value:function(){return nt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ki(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ki(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(h,b){for(var _ in b){if(!Jh[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(Jh[_].validate&&!Jh[_].validate(b[_],this,this._participants[h]))throw new Error(Jh[_].help)}}},{key:"updateParticipant",value:function(h,b){return this._participants.local&&this._participants.local.session_id===h&&(h="local"),h&&b&&(this.validateParticipantProperties(h,b),this.sendMessageToCallMachine({action:"update-participant",id:h,properties:b})),this}},{key:"updateParticipants",value:function(h){var b=this._participants.local&&this._participants.local.session_id;for(var _ in h)_===b&&(_="local"),_&&h[_]&&this.validateParticipantProperties(_,h[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:h}),this}},{key:"updateWaitingParticipant",value:(V=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ki(this._callObjectMode,"updateWaitingParticipant()"),Et(this._callState,"updateWaitingParticipant()"),typeof b!="string"||ct(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(O,A){h.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:b,updates:_},function(I){I.error&&A(I.error),I.id||A(new Error("unknown error in updateWaitingParticipant()")),O({id:I.id})})})}),function(){return V.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(we=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ki(this._callObjectMode,"updateWaitingParticipants()"),Et(this._callState,"updateWaitingParticipants()"),ct(b)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,O){h.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:b},function(A){A.error&&O(A.error),A.ids||O(new Error("unknown error in updateWaitingParticipants()")),_({ids:A.ids})})})}),function(){return we.apply(this,arguments)})},{key:"requestAccess",value:(se=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=b.access,O=_===void 0?{level:v5}:_,A=b.name,I=A===void 0?"":A;return Ki(this._callObjectMode,"requestAccess()"),Et(this._callState,"requestAccess()"),new Promise(function(F,U){h.sendMessageToCallMachine({action:"daily-method-request-access",access:O,name:I},function(K){K.error&&U(K.error),K.access||U(new Error("unknown error in requestAccess()")),F({access:K.access,granted:K.granted})})})}),function(){return se.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in b&&(st()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),b={}):h&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),b={})),this.sendMessageToCallMachine({action:"local-audio",state:h,options:b}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(h){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:h}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(h){return this.sendMessageToCallMachine({action:"local-video",state:h}),this}},{key:"_setAllowLocalAudio",value:function(h){if(this._preloadCache.allowLocalAudio=h,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:h}),this}},{key:"_setAllowLocalVideo",value:function(h){if(this._preloadCache.allowLocalVideo=h,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:h}),this}},{key:"getReceiveSettings",value:(Y=Le(function*(h){var b=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,O=_!==void 0&&_;if(Ki(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(ct(h)){case"string":return new Promise(function(A){b.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:h,showInheritedValues:O},function(I){A(I.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(h){return Y.apply(this,arguments)})},{key:"updateReceiveSettings",value:(te=Le(function*(h){var b=this;if(Ki(this._callObjectMode,"updateReceiveSettings()"),!iP(h,{allowAllParticipantsKey:!0}))throw new Error(aP({allowAllParticipantsKey:!0}));return Et(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){b.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:h},function(O){_({receiveSettings:O.receiveSettings})})})}),function(h){return te.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(h,b){if(h){var _={};if(h.audio){var O,A,I;h.audio.settings&&(!Object.keys(h.audio.settings).length&&b||(_.audio={settings:Oe({},h.audio.settings)})),b&&(O=_.audio)!==null&&O!==void 0&&(O=O.settings)!==null&&O!==void 0&&O.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var F=((A=h.audio.processor)===null||A===void 0?void 0:A.type)==="none"&&((I=h.audio.processor)===null||I===void 0?void 0:I._isDefaultWhenNone);if(h.audio.processor&&!F){var U=Oe({},h.audio.processor);delete U._isDefaultWhenNone,_.audio=Oe(Oe({},_.audio),{},{processor:U})}}if(h.video){var K,oe,pe;h.video.settings&&(!Object.keys(h.video.settings).length&&b||(_.video={settings:Oe({},h.video.settings)})),b&&(K=_.video)!==null&&K!==void 0&&(K=K.settings)!==null&&K!==void 0&&K.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Te=((oe=h.video.processor)===null||oe===void 0?void 0:oe.type)==="none"&&((pe=h.video.processor)===null||pe===void 0?void 0:pe._isDefaultWhenNone);if(h.video.processor&&!Te){var qe=Oe({},h.video.processor);delete qe._isDefaultWhenNone,_.video=Oe(Oe({},_.video),{},{processor:qe})}}return _}}},{key:"getInputSettings",value:function(){var h=this;return nt(),new Promise(function(b){b(h._getInputSettings())})}},{key:"_getInputSettings",value:function(){var h,b,_,O,A,I,F={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(h=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||F,b=((O=this._inputSettings)===null||O===void 0?void 0:O.audio)||F):(h=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.video)||F,b=((I=this._preloadCache)===null||I===void 0||(I=I.inputSettings)===null||I===void 0?void 0:I.audio)||F);var U={audio:b,video:h};return this._prepInputSettingsForSharing(U,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(h,b){var _=this._inputSettings||{},O={};if(h.video){var A,I,F;O.video={},h.video.settings?(O.video.settings={},b||h.video.settings.customTrack||(F=_.video)===null||F===void 0||!F.settings?O.video.settings=h.video.settings:O.video.settings=Oe(Oe({},_.video.settings),h.video.settings),Object.keys(O.video.settings).length||delete O.video.settings):(A=_.video)!==null&&A!==void 0&&A.settings&&(O.video.settings=_.video.settings),h.video.processor?O.video.processor=h.video.processor:(I=_.video)!==null&&I!==void 0&&I.processor&&(O.video.processor=_.video.processor)}else _.video&&(O.video=_.video);if(h.audio){var U,K,oe;O.audio={},h.audio.settings?(O.audio.settings={},b||h.audio.settings.customTrack||(oe=_.audio)===null||oe===void 0||!oe.settings?O.audio.settings=h.audio.settings:O.audio.settings=Oe(Oe({},_.audio.settings),h.audio.settings),Object.keys(O.audio.settings).length||delete O.audio.settings):(U=_.audio)!==null&&U!==void 0&&U.settings&&(O.audio.settings=_.audio.settings),h.audio.processor?O.audio.processor=h.audio.processor:(K=_.audio)!==null&&K!==void 0&&K.processor&&(O.audio.processor=_.audio.processor)}else _.audio&&(O.audio=_.audio);this._maybeUpdateInputSettings(O)}},{key:"_devicesFromInputSettings",value:function(h){var b,_,O=(h==null||(b=h.video)===null||b===void 0||(b=b.settings)===null||b===void 0?void 0:b.deviceId)||null,A=(h==null||(_=h.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,I=this._preloadCache.outputDeviceId||null;return{camera:O?{deviceId:O}:{},mic:A?{deviceId:A}:{},speaker:I?{deviceId:I}:{}}}},{key:"updateInputSettings",value:(H=Le(function*(h){var b=this;return nt(),rP(h)?h.video||h.audio?(sP(h,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(h,!0),this._getInputSettings()):new Promise(function(_,O){b.sendMessageToCallMachine({action:"update-input-settings",inputSettings:h},function(A){if(A.error)O(A.error);else{if(A.returnPreloadCache)return b._updatePreloadCacheInputSettings(h,!0),void _(b._getInputSettings());b._maybeUpdateInputSettings(A.inputSettings),_(b._prepInputSettingsForSharing(A.inputSettings,!0))}})})):this._getInputSettings():(console.error(__()),Promise.reject(__()))}),function(h){return H.apply(this,arguments)})},{key:"setBandwidth",value:function(h){var b=h.kbs,_=h.trackConstraints;if(nt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:b,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var h=this;if(nt(),this._callMachineInitialized)return new Promise(function(b){h.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,b(_)})})}},{key:"setDailyLang",value:function(h){return nt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:h}),this}},{key:"setProxyUrl",value:function(h){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:h}),this}},{key:"setIceConfig",value:function(h){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:h}),this}},{key:"meetingSessionSummary",value:function(){return[ro,ea].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(he=Le(function*(){var h=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Et(this._callState,"getMeetingSession()"),new Promise(function(b){h.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,b(_)})})}),function(){return he.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Et(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ki(this._callObjectMode,"setMeetingSessionData()"),Et(this._callState,"setMeetingSessionData");try{(function(_,O){new kF({data:_,mergeStrategy:O})})(h,b)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:h,mergeStrategy:b})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(h,b){var _=this;return this.properties.userName=h,new Promise(function(O){_.sendMessageToCallMachine({action:"set-user-name",name:h??"",thisMeetingOnly:st()||!!b&&!!b.thisMeetingOnly},function(A){delete A.action,delete A.callbackStamp,O(A)})})}},{key:"setUserData",value:(ue=Le(function*(h){var b=this;try{nP(h)}catch(_){throw console.error(_),_}if(this.properties.userData=h,this._callMachineInitialized)return new Promise(function(_){try{b.sendMessageToCallMachine({action:"set-user-data",userData:h},function(O){delete O.action,delete O.callbackStamp,_(O)})}catch(O){throw new Error("Error setting user data: ".concat(O))}})}),function(h){return ue.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(h){if(h&&(h<100||typeof h!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(h){var b=this;if(typeof AudioWorkletNode>"u"&&!st())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(h),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,O){b.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:h},function(A){b._isLocalAudioLevelObserverRunning=!A.error,A.error?O({error:A.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:h}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(h){var b=this;if(this.validateAudioLevelInterval(h),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,O){b.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:h},function(A){b._isRemoteParticipantsAudioLevelObserverRunning=!A.error,A.error?O({error:A.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:h}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(ye=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ki(this._callObjectMode,"startCamera()"),Eb(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(b)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(b),this.properties=Oe(Oe({},this.properties),b)}return new Promise(function(_){h._preloadCache.inputSettings=h._prepInputSettingsForSharing(h._inputSettings,!1),h.sendMessageToCallMachine({action:"start-camera",properties:Jc(h.properties,h.callClientId),preloadCache:Jc(h._preloadCache,h.callClientId)},function(O){_({camera:O.camera,mic:O.mic,speaker:O.speaker})})})}),function(){return ye.apply(this,arguments)})},{key:"validateCustomTrack",value:function(h,b,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(b&&b!=="music"&&b!=="speech"&&!(b instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(h instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return nt(),Et(this._callState,"startCustomTrack()"),this.validateCustomTrack(b.track,b.mode,b.trackName),new Promise(function(_,O){h._sharedTracks.customTrack=b.track,b.track=ys,h.sendMessageToCallMachine({action:"start-custom-track",properties:b},function(A){A.error?O({error:A.error}):_(A.mediaTag)})})}},{key:"stopCustomTrack",value:function(h){var b=this;return nt(),Et(this._callState,"stopCustomTrack()"),new Promise(function(_){b.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:h},function(O){_(O.mediaTag)})})}},{key:"setCamera",value:function(h){var b=this;return Hu(),Yh(this._callMachineInitialized,"setCamera()"),new Promise(function(_){b.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:h},function(O){_({device:O.device})})})}},{key:"setAudioDevice",value:(re=Le(function*(h){return Hu(),this.nativeUtils().setAudioDevice(h),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(h){return re.apply(this,arguments)})},{key:"cycleCamera",value:function(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){h.sendMessageToCallMachine({action:"cycle-camera",properties:b},function(O){_({device:O.device})})})}},{key:"cycleMic",value:function(){var h=this;return nt(),new Promise(function(b){h.sendMessageToCallMachine({action:"cycle-mic"},function(_){b({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var h=this;return Hu(),new Promise(function(b){h.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){b(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(Z=Le(function*(h){var b=this,_=h.audioDeviceId,O=h.videoDeviceId,A=h.audioSource,I=h.videoSource;if(nt(),A!==void 0&&(_=A),I!==void 0&&(O=I),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof O=="boolean"&&(this._setAllowLocalVideo(O),O=void 0),!_&&!O)return yield this.getInputDevices();var F={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=ys,F.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,F.audio={settings:{deviceId:_}})),O&&(O instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=O,O=ys,F.video={settings:{customTrack:O}}):(delete this._sharedTracks.videoTrack,F.video={settings:{deviceId:O}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(F,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(U){b.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:O},function(K){if(delete K.action,delete K.callbackStamp,K.returnPreloadCache)return b._updatePreloadCacheInputSettings(F,!1),void U(b._devicesFromInputSettings(b._inputSettings));U(K)})})}),function(h){return Z.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(J=Le(function*(h){var b=this,_=h.outputDeviceId;if(nt(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(O,A){b.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(I){if(delete I.action,delete I.callbackStamp,I.error){var F=new Error(I.error.message);return F.type=I.error.type,void A(F)}I.returnPreloadCache?O(b._devicesFromInputSettings(b._inputSettings)):O(I)})})}),function(h){return J.apply(this,arguments)})},{key:"getInputDevices",value:(W=Le(function*(){var h=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(b){h.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?b(h._devicesFromInputSettings(h._inputSettings)):b({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Hu(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(h){if(Hu(),[iT,HF].includes(h)){if(h!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=h,!this.disableReactNativeAutoDeviceManagement("audio")&&Hp(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",h)}},{key:"preAuth",value:(z=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ki(this._callObjectMode,"preAuth()"),Eb(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(b)),!b.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(b),this.properties=Oe(Oe({},this.properties),b),new Promise(function(_,O){h._preloadCache.inputSettings=h._prepInputSettingsForSharing(h._inputSettings,!1),h.sendMessageToCallMachine({action:"daily-method-preauth",properties:Jc(h.properties,h.callClientId),preloadCache:Jc(h._preloadCache,h.callClientId)},function(A){return A.error?O(A.error):A.access?(h._didPreAuth=!0,void _({access:A.access})):O(new Error("unknown error in preAuth()"))})})}),function(){return z.apply(this,arguments)})},{key:"load",value:(L=Le(function*(h){var b=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(h&&(this.validateProperties(h),this.properties=Oe(Oe({},this.properties),h)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(kE),this.emitDailyJSEvent({action:k5}),this._callObjectMode?new Promise(function(_,O){b._callObjectLoader.cancel();var A=Date.now();b._callObjectLoader.load(b.properties.dailyConfig,function(I){b._bundleLoadTime=I?"no-op":Date.now()-A,b._updateCallState(CE),I&&b.emitDailyJSEvent({action:EE}),_()},function(I,F){if(b.emitDailyJSEvent({action:C5}),!F){b._updateCallState(ea),b.resetMeetingDependentVars();var U={action:DE,errorMsg:I.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:I,bundleUrl:sm(b.properties.dailyConfig)}}};b._maybeSendToSentry(U),b.emitDailyJSEvent(U),O(I.msg)}})}):(this._iframe.src=xD(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,O){b._loadedCallback=function(A){b._callState!==ea?(b._updateCallState(CE),(b.properties.cssFile||b.properties.cssText)&&b.loadCss(b.properties),_()):O(A)}}))}}),function(h){return L.apply(this,arguments)})},{key:"join",value:(B=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(b)}catch(O){return this.updateIsPreparingToJoin(!1),Promise.reject(O)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(b.url&&!this._callObjectMode&&b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(b.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(b),this.properties=Oe(Oe({},this.properties),b)}return b.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!b.showLocalVideo),b.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!b.showParticipantsBar),this._callState===xo||this._callState===h_?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(h_,!1),this.emitDailyJSEvent({action:T5}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Jc(this.properties,this.callClientId),preloadCache:Jc(this._preloadCache,this.callClientId)}),new Promise(function(O,A){h._joinedCallback=function(I,F){if(h._callState!==ea){if(h._updateCallState(xo),I)for(var U in I){if(h._callObjectMode){var K=h._callMachine().store;qE(I[U],K),WE(I[U],K),GE(I[U],h._participants[U],K)}h._participants[U]=Oe({},I[U]),h.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&h.loadCss(h.properties),O(I)}else A(F)}}))}),function(){return B.apply(this,arguments)})},{key:"leave",value:(N=Le(function*(){var h=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(b){h._callState===ro||h._callState===ea?b():h._callObjectLoader&&!h._callObjectLoader.loaded?(h._callObjectLoader.cancel(),h._updateCallState(ro),h.resetMeetingDependentVars(),h.emitDailyJSEvent({action:ro}),b()):(h._resolveLeave=b,h.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(j=Le(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yh(this._callMachineInitialized,"startScreenShare()"),b.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",b.screenVideoSendSettings),b.mediaStream&&(this._sharedTracks.screenMediaStream=b.mediaStream,b.mediaStream=ys),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:RE,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),h.sendMessageToCallMachine({action:NE,captureOptions:b})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:NE,captureOptions:b})}),function(){return j.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Yh(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=h.type;if(b&&b!=="cloud"&&b!=="raw-tracks"&&b!=="local")throw new Error("invalid type: ".concat(b,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Oe({action:"local-recording-start"},h))}},{key:"updateRecording",value:function(h){var b=h.layout,_=b===void 0?{preset:"default"}:b,O=h.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:O})}},{key:"stopRecording",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Oe({action:"local-recording-stop"},h))}},{key:"startLiveStreaming",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Oe({action:"daily-method-start-live-streaming"},h))}},{key:"updateLiveStreaming",value:function(h){var b=h.layout,_=b===void 0?{preset:"default"}:b,O=h.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:O})}},{key:"addLiveStreamingEndpoints",value:function(h){var b=h.endpoints,_=h.instanceId;this.sendMessageToCallMachine({action:jE,endpointsOp:gF,endpoints:b,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(h){var b=h.endpoints,_=h.instanceId;this.sendMessageToCallMachine({action:jE,endpointsOp:vF,endpoints:b,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Oe({action:"daily-method-stop-live-streaming"},h))}},{key:"validateDailyConfig",value:function(h){h.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(h.camSimulcastEncodings)),h.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),HD()&&h.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(h){if(!(h instanceof Array||Array.isArray(h)))throw new Error("encodings must be an Array");if(!fT(h.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var O=0;O<h.length;O++){var A=h[O];for(var I in this._validateEncodingLayerHasValidProperties(A),A)if(Mb.includes(I)){if(typeof A[I]!="number")throw new Error("".concat(I," must be a number"));if(b){var F=b[I],U=F.min,K=F.max;if(!fT(A[I],U,K))throw new Error("".concat(I," value not in range. valid range: ").concat(U," to ").concat(K))}}else if(!["active","scalabilityMode"].includes(I))throw new Error("Invalid key ".concat(I,", valid keys are:")+Object.values(Mb));if(_&&!A.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(P=Le(function*(h){var b=this,_=h.url,O=h.settings,A=O===void 0?{state:p_.PLAY}:O;try{(function(I){if(typeof I!="string")throw new Error('url parameter must be "string" type')})(_),dT(A),function(I){for(var F in I)if(!aT.includes(F))throw new Error("Invalid key ".concat(F,", valid keys are: ").concat(aT));I.simulcastEncodings&&this.validateSimulcastEncodings(I.simulcastEncodings,tP,!0)}(A)}catch(I){throw console.error("invalid argument Error: ".concat(I)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),I}return new Promise(function(I,F){b.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:A},function(U){U.error?F({error:U.error,errorMsg:U.errorMsg}):I({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(h){return P.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(D=Le(function*(h){var b=this;if(typeof h!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,O){b.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:h},function(A){A.error?O({error:A.error,errorMsg:A.errorMsg}):_()})})}),function(h){return D.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(T=Le(function*(h){var b=this,_=h.session_id,O=h.settings;try{dT(O)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),A}return new Promise(function(A,I){b.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:O},function(F){F.error?I({error:F.error,errorMsg:F.errorMsg}):A({session_id:F.session_id,remoteMediaPlayerState:{state:F.state,settings:F.settings}})})})}),function(h){return T.apply(this,arguments)})},{key:"startTranscription",value:function(h){Et(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Oe({action:"daily-method-start-transcription"},h))}},{key:"updateTranscription",value:function(h){if(Et(this._callState,"updateTranscription()"),!h)throw new Error("updateTranscription Error: options is mandatory");if(ct(h)!=="object")throw new Error("updateTranscription Error: options must be object type");if(h.participants&&!Array.isArray(h.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Oe({action:"daily-method-update-transcription"},h))}},{key:"stopTranscription",value:function(h){if(Et(this._callState,"stopTranscription()"),h&&ct(h)!=="object")throw new Error("stopTranscription Error: options must be object type");if(h&&!h.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Oe({action:"daily-method-stop-transcription"},h))}},{key:"startDialOut",value:(C=Le(function*(h){var b=this;Et(this._callState,"startDialOut()");var _=function(F){if(F){if(!Array.isArray(F))throw new Error("Error starting dial out: audio codec must be an array");if(F.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");F.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: audio codec must be a string");if(U!=="OPUS"&&U!=="PCMU"&&U!=="PCMA"&&U!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!h.sipUri&&!h.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(h.sipUri&&h.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(h.sipUri){if(typeof h.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!h.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(h.video&&typeof h.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(F){if(F&&(_(F.audio),F.video)){if(!Array.isArray(F.video))throw new Error("Error starting dial out: video codec must be an array");if(F.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");F.video.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: video codec must be a string");if(U!=="H264"&&U!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(h.codecs)}if(h.phoneNumber){if(typeof h.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(h.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");h.codecs&&_(h.codecs.audio)}if(h.callerId){if(typeof h.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(h.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(h.displayName){if(typeof h.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(h.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(h.userId){if(typeof h.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(h.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(h.permissions&&h.permissions.canReceive){var O=En(ZD.validateJSONObject(h.permissions.canReceive),2),A=O[0],I=O[1];if(!A)throw new Error(I)}return new Promise(function(F,U){b.sendMessageToCallMachine(Oe({action:"dialout-start"},h),function(K){K.error?U(K.error):F(K)})})}),function(h){return C.apply(this,arguments)})},{key:"stopDialOut",value:function(h){var b=this;return Et(this._callState,"stopDialOut()"),new Promise(function(_,O){b.sendMessageToCallMachine(Oe({action:"dialout-stop"},h),function(A){A.error?O(A.error):_(A)})})}},{key:"sipCallTransfer",value:(w=Le(function*(h){var b=this;if(Et(this._callState,"sipCallTransfer()"),!h)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return h.useSipRefer=!1,uT(h,"sipCallTransfer"),new Promise(function(_,O){b.sendMessageToCallMachine(Oe({action:LE},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return w.apply(this,arguments)})},{key:"sipRefer",value:(k=Le(function*(h){var b=this;if(Et(this._callState,"sipRefer()"),!h)throw new Error("sessionId and toEndPoint are mandatory parameter");return h.useSipRefer=!0,uT(h,"sipRefer"),new Promise(function(_,O){b.sendMessageToCallMachine(Oe({action:LE},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return k.apply(this,arguments)})},{key:"sendDTMF",value:(S=Le(function*(h){var b=this;return Et(this._callState,"sendDTMF()"),function(_){var O=_.sessionId,A=_.tones;if(!O||!A)throw new Error("sessionId and tones are mandatory parameter");if(typeof O!="string"||typeof A!="string")throw new Error("sessionId and tones should be of string type");if(A.length>20)throw new Error("tones string must be upto 20 characters");var I=/[^0-9A-D*#]/g,F=A.match(I);if(F&&F[0])throw new Error("".concat(F[0]," is not valid DTMF tone"))}(h),new Promise(function(_,O){b.sendMessageToCallMachine(Oe({action:"send-dtmf"},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return S.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var h=this;return this._callState!==xo?Promise.resolve(Oe({stats:{latest:{}}},this._network)):new Promise(function(b){h.sendMessageToCallMachine({action:"get-calc-stats"},function(_){b(Oe(Oe({},h._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(v=Le(function*(){var h=this;if(Tb(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(b){return Promise.reject(b)}return new Promise(function(b,_){h.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(O){O.error?_(O.error):b(O.results)})})}),function(){return v.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(h){return h?h instanceof MediaStreamTrack?!!$F(h)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(g=Le(function*(){var h=this;nt(),Ki(this._callObjectMode,"testCallQuality()"),Yh(this._callMachineInitialized,"testCallQuality()",null,!0),Eb(this._callState,this._isPreparingToJoin,"testCallQuality()");var b=this._testCallAlreadyInProgress,_=function(A){b||(h._testCallInProgress=A)};if(_(!0),this.needsLoad())try{var O=this._callState;yield this.load(),this._callState=O}catch(A){return _(!1),Promise.reject(A)}return new Promise(function(A){h.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:h.properties.dailyJsVersion},function(I){var F=I.results,U=F.result,K=yM(F,UF);if(U==="failed"){var oe,pe=Oe({},K);(oe=K.error)!==null&&oe!==void 0&&oe.details?(K.error.details=JSON.parse(K.error.details),pe.error=Oe(Oe({},pe.error),{},{details:Oe({},pe.error.details)}),pe.error.details.duringTest="testCallQuality"):(pe.error=pe.error?Oe({},pe.error):{},pe.error.details={duringTest:"testCallQuality"}),h._maybeSendToSentry(pe)}_(!1),A(Oe({result:U},K))})})}),function(){return g.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(p=Le(function*(h){var b;st()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),b=yield this.testPeerToPeerCallQuality(h)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),b=yield this.testCallQuality());var _={result:b.result,secondsElapsed:b.secondsElapsed};return b.data&&(_.data={maxRTT:b.data.maxRoundTripTime,packetLoss:b.data.avgRecvPacketLoss}),_}),function(h){return p.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(f=Le(function*(h){var b=this;if(Tb(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}var _=h.videoTrack,O=h.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(A,I){b.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:O},function(F){F.error?I(F.error):A(F.results)})})}),function(h){return f.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){st()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(u=Le(function*(h){var b=this;if(Tb(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(h))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=h,new Promise(function(_,O){b.sendMessageToCallMachine({action:"test-network-connectivity"},function(A){A.error?O(A.error):_(A.results)})})}),function(h){return u.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var h=this;return new Promise(function(b){h._callState===xo?h.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){b(_.cpuStats)}):b({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(h){var b;if(!(((b=Object.keys(h))===null||b===void 0?void 0:b.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Mb))}},{key:"_validateVideoSendSettings",value:function(h,b){var _=h==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],O="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof b=="string"){if(!_.includes(b))throw new Error(O)}else{if(ct(b)!=="object")throw new Error(O);if(!b.maxQuality&&!b.encodings&&b.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(b.maxQuality&&["low","medium","high"].indexOf(b.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(b.encodings){var A=!1;switch(Object.keys(b.encodings).length){case 1:A=!b.encodings.low;break;case 2:A=!b.encodings.low||!b.encodings.medium;break;case 3:A=!b.encodings.low||!b.encodings.medium||!b.encodings.high;break;default:A=!0}if(A)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");b.encodings.low&&this._validateEncodingLayerHasValidProperties(b.encodings.low),b.encodings.medium&&this._validateEncodingLayerHasValidProperties(b.encodings.medium),b.encodings.high&&this._validateEncodingLayerHasValidProperties(b.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(h){var b=this;if(!h||Object.keys(h).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(h).forEach(function(_){var O=En(_,2),A=O[0],I=O[1];b._validateVideoSendSettings(A,I)})}},{key:"updateSendSettings",value:function(h){var b=this;return this.validateUpdateSendSettings(h),this.needsLoad()?(this._preloadCache.sendSettings=h,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,O){b.sendMessageToCallMachine({action:"update-send-settings",sendSettings:h},function(A){A.error?O(A.error):_(A.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return nt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(h){return nt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:h}),this}},{key:"activeSpeakerMode",value:function(){return nt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(h){return Et(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=h,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:h}),this}},{key:"enumerateDevices",value:(l=Le(function*(){var h=this;if(this._callObjectMode){var b=yield navigator.mediaDevices.enumerateDevices();return Uo()==="Firefox"&&dm().major>115&&dm().major<123&&(b=b.filter(function(_){return _.kind!=="audiooutput"})),{devices:b.map(function(_){var O=JSON.parse(JSON.stringify(_));if(!st()&&_.kind==="videoinput"&&_.getCapabilities){var A,I=_.getCapabilities();O.facing=(I==null||(A=I.facingMode)===null||A===void 0?void 0:A.length)>=1?I.facingMode[0]:void 0}return O})}}return new Promise(function(_){h.sendMessageToCallMachine({action:"enumerate-devices"},function(O){_({devices:O.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Et(this._callState,"sendAppMessage()"),JSON.stringify(h).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:h,to:b}),this}},{key:"addFakeParticipant",value:function(h){return nt(),Et(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Oe({action:"add-fake-participant"},h)),this}},{key:"setShowNamesMode",value:function(h){return di(this._callObjectMode,"setShowNamesMode()"),nt(),h&&h!=="always"&&h!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:h}),this)}},{key:"setShowLocalVideo",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return di(this._callObjectMode,"setShowLocalVideo()"),nt(),Et(this._callState,"setShowLocalVideo()"),typeof h!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:h}),this._showLocalVideo=h,this)}},{key:"showLocalVideo",value:function(){return di(this._callObjectMode,"showLocalVideo()"),nt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return di(this._callObjectMode,"setShowParticipantsBar()"),nt(),Et(this._callState,"setShowParticipantsBar()"),typeof h!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:h}),this._showParticipantsBar=h,this)}},{key:"showParticipantsBar",value:function(){return di(this._callObjectMode,"showParticipantsBar()"),nt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return nt(),di(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(h){return nt(),di(this._callObjectMode,"setCustomIntegrations()"),Et(this._callState,"setCustomIntegrations()"),lP(h)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:h}),this._customIntegrations=h,this):this}},{key:"startCustomIntegrations",value:function(h){var b=this;if(nt(),di(this._callObjectMode,"startCustomIntegrations()"),Et(this._callState,"startCustomIntegrations()"),Array.isArray(h)&&h.some(function(A){return typeof A!="string"})||!Array.isArray(h)&&typeof h!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof h=="string"?[h]:h,O=_.filter(function(A){return!(A in b._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(h){var b=this;if(nt(),di(this._callObjectMode,"stopCustomIntegrations()"),Et(this._callState,"stopCustomIntegrations()"),Array.isArray(h)&&h.some(function(A){return typeof A!="string"})||!Array.isArray(h)&&typeof h!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof h=="string"?[h]:h,O=_.filter(function(A){return!(A in b._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return di(this._callObjectMode,"customTrayButtons()"),nt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(h){return di(this._callObjectMode,"updateCustomTrayButtons()"),nt(),Et(this._callState,"updateCustomTrayButtons()"),cP(h)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:h}),this._customTrayButtons=h,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(hm))),this)}},{key:"theme",value:function(){return di(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(h){var b=this;return di(this._callObjectMode,"setTheme()"),new Promise(function(_,O){try{b.validateProperties({theme:h}),b.properties.theme=Oe({},h),b.sendMessageToCallMachine({action:"set-theme",theme:b.properties.theme});try{b.emitDailyJSEvent({action:x5,theme:b.properties.theme})}catch(A){console.log("could not emit 'theme-updated'",A)}_(b.properties.theme)}catch(A){O(A)}})}},{key:"requestFullscreen",value:(o=Le(function*(){if(nt(),this._iframe&&!document.fullscreenElement&&IE())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(h){console.log("could not make video call fullscreen",h)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){nt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=Le(function*(){var h=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(b){h.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){b(_.view)})})}),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(h){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:h}),this)}},{key:"room",value:(r=Le(function*(){var h=this,b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=b===void 0||b;return this._accessState.access===_b||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(O){h.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(A){delete A.action,delete A.callbackStamp,O(A)})})}),function(){return r.apply(this,arguments)})},{key:"geo",value:(i=Le(function*(){try{var h=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield h.json()).geo}}catch(b){return console.error("geo lookup failed",b),{current:""}}}),function(){return i.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Le(function*(h){var b=this;return nt(),Et(this._callState,"setNetworkTopology()"),new Promise(function(_,O){b.sendMessageToCallMachine({action:"set-network-topology",opts:h},function(A){A.error?O({error:A.error}):_({workerId:A.workerId})})})}),function(h){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Le(function*(){var h=this;return new Promise(function(b,_){h.needsLoad()&&b({topology:"none"}),h.sendMessageToCallMachine({action:"get-network-topology"},function(O){O.error?_({error:O.error}):b({topology:O.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(h){if(nt(),typeof h!="number"&&h!==!0&&h!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(h));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:h})}},{key:"on",value:function(h,b){return Lh.prototype.on.call(this,h,b)}},{key:"once",value:function(h,b){return Lh.prototype.once.call(this,h,b)}},{key:"off",value:function(h,b){return Lh.prototype.off.call(this,h,b)}},{key:"validateProperties",value:function(h){var b,_;if(h!=null&&(b=h.dailyConfig)!==null&&b!==void 0&&b.userMediaAudioConstraints){var O,A;st()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var I=h.inputSettings||{};I.audio=((O=h.inputSettings)===null||O===void 0?void 0:O.audio)||{},I.audio.settings=((A=h.inputSettings)===null||A===void 0||(A=A.audio)===null||A===void 0?void 0:A.settings)||{},I.audio.settings=Oe(Oe({},I.audio.settings),h.dailyConfig.userMediaAudioConstraints),h.inputSettings=I,delete h.dailyConfig.userMediaAudioConstraints}if(h!=null&&(_=h.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var F,U;st()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var K=h.inputSettings||{};K.video=((F=h.inputSettings)===null||F===void 0?void 0:F.video)||{},K.video.settings=((U=h.inputSettings)===null||U===void 0||(U=U.video)===null||U===void 0?void 0:U.settings)||{},K.video.settings=Oe(Oe({},K.video.settings),h.dailyConfig.userMediaVideoConstraints),h.inputSettings=K,delete h.dailyConfig.userMediaVideoConstraints}for(var oe in h){if(!ao[oe])throw new Error("unrecognized property '".concat(oe,"'"));if(ao[oe].validate&&!ao[oe].validate(h[oe],this))throw new Error("property '".concat(oe,"': ").concat(ao[oe].help))}}},{key:"assembleMeetingUrl",value:function(){var h,b,_=Oe(Oe({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(h=this.properties.dailyConfig)!==null&&h!==void 0&&h.proxyUrl?encodeURIComponent((b=this.properties.dailyConfig)===null||b===void 0?void 0:b.proxyUrl):void 0}),O=_.url.match(/\?/)?"&":"?";return _.url+O+Object.keys(ao).filter(function(A){return ao[A].queryString&&_[A]!==void 0}).map(function(A){return"".concat(ao[A].queryString,"=").concat(_[A])}).join("&")}},{key:"needsLoad",value:function(){return[xE,kE,ro,ea].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(h,b){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(h,b,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(h){this._messageChannel.forwardPackagedMessageToCallMachine(h,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(h){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(h,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(h){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(h)}},{key:"handleMessageFromCallMachine",value:function(h){switch(h.action){case w5:this.sendMessageToCallMachine(Oe({action:S5},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var b={action:Wh,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:sm(this.properties.dailyConfig)}};this.sendMessageToCallMachine(b),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case EE:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(h);break;case A5:var _,O=Oe({},h);delete O.internal,this._maxAppMessageSize=((_=h.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||wb,this._joinedCallback&&(this._joinedCallback(h.participants),this._joinedCallback=null),this.emitDailyJSEvent(O);break;case R5:case D5:if(this._callState===ro)return;if(h.participant&&h.participant.session_id){var A=h.participant.local?"local":h.participant.session_id;if(this._callObjectMode){var I=this._callMachine().store;qE(h.participant,I),WE(h.participant,I),GE(h.participant,this._participants[A],I)}try{this.maybeParticipantTracksStopped(this._participants[A],h.participant),this.maybeParticipantTracksStarted(this._participants[A],h.participant),this.maybeEventRecordingStopped(this._participants[A],h.participant),this.maybeEventRecordingStarted(this._participants[A],h.participant)}catch(lc){console.error("track events error",lc)}this.compareEqualForParticipantUpdateEvent(h.participant,this._participants[A])||(this._participants[A]=Oe({},h.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(h))}break;case P5:if(h.participant&&h.participant.session_id){var F=this._participants[h.participant.session_id];F&&this.maybeParticipantTracksStopped(F,null),delete this._participants[h.participant.session_id],this.emitDailyJSEvent(h)}break;case N5:Bn(this._participantCounts,h.participantCounts)||(this._participantCounts=h.participantCounts,this.emitDailyJSEvent(h));break;case j5:var U={access:h.access};h.awaitingAccess&&(U.awaitingAccess=h.awaitingAccess),Bn(this._accessState,U)||(this._accessState=U,this.emitDailyJSEvent(h));break;case L5:if(h.meetingSession){this._meetingSessionSummary=h.meetingSession,this.emitDailyJSEvent(h);var K=Oe(Oe({},h),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(K)}break;case DE:var oe;this._iframe&&!h.preserveIframe&&(this._iframe.src=""),this._updateCallState(ea),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(h.errorMsg),this._loadedCallback=null),h.preserveIframe;var pe=yM(h,VF);pe!=null&&(oe=pe.error)!==null&&oe!==void 0&&oe.details&&(pe.error.details=JSON.parse(pe.error.details)),this._maybeSendToSentry(h),this._joinedCallback&&(this._joinedCallback(null,pe),this._joinedCallback=null),this.emitDailyJSEvent(pe);break;case O5:this._callState!==ea&&this._updateCallState(ro),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(h);break;case"selected-devices-updated":h.devices&&this.emitDailyJSEvent(h);break;case aF:var Te=h.state,qe=h.threshold,ot=h.quality,Ae=Te.state,Pe=Te.reasons;Ae===this._network.networkState&&Bn(Pe,this._network.networkStateReasons)&&qe===this._network.threshold&&ot===this._network.quality||(this._network.networkState=Ae,this._network.networkStateReasons=Pe,this._network.quality=ot,this._network.threshold=qe,h.networkState=Ae,Pe.length&&(h.networkStateReasons=Pe),delete h.state,this.emitDailyJSEvent(h));break;case cF:h&&h.cpuLoadState&&this.emitDailyJSEvent(h);break;case lF:h&&h.faceCounts!==void 0&&this.emitDailyJSEvent(h);break;case rF:var We=h.activeSpeaker;this._activeSpeaker.peerId!==We.peerId&&(this._activeSpeaker.peerId=We.peerId,this.emitDailyJSEvent({action:h.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var qt=h.show;this._showLocalVideo=qt,this.emitDailyJSEvent({action:h.action,show:qt});break;case sF:var Ft=h.enabled;this._activeSpeakerMode!==Ft&&(this._activeSpeakerMode=Ft,this.emitDailyJSEvent({action:h.action,enabled:this._activeSpeakerMode}));break;case B5:case $5:case z5:this._waitingParticipants=h.allWaitingParticipants,this.emitDailyJSEvent({action:h.action,participant:h.participant});break;case mF:Bn(this._receiveSettings,h.receiveSettings)||(this._receiveSettings=h.receiveSettings,this.emitDailyJSEvent({action:h.action,receiveSettings:h.receiveSettings}));break;case OE:this._maybeUpdateInputSettings(h.inputSettings);break;case"send-settings-updated":Bn(this._sendSettings,h.sendSettings)||(this._sendSettings=h.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:h.action,sendSettings:h.sendSettings}));break;case"local-audio-level":this._localAudioLevel=h.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(h);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=h.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(h);break;case Q5:var an=h.session_id;this._rmpPlayerState[an]=h.playerState,this.emitDailyJSEvent(h);break;case eF:delete this._rmpPlayerState[h.session_id],this.emitDailyJSEvent(h);break;case Z5:var pn=h.session_id,zt=this._rmpPlayerState[pn];zt&&this.compareEqualForRMPUpdateEvent(zt,h.remoteMediaPlayerState)||(this._rmpPlayerState[pn]=h.remoteMediaPlayerState,this.emitDailyJSEvent(h));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(h);break;case I5:var Kl=this._meetingSessionState.topology!==(h.meetingSessionState&&h.meetingSessionState.topology);this._meetingSessionState=Ab(h.meetingSessionState,this._callObjectMode),(this._callObjectMode||Kl)&&this.emitDailyJSEvent(h);break;case tF:this._isScreenSharing=!0,this.emitDailyJSEvent(h);break;case nF:case iF:this._isScreenSharing=!1,this.emitDailyJSEvent(h);break;case TE:case AE:case W5:case G5:case J5:case V5:case H5:case q5:case M5:case E5:case K5:case X5:case"test-completed":case oF:case Y5:case uF:case dF:case fF:case hF:case RE:case pF:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(h);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(h,b){var _="record";h&&(b.local||b[_]!==!1||h[_]===b[_]||this.emitDailyJSEvent({action:AE}))}},{key:"maybeEventRecordingStarted",value:function(h,b){var _="record";h&&(b.local||b[_]!==!0||h[_]===b[_]||this.emitDailyJSEvent({action:TE}))}},{key:"_trackStatePlayable",value:function(h){return!(!h||h.state!==g5)}},{key:"_trackChanged",value:function(h,b){return(h==null?void 0:h.id)!==(b==null?void 0:b.id)}},{key:"maybeEventTrackStopped",value:function(h,b,_){var O,A,I=(O=b==null?void 0:b.tracks[h])!==null&&O!==void 0?O:null,F=(A=_==null?void 0:_.tracks[h])!==null&&A!==void 0?A:null,U=I==null?void 0:I.track;if(U){var K=this._trackStatePlayable(I),oe=this._trackStatePlayable(F),pe=this._trackChanged(U,F==null?void 0:F.track);K&&(oe&&!pe||this.emitDailyJSEvent({action:U5,track:U,participant:_??b,type:h}))}}},{key:"maybeEventTrackStarted",value:function(h,b,_){var O,A,I=(O=b==null?void 0:b.tracks[h])!==null&&O!==void 0?O:null,F=(A=_==null?void 0:_.tracks[h])!==null&&A!==void 0?A:null,U=F==null?void 0:F.track;if(U){var K=this._trackStatePlayable(I),oe=this._trackStatePlayable(F),pe=this._trackChanged(I==null?void 0:I.track,U);oe&&(K&&!pe||this.emitDailyJSEvent({action:F5,track:U,participant:_,type:h}))}}},{key:"maybeParticipantTracksStopped",value:function(h,b){if(h)for(var _ in h.tracks)this.maybeEventTrackStopped(_,h,b)}},{key:"maybeParticipantTracksStarted",value:function(h,b){if(b)for(var _ in b.tracks)this.maybeEventTrackStarted(_,h,b)}},{key:"compareEqualForRMPUpdateEvent",value:function(h,b){var _,O;return h.state===b.state&&((_=h.settings)===null||_===void 0?void 0:_.volume)===((O=b.settings)===null||O===void 0?void 0:O.volume)}},{key:"emitDailyJSEvent",value:function(h){try{h.callClientId=this.callClientId,this.emit(h.action,h)}catch(b){console.log("could not emit",h,b)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(h,b){return!!Bn(h,b)&&(!h.videoTrack||!b.videoTrack||h.videoTrack.id===b.videoTrack.id&&h.videoTrack.muted===b.videoTrack.muted&&h.videoTrack.enabled===b.videoTrack.enabled)&&(!h.audioTrack||!b.audioTrack||h.audioTrack.id===b.audioTrack.id&&h.audioTrack.muted===b.audioTrack.muted&&h.audioTrack.enabled===b.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return st()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(h){this._updateCallState(this._callState,h)}},{key:"_updateCallState",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(h!==this._callState||b!==this._isPreparingToJoin){var _=this._callState,O=this._isPreparingToJoin;this._callState=h,this._isPreparingToJoin=b;var A=this._callState===xo;this.updateShowAndroidOngoingMeetingNotification(A);var I=Hp(_,O),F=Hp(this._callState,this._isPreparingToJoin);I!==F&&(this.updateKeepDeviceAwake(F),this.updateDeviceAudioMode(F),this.updateNoOpRecordingEnsuringBackgroundContinuity(F))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=sT,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:_b},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Ab(rT,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=wb,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(h){st()&&this.nativeUtils().setKeepDeviceAwake(h,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(h){if(st()&&!this.disableReactNativeAutoDeviceManagement("audio")){var b=h?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(b)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(h){if(st()&&this.nativeUtils().setShowOngoingMeetingNotification){var b,_,O,A;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var I=this.properties.reactNativeConfig.androidInCallNotification;b=I.title,_=I.subtitle,O=I.iconName,A=I.disableForCustomOverride}A&&(h=!1),this.nativeUtils().setShowOngoingMeetingNotification(h,b,_,O,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(h){st()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(h)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var h;if(st()){var b=(h=this._callMachine())===null||h===void 0||(h=h.store)===null||h===void 0?void 0:h.getState();for(var _ in b==null?void 0:b.streams){var O=b.streams[_];O&&O.pendingTrack&&O.pendingTrack.kind==="audio"&&(O.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(h){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[h]}},{key:"absoluteUrl",value:function(h){if(h!==void 0){var b=document.createElement("a");return b.href=h,b.href}}},{key:"sayHello",value:function(){var h="hello, world.";return console.log(h),h}},{key:"_logUseAfterDestroy",value:function(){var h=Object.values(so)[0];if(this.needsLoad())if(h&&!h.needsLoad()){var b={action:Wh,level:"error",code:this.strictMode?9995:9997};h.sendMessageToCallMachine(b)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:Wh,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var h=0,b=Object.values(so);h<b.length;h++){var _=b[h];_._callMachineInitialized?(_.sendMessageToCallMachine({action:Wh,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(h){var b,_,O,A;if(!((b=h.error)!==null&&b!==void 0&&b.type&&(![_5,b5,ME].includes(h.error.type)||h.error.type===ME&&h.error.msg.includes("deleted")))){var I=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,F="production";I&&I.host.includes(".staging.daily")&&(F="staging");var U,K,oe,pe,Te,qe=function(an){const pn=[L4(),N4(),c5(),a5(),h5(),m5(),z4(),p5()];return an.autoSessionTracking!==!1&&pn.push(f5()),pn}({}).filter(function(an){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(an.name)}),ot=new J4({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Z4,stackParser:s5,integrations:qe,environment:F}),Ae=new Ma;if(Ae.setClient(ot),ot.init(),this.session_id&&Ae.setExtra("sessionId",this.session_id),this.properties){var Pe=Oe({},this.properties);Pe.userName=Pe.userName?"[Filtered]":void 0,Pe.userData=Pe.userData?"[Filtered]":void 0,Pe.token=Pe.token?"[Filtered]":void 0,Ae.setExtra("properties",Pe)}if(I){var We=I.searchParams.get("domain");if(!We){var qt=I.host.match(/(.*?)\./);We=qt&&qt[1]||""}We&&Ae.setTag("domain",We)}h.error&&(Ae.setTag("fatalErrorType",h.error.type),Ae.setExtra("errorDetails",h.error.details),!((U=h.error.details)===null||U===void 0)&&U.uri&&Ae.setTag("serverAddress",h.error.details.uri),!((K=h.error.details)===null||K===void 0)&&K.workerGroup&&Ae.setTag("workerGroup",h.error.details.workerGroup),!((oe=h.error.details)===null||oe===void 0)&&oe.geoGroup&&Ae.setTag("geoGroup",h.error.details.geoGroup),!((pe=h.error.details)===null||pe===void 0)&&pe.on&&Ae.setTag("connectionAttempt",h.error.details.on),(Te=h.error.details)!==null&&Te!==void 0&&Te.bundleUrl&&(Ae.setTag("bundleUrl",h.error.details.bundleUrl),Ae.setTag("bundleError",h.error.details.sourceError.type))),Ae.setTags({callMode:this._callObjectMode?st()?"reactNative":(O=this.properties)!==null&&O!==void 0&&(O=O.dailyConfig)!==null&&O!==void 0&&(O=O.callMode)!==null&&O!==void 0&&O.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var Ft=((A=h.error)===null||A===void 0?void 0:A.msg)||h.errorMsg;Ae.captureException(new Error(Ft))}}},{key:"_callMachine",value:function(){var h;return(h=window._daily)===null||h===void 0||(h=h.instances)===null||h===void 0||(h=h[this.callClientId])===null||h===void 0?void 0:h.callMachine}},{key:"_maybeUpdateInputSettings",value:function(h){if(!Bn(this._inputSettings,h)){var b=this._getInputSettings();this._inputSettings=h;var _=this._getInputSettings();Bn(b,_)||this.emitDailyJSEvent({action:OE,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(st())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var h=t4.getParser(Vi());return{supported:!!BE(),mobile:h.getPlatformType()==="mobile",name:h.getBrowserName(),version:h.getBrowserVersion(),supportsFullscreen:!!IE(),supportsScreenShare:!!yF(),supportsSfu:!!BE(),supportsVideoProcessing:UD(),supportsAudioProcessing:VD()}}},{key:"version",value:function(){return"0.83.1"}},{key:"createCallObject",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return h.layout="none",new t(null,h)}},{key:"wrap",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nt(),!h||!h.contentWindow||typeof h.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return b.layout||(b.customLayout?b.layout="custom-v1":b.layout="browser"),new t(h,b)}},{key:"createFrame",value:function(h,b){var _,O;nt(),h&&b?(_=h,O=b):h&&h.append?(_=h,O={}):(_=document.body,O=h||{});var A=O.iframeStyle;A||(A=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var I=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?I.allow="microphone, camera":I.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",I.style.visibility="hidden",_.appendChild(I),I.style.visibility=null,Object.keys(A).forEach(function(F){return I.style[F]=A[F]}),O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser");try{return new t(I,O)}catch(F){throw _.removeChild(I),F}}},{key:"createTransparentFrame",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt();var b=document.createElement("iframe");return b.allow="microphone; camera; autoplay",b.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(b),h.layout||(h.layout="custom-v1"),t.wrap(b,h)}},{key:"getCallInstance",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return h?so[h]:Object.values(so)[0]}}]);var e,n,i,r,s,o,l,u,f,p,g,v,S,k,w,C,T,D,P,j,N,B,L,z,W,J,Z,re,ye,ue,he,H,te,Y,se,we,V,Q}();function Jc(t,e){var n={};for(var i in t)if(t[i]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",i),n[i]=ys;else if(i==="dailyConfig"){if(t[i].modifyLocalSdpHook){var r=window._daily.instances[e].customCallbacks||{};r.modifyLocalSdpHook=t[i].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=r,delete t[i].modifyLocalSdpHook}if(t[i].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[i].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[i].modifyRemoteSdpHook}n[i]=t[i]}else n[i]=t[i];return n}function Et(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==xo){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function Hp(t,e){return[h_,xo].includes(t)||e}function Eb(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",i=arguments.length>3?arguments[3]:void 0;if(Hp(t,e)){var r="".concat(n," not supported after joining a meeting.");throw i&&(r+=" ".concat(i)),console.error(r),new Error(r)}}function Yh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var i="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function Tb(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Ki(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function di(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function nt(){if(st())throw new Error("This daily-js method is not currently supported in React Native")}function Hu(){if(!st())throw new Error("This daily-js method is only supported in React Native")}function nP(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),Bn(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function iP(t,e){for(var n=e.allowAllParticipantsKey,i=function(g){var v=["local"];return n||v.push("*"),g&&!v.includes(g)},r=function(g){return!!(g.layer===void 0||Number.isInteger(g.layer)&&g.layer>=0||g.layer==="inherit")},s=function(g){return!!g&&!(g.video&&!r(g.video))&&!(g.screenVideo&&!r(g.screenVideo))},o=0,l=Object.entries(t);o<l.length;o++){var u=En(l[o],2),f=u[0],p=u[1];if(!i(f)||!s(p))return!1}return!0}function rP(t){if(ct(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var i=En(n[e],2),r=i[0],s=i[1];switch(r){case"video":if(ct(s)!=="object")return!1;for(var o=0,l=Object.entries(s);o<l.length;o++){var u=En(l[o],2),f=u[0],p=u[1];switch(f){case"processor":if(!WF(p))return!1;break;case"settings":if(!lT(p))return!1;break;default:return!1}}break;case"audio":if(ct(s)!=="object")return!1;for(var g=0,v=Object.entries(s);g<v.length;g++){var S=En(v[g],2),k=S[0],w=S[1];switch(k){case"processor":if(!qF(w))return!1;break;case"settings":if(!lT(w))return!1;break;default:return!1}}break;default:return!1}}return!0}function sP(t,e,n){var i,r=[];t.video&&t.video.processor&&(UD((i=e==null?void 0:e.useLegacyVideoProcessor)!==null&&i!==void 0&&i)||(t.video.settings?delete t.video.processor:delete t.video,r.push("video"))),t.audio&&t.audio.processor&&(VD()||(t.audio.settings?delete t.audio.processor:delete t.audio,r.push("audio"))),r.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:ys}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:ys}):delete n.videoTrack)}function qF(t){if(st())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&ct(t)==="object"&&(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]}),!!function(n){return typeof n!="string"?!1:Object.values(zD).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function WF(t){if(st())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||ct(t)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Vp).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(ct(t.config)!=="object"||!function(n,i){var r=Object.keys(i);if(r.length===0)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(n){case Vp.BGBLUR:return r.length>1||r[0]!=="strength"?(console.error(s),!1):!(typeof i.strength!="number"||i.strength<=0||i.strength>1||isNaN(i.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(i.strength)),!1);case Vp.BGIMAGE:return!(i.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(am(o.source))return o.type="url",!!function(f){var p=new URL(f),g=p.pathname;if(p.protocol==="data:")try{var v=g.substring(g.indexOf(":")+1,g.indexOf(";")).split("/")[1];return xb.includes(v)}catch(k){return console.error("failed to deduce blob content type",k),!1}var S=g.split(".").at(-1).toLowerCase().trim();return xb.includes(S)}(o.source)||(console.error("invalid image type; supported types: [".concat(xb.join(", "),"]")),!1);return l=o.source,u=Number(l),isNaN(u)||!Number.isInteger(u)||u<=0||u>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,u}(i));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]}),!0)}function lT(t){return ct(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function __(){var t=Object.values(Vp).join(" | "),e=Object.values(zD).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function aP(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(y5).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function oP(){return"customIntegrations should be an object of type ".concat(JSON.stringify(b_),".")}function cP(t){if(t&&ct(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(hm),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var i=En(n[e],1)[0],r=0,s=Object.entries(t[i]);r<s.length;r++){var o=En(s[r],2),l=o[0],u=o[1],f=hm.id[l];if(!f)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!am(u))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(u))return console.error("customTrayButton ".concat(l," should be ").concat(f,". Got: ").concat(u)),!1;break;default:if(ct(u)!==f)return console.error("customTrayButton ".concat(l," should be a ").concat(f,".")),!1}}return!0}function lP(t){if(!t||t&&ct(t)!=="object"||Array.isArray(t))return console.error(oP()),!1;for(var e=function(g){return"".concat(g," should be ").concat(b_.id[g])},n=function(g,v){return console.error("customIntegration ".concat(g,": ").concat(v))},i=0,r=Object.entries(t);i<r.length;i++){var s=En(r[i],1)[0];if(!("label"in t[s]))return n(s,"label is required"),!1;if(!("location"in t[s]))return n(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return n(s,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(t[s]);o<l.length;o++){var u=En(l[o],2),f=u[0],p=u[1];switch(f){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof p!="string")return n(s,e(f)),!1;break;case"iconURL":if(!am(p))return n(s,"".concat(f," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(!am(p))return n(s,'src "'.concat(p,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof p!="string")return n(s,e(f)),!1;break;case"location":if(!["main","sidebar"].includes(p))return n(s,e(f)),!1;break;case"controlledBy":if(p!=="*"&&p!=="owners"&&(!Array.isArray(p)||p.some(function(g){return typeof g!="string"})))return n(s,e(f)),!1;break;case"shared":if((!Array.isArray(p)||p.some(function(g){return typeof g!="string"}))&&p!=="owners"&&typeof p!="boolean")return n(s,e(f)),!1;break;default:if(!b_.id[f])return console.error("customIntegration does not support key ".concat(f)),!1}}}return!0}function uP(t,e){if(e===void 0)return!1;switch(ct(e)){case"string":return ct(t)===e;case"object":if(ct(t)!=="object")return!1;for(var n in t)if(!uP(t[n],e[n]))return!1;return!0;default:return!1}}function uT(t,e){var n=t.sessionId,i=t.toEndPoint,r=t.callerId,s=t.useSipRefer;if(!n||!i)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof i!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!i.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!i.startsWith("sip:")&&!i.startsWith("+"))throw new Error("toEndPoint: ".concat(i,' must starts with either "sip:" or "+"'));if(r&&typeof r!="string")throw new Error("callerId must be of type string");if(r&&!i.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function dT(t){if(ct(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(p_).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(p_));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function fT(t,e,n){return!(typeof t!="number"||t<e||t>n)}function Ab(t,e){return t&&!e&&delete t.data,t}function dP(t){let e=typeof t;if(e=="object"){if(Array.isArray(t))return"array";if(t===null)return"null"}return e}function GF(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}let ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),cg=[];for(let t=0;t<ms.length;t++)cg[ms[t].charCodeAt(0)]=t;cg[45]=ms.indexOf("+");cg[95]=ms.indexOf("/");function JF(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,r=0,s,o=0;for(let l=0;l<t.length;l++){if(s=cg[t.charCodeAt(l)],s===void 0)switch(t[l]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:o=s,r=1;break;case 1:n[i++]=o<<2|(s&48)>>4,o=s,r=2;break;case 2:n[i++]=(o&15)<<4|(s&60)>>2,o=s,r=3;break;case 3:n[i++]=(o&3)<<6|s,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)}function YF(t){let e="",n=0,i,r=0;for(let s=0;s<t.length;s++)switch(i=t[s],n){case 0:e+=ms[i>>2],r=(i&3)<<4,n=1;break;case 1:e+=ms[r|i>>4],r=(i&15)<<2,n=2;break;case 2:e+=ms[r|i>>6],e+=ms[i&63],n=0;break}return n&&(e+=ms[r],e+="=",n==1&&(e+="=")),e}var ti;(function(t){t.symbol=Symbol.for("protobuf-ts/unknown"),t.onRead=(n,i,r,s,o)=>{(e(i)?i[t.symbol]:i[t.symbol]=[]).push({no:r,wireType:s,data:o})},t.onWrite=(n,i,r)=>{for(let{no:s,wireType:o,data:l}of t.list(i))r.tag(s,o).raw(l)},t.list=(n,i)=>{if(e(n)){let r=n[t.symbol];return i?r.filter(s=>s.no==i):r}return[]},t.last=(n,i)=>t.list(n,i).slice(-1)[0];const e=n=>n&&Array.isArray(n[t.symbol])})(ti||(ti={}));var Ve;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Ve||(Ve={}));function KF(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Ob(t,e,n){for(let s=0;s<28;s=s+7){const o=t>>>s,l=!(!(o>>>7)&&e==0),u=(l?o|128:o)&255;if(n.push(u),!l)return}const i=t>>>28&15|(e&7)<<4,r=e>>3!=0;if(n.push((r?i|128:i)&255),!!r){for(let s=3;s<31;s=s+7){const o=e>>>s,l=!!(o>>>7),u=(l?o|128:o)&255;if(n.push(u),!l)return}n.push(e>>>31&1)}}const qp=65536*65536;function fP(t){let e=t[0]=="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function s(o,l){const u=Number(t.slice(o,l));r*=n,i=i*n+u,i>=qp&&(r=r+(i/qp|0),i=i%qp)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[e,i,r]}function w_(t,e){if(e>>>0<=2097151)return""+(qp*e+(t>>>0));let n=t&16777215,i=(t>>>24|e<<8)>>>0&16777215,r=e>>16&65535,s=n+i*6777216+r*6710656,o=i+r*8147497,l=r*2,u=1e7;s>=u&&(o+=Math.floor(s/u),s%=u),o>=u&&(l+=Math.floor(o/u),o%=u);function f(p,g){let v=p?String(p):"";return g?"0000000".slice(v.length)+v:v}return f(l,0)+f(o,l)+f(s,1)}function hT(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function XF(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}let Ot;function QF(){const t=new DataView(new ArrayBuffer(8));Ot=globalThis.BigInt!==void 0&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:t}:void 0}QF();function hP(t){if(!t)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const pP=/^-?[0-9]+$/,pm=4294967296,Kh=2147483648;class mP{constructor(e,n){this.lo=e|0,this.hi=n|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*pm+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class On extends mP{static from(e){if(Ot)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Ot.C(e);case"number":if(e===0)return this.ZERO;e=Ot.C(e);case"bigint":if(!e)return this.ZERO;if(e<Ot.UMIN)throw new Error("signed value for ulong");if(e>Ot.UMAX)throw new Error("ulong too large");return Ot.V.setBigUint64(0,e,!0),new On(Ot.V.getInt32(0,!0),Ot.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!pP.test(e))throw new Error("string is no integer");let[n,i,r]=fP(e);if(n)throw new Error("signed value for ulong");return new On(i,r);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new On(e,e/pm)}throw new Error("unknown value "+typeof e)}toString(){return Ot?this.toBigInt().toString():w_(this.lo,this.hi)}toBigInt(){return hP(Ot),Ot.V.setInt32(0,this.lo,!0),Ot.V.setInt32(4,this.hi,!0),Ot.V.getBigUint64(0,!0)}}On.ZERO=new On(0,0);class Xt extends mP{static from(e){if(Ot)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Ot.C(e);case"number":if(e===0)return this.ZERO;e=Ot.C(e);case"bigint":if(!e)return this.ZERO;if(e<Ot.MIN)throw new Error("signed long too small");if(e>Ot.MAX)throw new Error("signed long too large");return Ot.V.setBigInt64(0,e,!0),new Xt(Ot.V.getInt32(0,!0),Ot.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!pP.test(e))throw new Error("string is no integer");let[n,i,r]=fP(e);if(n){if(r>Kh||r==Kh&&i!=0)throw new Error("signed long too small")}else if(r>=Kh)throw new Error("signed long too large");let s=new Xt(i,r);return n?s.negate():s;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new Xt(e,e/pm):new Xt(-e,-e/pm).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&Kh)!==0}negate(){let e=~this.hi,n=this.lo;return n?n=~n+1:e+=1,new Xt(n,e)}toString(){if(Ot)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+w_(e.lo,e.hi)}return w_(this.lo,this.hi)}toBigInt(){return hP(Ot),Ot.V.setInt32(0,this.lo,!0),Ot.V.setInt32(4,this.hi,!0),Ot.V.getBigInt64(0,!0)}}Xt.ZERO=new Xt(0,0);const pT={readUnknownField:!0,readerFactory:t=>new e6(t)};function ZF(t){return t?Object.assign(Object.assign({},pT),t):pT}class e6{constructor(e,n){this.varint64=KF,this.uint32=XF,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e){let n=this.pos;switch(e){case Ve.Varint:for(;this.buf[this.pos++]&128;);break;case Ve.Bit64:this.pos+=4;case Ve.Bit32:this.pos+=4;break;case Ve.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Ve.StartGroup:let r;for(;(r=this.tag()[1])!==Ve.EndGroup;)this.skip(r);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new Xt(...this.varint64())}uint64(){return new On(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,new Xt(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new On(this.sfixed32(),this.sfixed32())}sfixed64(){return new Xt(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function ht(t,e){if(!t)throw new Error(e)}const t6=34028234663852886e22,n6=-34028234663852886e22,i6=4294967295,r6=2147483647,s6=-2147483648;function wd(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>r6||t<s6)throw new Error("invalid int 32: "+t)}function mm(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>i6||t<0)throw new Error("invalid uint 32: "+t)}function Yw(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>t6||t<n6))throw new Error("invalid float 32: "+t)}const mT={writeUnknownFields:!0,writerFactory:()=>new o6};function a6(t){return t?Object.assign(Object.assign({},mT),t):mT}class o6{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(mm(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return wd(e),hT(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){Yw(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){mm(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){wd(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return wd(e),e=(e<<1^e>>31)>>>0,hT(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Xt.from(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=On.from(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=Xt.from(e);return Ob(n.lo,n.hi,this.buf),this}sint64(e){let n=Xt.from(e),i=n.hi>>31,r=n.lo<<1^i,s=(n.hi<<1|n.lo>>>31)^i;return Ob(r,s,this.buf),this}uint64(e){let n=On.from(e);return Ob(n.lo,n.hi,this.buf),this}}const gT={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},vT={ignoreUnknownFields:!1};function c6(t){return t?Object.assign(Object.assign({},vT),t):vT}function l6(t){return t?Object.assign(Object.assign({},gT),t):gT}const gP=Symbol.for("protobuf-ts/message-type");function yT(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);r=="_"?e=!0:/\d/.test(r)?(n.push(r),e=!0):e?(n.push(r.toUpperCase()),e=!1):i==0?n.push(r.toLowerCase()):n.push(r)}return n.join("")}var me;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(me||(me={}));var Rr;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER"})(Rr||(Rr={}));var gm;(function(t){t[t.NO=0]="NO",t[t.PACKED=1]="PACKED",t[t.UNPACKED=2]="UNPACKED"})(gm||(gm={}));function u6(t){var e,n,i,r;return t.localName=(e=t.localName)!==null&&e!==void 0?e:yT(t.name),t.jsonName=(n=t.jsonName)!==null&&n!==void 0?n:yT(t.name),t.repeat=(i=t.repeat)!==null&&i!==void 0?i:gm.NO,t.opt=(r=t.opt)!==null&&r!==void 0?r:t.repeat||t.oneof?!1:t.kind=="message",t}function d6(t){if(typeof t!="object"||t===null||!t.hasOwnProperty("oneofKind"))return!1;switch(typeof t.oneofKind){case"string":return t[t.oneofKind]===void 0?!1:Object.keys(t).length==2;case"undefined":return Object.keys(t).length==1;default:return!1}}class f6{constructor(e){var n;this.fields=(n=e.fields)!==null&&n!==void 0?n:[]}prepare(){if(this.data)return;const e=[],n=[],i=[];for(let r of this.fields)if(r.oneof)i.includes(r.oneof)||(i.push(r.oneof),e.push(r.oneof),n.push(r.oneof));else switch(n.push(r.localName),r.kind){case"scalar":case"enum":(!r.opt||r.repeat)&&e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName);break}this.data={req:e,known:n,oneofs:Object.values(i)}}is(e,n,i=!1){if(n<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let r=Object.keys(e),s=this.data;if(r.length<s.req.length||s.req.some(o=>!r.includes(o))||!i&&r.some(o=>!s.known.includes(o)))return!1;if(n<1)return!0;for(const o of s.oneofs){const l=e[o];if(!d6(l))return!1;if(l.oneofKind===void 0)continue;const u=this.fields.find(f=>f.localName===l.oneofKind);if(!u||!this.field(l[l.oneofKind],u,i,n))return!1}for(const o of this.fields)if(o.oneof===void 0&&!this.field(e[o.localName],o,i,n))return!1;return!0}field(e,n,i,r){let s=n.repeat;switch(n.kind){case"scalar":return e===void 0?n.opt:s?this.scalars(e,n.T,r,n.L):this.scalar(e,n.T,n.L);case"enum":return e===void 0?n.opt:s?this.scalars(e,me.INT32,r):this.scalar(e,me.INT32);case"message":return e===void 0?!0:s?this.messages(e,n.T(),i,r):this.message(e,n.T(),i,r);case"map":if(typeof e!="object"||e===null)return!1;if(r<2)return!0;if(!this.mapKeys(e,n.K,r))return!1;switch(n.V.kind){case"scalar":return this.scalars(Object.values(e),n.V.T,r,n.V.L);case"enum":return this.scalars(Object.values(e),me.INT32,r);case"message":return this.messages(Object.values(e),n.V.T(),i,r)}break}return!0}message(e,n,i,r){return i?n.isAssignable(e,r):n.is(e,r)}messages(e,n,i,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(i){for(let s=0;s<e.length&&s<r;s++)if(!n.isAssignable(e[s],r-1))return!1}else for(let s=0;s<e.length&&s<r;s++)if(!n.is(e[s],r-1))return!1;return!0}scalar(e,n,i){let r=typeof e;switch(n){case me.UINT64:case me.FIXED64:case me.INT64:case me.SFIXED64:case me.SINT64:switch(i){case Rr.BIGINT:return r=="bigint";case Rr.NUMBER:return r=="number"&&!isNaN(e);default:return r=="string"}case me.BOOL:return r=="boolean";case me.STRING:return r=="string";case me.BYTES:return e instanceof Uint8Array;case me.DOUBLE:case me.FLOAT:return r=="number"&&!isNaN(e);default:return r=="number"&&Number.isInteger(e)}}scalars(e,n,i,r){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<i;s++)if(!this.scalar(e[s],n,r))return!1}return!0}mapKeys(e,n,i){let r=Object.keys(e);switch(n){case me.INT32:case me.FIXED32:case me.SFIXED32:case me.SINT32:case me.UINT32:return this.scalars(r.slice(0,i).map(s=>parseInt(s)),n,i);case me.BOOL:return this.scalars(r.slice(0,i).map(s=>s=="true"?!0:s=="false"?!1:s),n,i);default:return this.scalars(r,n,i,Rr.STRING)}}}function rr(t,e){switch(e){case Rr.BIGINT:return t.toBigInt();case Rr.NUMBER:return t.toNumber();default:return t.toString()}}class h6{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};const n=(e=this.info.fields)!==null&&e!==void 0?e:[];for(const i of n)this.fMap[i.name]=i,this.fMap[i.jsonName]=i,this.fMap[i.localName]=i}}assert(e,n,i){if(!e){let r=dP(i);throw(r=="number"||r=="boolean")&&(r=i.toString()),new Error(`Cannot parse JSON ${r} for ${this.info.typeName}#${n}`)}}read(e,n,i){this.prepare();const r=[];for(const[s,o]of Object.entries(e)){const l=this.fMap[s];if(!l){if(!i.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}const u=l.localName;let f;if(l.oneof){if(o===null&&(l.kind!=="enum"||l.T()[0]!=="google.protobuf.NullValue"))continue;if(r.includes(l.oneof))throw new Error(`Multiple members of the oneof group "${l.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(l.oneof),f=n[l.oneof]={oneofKind:u}}else f=n;if(l.kind=="map"){if(o===null)continue;this.assert(GF(o),l.name,o);const p=f[u];for(const[g,v]of Object.entries(o)){this.assert(v!==null,l.name+" map value",null);let S;switch(l.V.kind){case"message":S=l.V.T().internalJsonRead(v,i);break;case"enum":if(S=this.enum(l.V.T(),v,l.name,i.ignoreUnknownFields),S===!1)continue;break;case"scalar":S=this.scalar(v,l.V.T,l.V.L,l.name);break}this.assert(S!==void 0,l.name+" map value",v);let k=g;l.K==me.BOOL&&(k=k=="true"?!0:k=="false"?!1:k),k=this.scalar(k,l.K,Rr.STRING,l.name).toString(),p[k]=S}}else if(l.repeat){if(o===null)continue;this.assert(Array.isArray(o),l.name,o);const p=f[u];for(const g of o){this.assert(g!==null,l.name,null);let v;switch(l.kind){case"message":v=l.T().internalJsonRead(g,i);break;case"enum":if(v=this.enum(l.T(),g,l.name,i.ignoreUnknownFields),v===!1)continue;break;case"scalar":v=this.scalar(g,l.T,l.L,l.name);break}this.assert(v!==void 0,l.name,o),p.push(v)}}else switch(l.kind){case"message":if(o===null&&l.T().typeName!="google.protobuf.Value"){this.assert(l.oneof===void 0,l.name+" (oneof member)",null);continue}f[u]=l.T().internalJsonRead(o,i,f[u]);break;case"enum":if(o===null)continue;let p=this.enum(l.T(),o,l.name,i.ignoreUnknownFields);if(p===!1)continue;f[u]=p;break;case"scalar":if(o===null)continue;f[u]=this.scalar(o,l.T,l.L,l.name);break}}}enum(e,n,i,r){if(e[0]=="google.protobuf.NullValue"&&ht(n===null||n==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),n===null)return 0;switch(typeof n){case"number":return ht(Number.isInteger(n),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${n}.`),n;case"string":let s=n;e[2]&&n.substring(0,e[2].length)===e[2]&&(s=n.substring(e[2].length));let o=e[1][s];return typeof o>"u"&&r?!1:(ht(typeof o=="number",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${n}".`),o)}ht(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof n}".`)}scalar(e,n,i,r){let s;try{switch(n){case me.DOUBLE:case me.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){s="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){s="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let o=Number(e);if(Number.isNaN(o)){s="not a number";break}if(!Number.isFinite(o)){s="too large or small";break}return n==me.FLOAT&&Yw(o),o;case me.INT32:case me.FIXED32:case me.SFIXED32:case me.SINT32:case me.UINT32:if(e===null)return 0;let l;if(typeof e=="number"?l=e:e===""?s="empty string":typeof e=="string"&&(e.trim().length!==e.length?s="extra whitespace":l=Number(e)),l===void 0)break;return n==me.UINT32?mm(l):wd(l),l;case me.INT64:case me.SFIXED64:case me.SINT64:if(e===null)return rr(Xt.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return rr(Xt.from(e),i);case me.FIXED64:case me.UINT64:if(e===null)return rr(On.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return rr(On.from(e),i);case me.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case me.STRING:if(e===null)return"";if(typeof e!="string"){s="extra whitespace";break}try{encodeURIComponent(e)}catch(u){u="invalid UTF8";break}return e;case me.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return JF(e)}}catch(o){s=o.message}this.assert(!1,r+(s?" - "+s:""),e)}}class p6{constructor(e){var n;this.fields=(n=e.fields)!==null&&n!==void 0?n:[]}write(e,n){const i={},r=e;for(const s of this.fields){if(!s.oneof){let f=this.field(s,r[s.localName],n);f!==void 0&&(i[n.useProtoFieldName?s.name:s.jsonName]=f);continue}const o=r[s.oneof];if(o.oneofKind!==s.localName)continue;const l=s.kind=="scalar"||s.kind=="enum"?Object.assign(Object.assign({},n),{emitDefaultValues:!0}):n;let u=this.field(s,o[s.localName],l);ht(u!==void 0),i[n.useProtoFieldName?s.name:s.jsonName]=u}return i}field(e,n,i){let r;if(e.kind=="map"){ht(typeof n=="object"&&n!==null);const s={};switch(e.V.kind){case"scalar":for(const[u,f]of Object.entries(n)){const p=this.scalar(e.V.T,f,e.name,!1,!0);ht(p!==void 0),s[u.toString()]=p}break;case"message":const o=e.V.T();for(const[u,f]of Object.entries(n)){const p=this.message(o,f,e.name,i);ht(p!==void 0),s[u.toString()]=p}break;case"enum":const l=e.V.T();for(const[u,f]of Object.entries(n)){ht(f===void 0||typeof f=="number");const p=this.enum(l,f,e.name,!1,!0,i.enumAsInteger);ht(p!==void 0),s[u.toString()]=p}break}(i.emitDefaultValues||Object.keys(s).length>0)&&(r=s)}else if(e.repeat){ht(Array.isArray(n));const s=[];switch(e.kind){case"scalar":for(let u=0;u<n.length;u++){const f=this.scalar(e.T,n[u],e.name,e.opt,!0);ht(f!==void 0),s.push(f)}break;case"enum":const o=e.T();for(let u=0;u<n.length;u++){ht(n[u]===void 0||typeof n[u]=="number");const f=this.enum(o,n[u],e.name,e.opt,!0,i.enumAsInteger);ht(f!==void 0),s.push(f)}break;case"message":const l=e.T();for(let u=0;u<n.length;u++){const f=this.message(l,n[u],e.name,i);ht(f!==void 0),s.push(f)}break}(i.emitDefaultValues||s.length>0||i.emitDefaultValues)&&(r=s)}else switch(e.kind){case"scalar":r=this.scalar(e.T,n,e.name,e.opt,i.emitDefaultValues);break;case"enum":r=this.enum(e.T(),n,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":r=this.message(e.T(),n,e.name,i);break}return r}enum(e,n,i,r,s,o){if(e[0]=="google.protobuf.NullValue")return!s&&!r?void 0:null;if(n===void 0){ht(r);return}if(!(n===0&&!s&&!r))return ht(typeof n=="number"),ht(Number.isInteger(n)),o||!e[1].hasOwnProperty(n)?n:e[2]?e[2]+e[1][n]:e[1][n]}message(e,n,i,r){return n===void 0?r.emitDefaultValues?null:void 0:e.internalJsonWrite(n,r)}scalar(e,n,i,r,s){if(n===void 0){ht(r);return}const o=s||r;switch(e){case me.INT32:case me.SFIXED32:case me.SINT32:return n===0?o?0:void 0:(wd(n),n);case me.FIXED32:case me.UINT32:return n===0?o?0:void 0:(mm(n),n);case me.FLOAT:Yw(n);case me.DOUBLE:return n===0?o?0:void 0:(ht(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n);case me.STRING:return n===""?o?"":void 0:(ht(typeof n=="string"),n);case me.BOOL:return n===!1?o?!1:void 0:(ht(typeof n=="boolean"),n);case me.UINT64:case me.FIXED64:ht(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let l=On.from(n);return l.isZero()&&!o?void 0:l.toString();case me.INT64:case me.SFIXED64:case me.SINT64:ht(typeof n=="number"||typeof n=="string"||typeof n=="bigint");let u=Xt.from(n);return u.isZero()&&!o?void 0:u.toString();case me.BYTES:return ht(n instanceof Uint8Array),n.byteLength?YF(n):o?"":void 0}}}function S_(t,e=Rr.STRING){switch(t){case me.BOOL:return!1;case me.UINT64:case me.FIXED64:return rr(On.ZERO,e);case me.INT64:case me.SFIXED64:case me.SINT64:return rr(Xt.ZERO,e);case me.DOUBLE:case me.FLOAT:return 0;case me.BYTES:return new Uint8Array(0);case me.STRING:return"";default:return 0}}class m6{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const n=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(n.map(i=>[i.no,i]))}}read(e,n,i,r){this.prepare();const s=r===void 0?e.len:e.pos+r;for(;e.pos<s;){const[o,l]=e.tag(),u=this.fieldNoToField.get(o);if(!u){let v=i.readUnknownField;if(v=="throw")throw new Error(`Unknown field ${o} (wire type ${l}) for ${this.info.typeName}`);let S=e.skip(l);v!==!1&&(v===!0?ti.onRead:v)(this.info.typeName,n,o,l,S);continue}let f=n,p=u.repeat,g=u.localName;switch(u.oneof&&(f=f[u.oneof],f.oneofKind!==g&&(f=n[u.oneof]={oneofKind:g})),u.kind){case"scalar":case"enum":let v=u.kind=="enum"?me.INT32:u.T,S=u.kind=="scalar"?u.L:void 0;if(p){let C=f[g];if(l==Ve.LengthDelimited&&v!=me.STRING&&v!=me.BYTES){let T=e.uint32()+e.pos;for(;e.pos<T;)C.push(this.scalar(e,v,S))}else C.push(this.scalar(e,v,S))}else f[g]=this.scalar(e,v,S);break;case"message":if(p){let C=f[g],T=u.T().internalBinaryRead(e,e.uint32(),i);C.push(T)}else f[g]=u.T().internalBinaryRead(e,e.uint32(),i,f[g]);break;case"map":let[k,w]=this.mapEntry(u,e,i);f[g][k]=w;break}}}mapEntry(e,n,i){let r=n.uint32(),s=n.pos+r,o,l;for(;n.pos<s;){let[u,f]=n.tag();switch(u){case 1:e.K==me.BOOL?o=n.bool().toString():o=this.scalar(n,e.K,Rr.STRING);break;case 2:switch(e.V.kind){case"scalar":l=this.scalar(n,e.V.T,e.V.L);break;case"enum":l=n.int32();break;case"message":l=e.V.T().internalBinaryRead(n,n.uint32(),i);break}break;default:throw new Error(`Unknown field ${u} (wire type ${f}) in map entry for ${this.info.typeName}#${e.name}`)}}if(o===void 0){let u=S_(e.K);o=e.K==me.BOOL?u.toString():u}if(l===void 0)switch(e.V.kind){case"scalar":l=S_(e.V.T,e.V.L);break;case"enum":l=0;break;case"message":l=e.V.T().create();break}return[o,l]}scalar(e,n,i){switch(n){case me.INT32:return e.int32();case me.STRING:return e.string();case me.BOOL:return e.bool();case me.DOUBLE:return e.double();case me.FLOAT:return e.float();case me.INT64:return rr(e.int64(),i);case me.UINT64:return rr(e.uint64(),i);case me.FIXED64:return rr(e.fixed64(),i);case me.FIXED32:return e.fixed32();case me.BYTES:return e.bytes();case me.UINT32:return e.uint32();case me.SFIXED32:return e.sfixed32();case me.SFIXED64:return rr(e.sfixed64(),i);case me.SINT32:return e.sint32();case me.SINT64:return rr(e.sint64(),i)}}}class g6{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((n,i)=>n.no-i.no)}}write(e,n,i){this.prepare();for(const s of this.fields){let o,l,u=s.repeat,f=s.localName;if(s.oneof){const p=e[s.oneof];if(p.oneofKind!==f)continue;o=p[f],l=!0}else o=e[f],l=!1;switch(s.kind){case"scalar":case"enum":let p=s.kind=="enum"?me.INT32:s.T;if(u)if(ht(Array.isArray(o)),u==gm.PACKED)this.packed(n,p,s.no,o);else for(const g of o)this.scalar(n,p,s.no,g,!0);else o===void 0?ht(s.opt):this.scalar(n,p,s.no,o,l||s.opt);break;case"message":if(u){ht(Array.isArray(o));for(const g of o)this.message(n,i,s.T(),s.no,g)}else this.message(n,i,s.T(),s.no,o);break;case"map":ht(typeof o=="object"&&o!==null);for(const[g,v]of Object.entries(o))this.mapEntry(n,i,s,g,v);break}}let r=i.writeUnknownFields;r!==!1&&(r===!0?ti.onWrite:r)(this.info.typeName,e,n)}mapEntry(e,n,i,r,s){e.tag(i.no,Ve.LengthDelimited),e.fork();let o=r;switch(i.K){case me.INT32:case me.FIXED32:case me.UINT32:case me.SFIXED32:case me.SINT32:o=Number.parseInt(r);break;case me.BOOL:ht(r=="true"||r=="false"),o=r=="true";break}switch(this.scalar(e,i.K,1,o,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,s,!0);break;case"enum":this.scalar(e,me.INT32,2,s,!0);break;case"message":this.message(e,n,i.V.T(),2,s);break}e.join()}message(e,n,i,r,s){s!==void 0&&(i.internalBinaryWrite(s,e.tag(r,Ve.LengthDelimited).fork(),n),e.join())}scalar(e,n,i,r,s){let[o,l,u]=this.scalarInfo(n,r);(!u||s)&&(e.tag(i,o),e[l](r))}packed(e,n,i,r){if(!r.length)return;ht(n!==me.BYTES&&n!==me.STRING),e.tag(i,Ve.LengthDelimited),e.fork();let[,s]=this.scalarInfo(n);for(let o=0;o<r.length;o++)e[s](r[o]);e.join()}scalarInfo(e,n){let i=Ve.Varint,r,s=n===void 0,o=n===0;switch(e){case me.INT32:r="int32";break;case me.STRING:o=s||!n.length,i=Ve.LengthDelimited,r="string";break;case me.BOOL:o=n===!1,r="bool";break;case me.UINT32:r="uint32";break;case me.DOUBLE:i=Ve.Bit64,r="double";break;case me.FLOAT:i=Ve.Bit32,r="float";break;case me.INT64:o=s||Xt.from(n).isZero(),r="int64";break;case me.UINT64:o=s||On.from(n).isZero(),r="uint64";break;case me.FIXED64:o=s||On.from(n).isZero(),i=Ve.Bit64,r="fixed64";break;case me.BYTES:o=s||!n.byteLength,i=Ve.LengthDelimited,r="bytes";break;case me.FIXED32:i=Ve.Bit32,r="fixed32";break;case me.SFIXED32:i=Ve.Bit32,r="sfixed32";break;case me.SFIXED64:o=s||Xt.from(n).isZero(),i=Ve.Bit64,r="sfixed64";break;case me.SINT32:r="sint32";break;case me.SINT64:o=s||Xt.from(n).isZero(),r="sint64";break}return[i,r,s||o]}}function v6(t){const e=t.messagePrototype?Object.create(t.messagePrototype):Object.defineProperty({},gP,{value:t});for(let n of t.fields){let i=n.localName;if(!n.opt)if(n.oneof)e[n.oneof]={oneofKind:void 0};else if(n.repeat)e[i]=[];else switch(n.kind){case"scalar":e[i]=S_(n.T,n.L);break;case"enum":e[i]=0;break;case"map":e[i]={};break}}return e}function Sa(t,e,n){let i,r=n,s;for(let o of t.fields){let l=o.localName;if(o.oneof){const u=r[o.oneof];if((u==null?void 0:u.oneofKind)==null)continue;if(i=u[l],s=e[o.oneof],s.oneofKind=u.oneofKind,i==null){delete s[l];continue}}else if(i=r[l],s=e,i==null)continue;switch(o.repeat&&(s[l].length=i.length),o.kind){case"scalar":case"enum":if(o.repeat)for(let f=0;f<i.length;f++)s[l][f]=i[f];else s[l]=i;break;case"message":let u=o.T();if(o.repeat)for(let f=0;f<i.length;f++)s[l][f]=u.create(i[f]);else s[l]===void 0?s[l]=u.create(i):u.mergePartial(s[l],i);break;case"map":switch(o.V.kind){case"scalar":case"enum":Object.assign(s[l],i);break;case"message":let f=o.V.T();for(let p of Object.keys(i))s[l][p]=f.create(i[p]);break}break}}}function y6(t,e,n){if(e===n)return!0;if(!e||!n)return!1;for(let i of t.fields){let r=i.localName,s=i.oneof?e[i.oneof][r]:e[r],o=i.oneof?n[i.oneof][r]:n[r];switch(i.kind){case"enum":case"scalar":let l=i.kind=="enum"?me.INT32:i.T;if(!(i.repeat?bT(l,s,o):vP(l,s,o)))return!1;break;case"map":if(!(i.V.kind=="message"?_T(i.V.T(),Xh(s),Xh(o)):bT(i.V.kind=="enum"?me.INT32:i.V.T,Xh(s),Xh(o))))return!1;break;case"message":let u=i.T();if(!(i.repeat?_T(u,s,o):u.equals(s,o)))return!1;break}}return!0}const Xh=Object.values;function vP(t,e,n){if(e===n)return!0;if(t!==me.BYTES)return!1;let i=e,r=n;if(i.length!==r.length)return!1;for(let s=0;s<i.length;s++)if(i[s]!=r[s])return!1;return!0}function bT(t,e,n){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!vP(t,e[i],n[i]))return!1;return!0}function _T(t,e,n){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t.equals(e[i],n[i]))return!1;return!0}const yP=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({})),b6=yP[gP]={};class Qd{constructor(e,n,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=n.map(u6),this.options=i??{},b6.value=this,this.messagePrototype=Object.create(null,yP),this.refTypeCheck=new f6(this),this.refJsonReader=new h6(this),this.refJsonWriter=new p6(this),this.refBinReader=new m6(this),this.refBinWriter=new g6(this)}create(e){let n=v6(this);return e!==void 0&&Sa(this,n,e),n}clone(e){let n=this.create();return Sa(this,n,e),n}equals(e,n){return y6(this,e,n)}is(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!1)}isAssignable(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!0)}mergePartial(e,n){Sa(this,e,n)}fromBinary(e,n){let i=ZF(n);return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,n){return this.internalJsonRead(e,c6(n))}fromJsonString(e,n){let i=JSON.parse(e);return this.fromJson(i,n)}toJson(e,n){return this.internalJsonWrite(e,l6(n))}toJsonString(e,n){var i;let r=this.toJson(e,n);return JSON.stringify(r,null,(i=n==null?void 0:n.prettySpaces)!==null&&i!==void 0?i:0)}toBinary(e,n){let i=a6(n);return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,n,i){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let r=i??this.create();return this.refJsonReader.read(e,r,n),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${dP(e)}.`)}internalJsonWrite(e,n){return this.refJsonWriter.write(e,n)}internalBinaryWrite(e,n,i){return this.refBinWriter.write(e,n,i),n}internalBinaryRead(e,n,i,r){let s=r??this.create();return this.refBinReader.read(e,s,i,n),s}}var bP=Object.defineProperty,Vn=(t,e)=>bP(t,"name",{value:e,configurable:!0}),Kw=(t,e)=>{for(var n in e)bP(t,n,{get:e[n],enumerable:!0})},_6={};Kw(_6,{decode:()=>eS,decodeBuffer:()=>wP,decodeSample:()=>Qw,encode:()=>Zw,encodeBuffer:()=>_P,encodeSample:()=>Xw});var w6=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function Xw(t){let e;t=t==-32768?-32767:t;let n=~t>>8&128;if(n||(t=t*-1),t>32635&&(t=32635),t>=256){let i=w6[t>>8&127],r=t>>i+3&15;e=i<<4|r}else e=t>>4;return e^(n^85)}Vn(Xw,"encodeSample");function Qw(t){let e=0;t^=85,t&128&&(t&=-129,e=-1);let n=((t&240)>>4)+4,i=0;return n!=4?i=1<<n|(t&15)<<n-4|1<<n-5:i=t<<1|1,i=e===0?i:-i,i*8*-1}Vn(Qw,"decodeSample");function Zw(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=Xw(t[n]);return e}Vn(Zw,"encode");function eS(t){let e=new Int16Array(t.length);for(let n=0;n<t.length;n++)e[n]=Qw(t[n]);return e}Vn(eS,"decode");function _P(t){const e=Math.floor(t.length/2),n=new Int16Array(e);for(let i=0;i<e;i++)n[i]=t.readInt16LE(i*2);return Buffer.from(Zw(n).buffer)}Vn(_P,"encodeBuffer");function wP(t){const e=eS(new Uint8Array(t));return Buffer.from(e.buffer)}Vn(wP,"decodeBuffer");var x_={};Kw(x_,{decode:()=>rS,decodeBuffer:()=>xP,decodeSample:()=>nS,encode:()=>iS,encodeBuffer:()=>SP,encodeSample:()=>tS});var S6=132,wT=32635,x6=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],k6=[0,132,396,924,1980,4092,8316,16764];function tS(t){const e=t<0?128:0;t=Math.abs(t),t+=S6,t>wT&&(t=wT);const n=x6[t>>7&255],i=t>>n+3&15;return~(e|n<<4|i)&255}Vn(tS,"encodeSample");function nS(t){t=~t&255;const e=t&128?-1:1,n=t>>4&7,i=t&15,r=k6[n]+(i<<n+3);return e*r}Vn(nS,"decodeSample");function iS(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=tS(t[n]);return e}Vn(iS,"encode");function rS(t){const e=new Int16Array(t.length);for(let n=0;n<t.length;n++)e[n]=nS(t[n]);return e}Vn(rS,"decode");function SP(t){const e=Math.floor(t.length/2),n=new Int16Array(e);for(let i=0;i<e;i++)n[i]=t.readInt16LE(i*2);return Buffer.from(iS(n).buffer)}Vn(SP,"encodeBuffer");function xP(t){const e=rS(new Uint8Array(t));return Buffer.from(e.buffer)}Vn(xP,"decodeBuffer");var C6={};Kw(C6,{calculateLoudness:()=>kP,createWavHeader:()=>CP,resample:()=>M6});var k_=[8,16,24,32,48];function kP(t,e){if(!(t instanceof Buffer)||t.length===0)throw new Error("Invalid buffer, must be a non-empty Buffer.");if(!k_.includes(e))throw new Error("Invalid bit depth, supported values are 8, 16, 24, 32, and 48.");if(e===48)throw new Error("48-bit audio is not yet implemented.");const n=Math.ceil(e/8);if(t.length%n!==0)throw new Error(`Invalid buffer length ${t.length}. Must be a multiple of ${n} bytes for ${e}-bit audio.`);const i=Math.pow(2,e-1)-1,r=t.length/n;let s=0;for(let l=0;l<r;l++){const u=l*n;let f;switch(e){case 8:f=t[u],f&128&&(f=f-256);break;case 16:f=t[u]|t[u+1]<<8,f&32768&&(f=f-65536);break;case 24:f=t[u]|t[u+1]<<8|t[u+2]<<16,f&8388608&&(f=f|-16777216);break;case 32:f=t[u]|t[u+1]<<8|t[u+2]<<16|t[u+3]<<24;break;default:throw new Error(`Unsupported bit depth: ${e}`)}const p=f/i;s+=p*p}const o=Math.sqrt(s/r);return o<=1e-10?-100:20*Math.log10(o)}Vn(kP,"calculateLoudness");function CP(t,e,n,i){const r=[{value:"RIFF",type:"string"},{value:36+t,type:"uint32"},{value:"WAVE",type:"string"},{value:"fmt ",type:"string"},{value:16,type:"uint32"},{value:1,type:"uint16"},{value:n,type:"uint16"},{value:e,type:"uint32"},{value:e*n*i/8,type:"uint32"},{value:n*i/8,type:"uint16"},{value:i,type:"uint16"},{value:"data",type:"string"},{value:t,type:"uint32"}],s=Buffer.alloc(44);let o=0;return r.forEach(({value:l,type:u})=>{u==="string"?(s.write(l,o),o+=4):u==="uint32"?(s.writeUInt32LE(l,o),o+=4):u==="uint16"&&(s.writeUInt16LE(l,o),o+=2)}),s}Vn(CP,"createWavHeader");var M6=Vn((t,e,n,i)=>{if(e<=0||n<=0)throw new Error("Sample rates must be positive.");if(!k_.includes(i))throw new Error(`Invalid bit depth. Allowed values are: ${k_.join(", ")}`);const r=n/e,s=Math.round(t.length*r),o=new Array(s),l=(1<<i-1)-1,u=-1<<i-1;for(let f=0;f<s;f++){const p=f/r,g=Math.floor(p),v=Math.min(g+1,t.length-1),S=p-g,k=t[g]*(1-S)+t[v]*S,w=Math.round(k);o[f]=Math.max(u,Math.min(l,w))}return o},"resample");class ir{static floatTo16BitPCM(e){const n=new ArrayBuffer(e.length*2),i=new DataView(n);let r=0;for(let s=0;s<e.length;s++,r+=2){let o=Math.max(-1,Math.min(1,e[s]));i.setInt16(r,o<0?o*32768:o*32767,!0)}return n}static mergeBuffers(e,n){const i=new Uint8Array(e.byteLength+n.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(n),e.byteLength),i.buffer}_packData(e,n){return[new Uint8Array([n,n>>8]),new Uint8Array([n,n>>8,n>>16,n>>24])][e]}pack(e,n){if(n!=null&&n.bitsPerSample)if(n!=null&&n.channels){if(!(n!=null&&n.data))throw new Error('Missing "data"')}else throw new Error('Missing "channels"');else throw new Error('Missing "bitsPerSample"');const{bitsPerSample:i,channels:r,data:s}=n,o=["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,r.length),this._packData(1,e),this._packData(1,e*r.length*i/8),this._packData(0,r.length*i/8),this._packData(0,i),"data",this._packData(1,r[0].length*r.length*i/8),s],l=new Blob(o,{type:"audio/mpeg"}),u=URL.createObjectURL(l);return{blob:l,url:u,channelCount:r.length,sampleRate:e,duration:s.byteLength/(r.length*e*2)}}}globalThis.WavPacker=ir;const ST=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],E6=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],xa=[],sS=[];for(let t=1;t<=8;t++)for(let e=0;e<ST.length;e++){const n=ST[e];xa.push(n/Math.pow(2,8-t)),sS.push(E6[e]+t)}const vm=[32,2e3],xT=xa.filter((t,e)=>xa[e]>vm[0]&&xa[e]<vm[1]),T6=sS.filter((t,e)=>xa[e]>vm[0]&&xa[e]<vm[1]);class Fl{static getFrequencies(e,n,i,r="frequency",s=-100,o=-30){i||(i=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(i));const l=n/2,u=1/i.length*l;let f,p,g;if(r==="music"||r==="voice"){const k=r==="voice"?xT:xa,w=Array(k.length).fill(s);for(let C=0;C<i.length;C++){const T=C*u,D=i[C];for(let P=k.length-1;P>=0;P--)if(T>k[P]){w[P]=Math.max(w[P],D);break}}f=w,p=r==="voice"?xT:xa,g=r==="voice"?T6:sS}else f=Array.from(i),p=f.map((k,w)=>u*w),g=p.map(k=>`${k.toFixed(2)} Hz`);const v=f.map(k=>Math.max(0,Math.min((k-s)/(o-s),1)));return{values:new Float32Array(v),frequencies:p,labels:g}}constructor(e,n=null){if(this.fftResults=[],n){const{length:i,sampleRate:r}=n,s=new OfflineAudioContext({length:i,sampleRate:r}),o=s.createBufferSource();o.buffer=n;const l=s.createAnalyser();l.fftSize=8192,l.smoothingTimeConstant=.1,o.connect(l);const u=1/60,f=i/r,p=g=>{const v=u*g;v<f&&s.suspend(v).then(()=>{const S=new Float32Array(l.frequencyBinCount);l.getFloatFrequencyData(S),this.fftResults.push(S),p(g+1)}),g===1?s.startRendering():s.resume()};o.start(0),p(1),this.audio=e,this.context=s,this.analyser=l,this.sampleRate=r,this.audioBuffer=n}else{const i=new AudioContext,r=i.createMediaElementSource(e),s=i.createAnalyser();s.fftSize=8192,s.smoothingTimeConstant=.1,r.connect(s),s.connect(i.destination),this.audio=e,this.context=i,this.analyser=s,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}getFrequencies(e="frequency",n=-100,i=-30){let r=null;if(this.audioBuffer&&this.fftResults.length){const s=this.audio.currentTime/this.audio.duration,o=Math.min(s*this.fftResults.length|0,this.fftResults.length-1);r=this.fftResults[o]}return Fl.getFrequencies(this.analyser,this.sampleRate,r,e,n,i)}async resumeIfSuspended(){return this.context.state==="suspended"&&await this.context.resume(),!0}}globalThis.AudioAnalysis=Fl;const A6=`
class StreamProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.hasStarted = false;
    this.hasInterrupted = false;
    this.outputBuffers = [];
    this.bufferLength = 128;
    this.write = { buffer: new Float32Array(this.bufferLength), trackId: null };
    this.writeOffset = 0;
    this.trackSampleOffsets = {};
    this.port.onmessage = (event) => {
      if (event.data) {
        const payload = event.data;
        if (payload.event === 'write') {
          const int16Array = payload.buffer;
          const float32Array = new Float32Array(int16Array.length);
          for (let i = 0; i < int16Array.length; i++) {
            float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32
          }
          this.writeData(float32Array, payload.trackId);
        } else if (
          payload.event === 'offset' ||
          payload.event === 'interrupt'
        ) {
          const requestId = payload.requestId;
          const trackId = this.write.trackId;
          const offset = this.trackSampleOffsets[trackId] || 0;
          this.port.postMessage({
            event: 'offset',
            requestId,
            trackId,
            offset,
          });
          if (payload.event === 'interrupt') {
            this.hasInterrupted = true;
          }
        } else {
          throw new Error(\`Unhandled event "\${payload.event}"\`);
        }
      }
    };
  }

  writeData(float32Array, trackId = null) {
    let { buffer } = this.write;
    let offset = this.writeOffset;
    for (let i = 0; i < float32Array.length; i++) {
      buffer[offset++] = float32Array[i];
      if (offset >= buffer.length) {
        this.outputBuffers.push(this.write);
        this.write = { buffer: new Float32Array(this.bufferLength), trackId };
        buffer = this.write.buffer;
        offset = 0;
      }
    }
    this.writeOffset = offset;
    return true;
  }

  process(inputs, outputs, parameters) {
    const output = outputs[0];
    const outputChannelData = output[0];
    const outputBuffers = this.outputBuffers;
    if (this.hasInterrupted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else if (outputBuffers.length) {
      this.hasStarted = true;
      const { buffer, trackId } = outputBuffers.shift();
      for (let i = 0; i < outputChannelData.length; i++) {
        outputChannelData[i] = buffer[i] || 0;
      }
      if (trackId) {
        this.trackSampleOffsets[trackId] =
          this.trackSampleOffsets[trackId] || 0;
        this.trackSampleOffsets[trackId] += buffer.length;
      }
      return true;
    } else if (this.hasStarted) {
      this.port.postMessage({ event: 'stop' });
      return false;
    } else {
      return true;
    }
  }
}

registerProcessor('stream_processor', StreamProcessor);
`,O6=new Blob([A6],{type:"application/javascript"}),R6=URL.createObjectURL(O6),D6=R6;class aS{constructor({sampleRate:e=44100}={}){this.scriptSrc=D6,this.sampleRate=e,this.context=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={}}async connect(){this.context=new AudioContext({sampleRate:this.sampleRate}),this._speakerID&&this.context.setSinkId(this._speakerID),this.context.state==="suspended"&&await this.context.resume();try{await this.context.audioWorklet.addModule(this.scriptSrc)}catch(n){throw console.error(n),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const e=this.context.createAnalyser();return e.fftSize=8192,e.smoothingTimeConstant=.1,this.analyser=e,!0}getFrequencies(e="frequency",n=-100,i=-30){if(!this.analyser)throw new Error("Not connected, please call .connect() first");return Fl.getFrequencies(this.analyser,this.sampleRate,null,e,n,i)}async updateSpeaker(e){const n=this._speakerID;if(this._speakerID=e,this.context)try{e==="default"?await this.context.setSinkId():await this.context.setSinkId(e)}catch(i){console.error(`Could not set sinkId to ${e}: ${i}`),this._speakerID=n}}_start(){const e=new AudioWorkletNode(this.context,"stream_processor");return e.connect(this.context.destination),e.port.onmessage=n=>{const{event:i}=n.data;if(i==="stop")e.disconnect(),this.stream=null;else if(i==="offset"){const{requestId:r,trackId:s,offset:o}=n.data,l=o/this.sampleRate;this.trackSampleOffsets[r]={trackId:s,offset:o,currentTime:l}}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}add16BitPCM(e,n="default"){if(typeof n!="string")throw new Error("trackId must be a string");if(this.interruptedTrackIds[n])return;this.stream||this._start();let i;if(e instanceof Int16Array)i=e;else if(e instanceof ArrayBuffer)i=new Int16Array(e);else throw new Error("argument must be Int16Array or ArrayBuffer");return this.stream.port.postMessage({event:"write",buffer:i,trackId:n}),i}async getTrackSampleOffset(e=!1){if(!this.stream)return null;const n=crypto.randomUUID();this.stream.port.postMessage({event:e?"interrupt":"offset",requestId:n});let i;for(;!i;)i=this.trackSampleOffsets[n],await new Promise(s=>setTimeout(()=>s(),1));const{trackId:r}=i;return e&&r&&(this.interruptedTrackIds[r]=!0),i}async interrupt(){return this.getTrackSampleOffset(!0)}}globalThis.WavStreamPlayer=aS;const P6=`
class AudioProcessor extends AudioWorkletProcessor {

  constructor() {
    super();
    this.port.onmessage = this.receive.bind(this);
    this.initialize();
  }

  initialize() {
    this.foundAudio = false;
    this.recording = false;
    this.chunks = [];
  }

  /**
   * Concatenates sampled chunks into channels
   * Format is chunk[Left[], Right[]]
   */
  readChannelData(chunks, channel = -1, maxChannels = 9) {
    let channelLimit;
    if (channel !== -1) {
      if (chunks[0] && chunks[0].length - 1 < channel) {
        throw new Error(
          \`Channel \${channel} out of range: max \${chunks[0].length}\`
        );
      }
      channelLimit = channel + 1;
    } else {
      channel = 0;
      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);
    }
    const channels = [];
    for (let n = channel; n < channelLimit; n++) {
      const length = chunks.reduce((sum, chunk) => {
        return sum + chunk[n].length;
      }, 0);
      const buffers = chunks.map((chunk) => chunk[n]);
      const result = new Float32Array(length);
      let offset = 0;
      for (let i = 0; i < buffers.length; i++) {
        result.set(buffers[i], offset);
        offset += buffers[i].length;
      }
      channels[n] = result;
    }
    return channels;
  }

  /**
   * Combines parallel audio data into correct format,
   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]
   */
  formatAudioData(channels) {
    if (channels.length === 1) {
      // Simple case is only one channel
      const float32Array = channels[0].slice();
      const meanValues = channels[0].slice();
      return { float32Array, meanValues };
    } else {
      const float32Array = new Float32Array(
        channels[0].length * channels.length
      );
      const meanValues = new Float32Array(channels[0].length);
      for (let i = 0; i < channels[0].length; i++) {
        const offset = i * channels.length;
        let meanValue = 0;
        for (let n = 0; n < channels.length; n++) {
          float32Array[offset + n] = channels[n][i];
          meanValue += channels[n][i];
        }
        meanValues[i] = meanValue / channels.length;
      }
      return { float32Array, meanValues };
    }
  }

  /**
   * Converts 32-bit float data to 16-bit integers
   */
  floatTo16BitPCM(float32Array) {
    const buffer = new ArrayBuffer(float32Array.length * 2);
    const view = new DataView(buffer);
    let offset = 0;
    for (let i = 0; i < float32Array.length; i++, offset += 2) {
      let s = Math.max(-1, Math.min(1, float32Array[i]));
      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);
    }
    return buffer;
  }

  /**
   * Retrieves the most recent amplitude values from the audio stream
   * @param {number} channel
   */
  getValues(channel = -1) {
    const channels = this.readChannelData(this.chunks, channel);
    const { meanValues } = this.formatAudioData(channels);
    return { meanValues, channels };
  }

  /**
   * Exports chunks as an audio/wav file
   */
  export() {
    const channels = this.readChannelData(this.chunks);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const audioData = this.floatTo16BitPCM(float32Array);
    return {
      meanValues: meanValues,
      audio: {
        bitsPerSample: 16,
        channels: channels,
        data: audioData,
      },
    };
  }

  receive(e) {
    const { event, id } = e.data;
    let receiptData = {};
    switch (event) {
      case 'start':
        this.recording = true;
        break;
      case 'stop':
        this.recording = false;
        break;
      case 'clear':
        this.initialize();
        break;
      case 'export':
        receiptData = this.export();
        break;
      case 'read':
        receiptData = this.getValues();
        break;
      default:
        break;
    }
    // Always send back receipt
    this.port.postMessage({ event: 'receipt', id, data: receiptData });
  }

  sendChunk(chunk) {
    const channels = this.readChannelData([chunk]);
    const { float32Array, meanValues } = this.formatAudioData(channels);
    const rawAudioData = this.floatTo16BitPCM(float32Array);
    const monoAudioData = this.floatTo16BitPCM(meanValues);
    this.port.postMessage({
      event: 'chunk',
      data: {
        mono: monoAudioData,
        raw: rawAudioData,
      },
    });
  }

  process(inputList, outputList, parameters) {
    // Copy input to output (e.g. speakers)
    // Note that this creates choppy sounds with Mac products
    const sourceLimit = Math.min(inputList.length, outputList.length);
    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {
      const input = inputList[inputNum];
      const output = outputList[inputNum];
      const channelCount = Math.min(input.length, output.length);
      for (let channelNum = 0; channelNum < channelCount; channelNum++) {
        input[channelNum].forEach((sample, i) => {
          output[channelNum][i] = sample;
        });
      }
    }
    const inputs = inputList[0];
    // There's latency at the beginning of a stream before recording starts
    // Make sure we actually receive audio data before we start storing chunks
    let sliceIndex = 0;
    if (!this.foundAudio) {
      for (const channel of inputs) {
        sliceIndex = 0; // reset for each channel
        if (this.foundAudio) {
          break;
        }
        if (channel) {
          for (const value of channel) {
            if (value !== 0) {
              // find only one non-zero entry in any channel
              this.foundAudio = true;
              break;
            } else {
              sliceIndex++;
            }
          }
        }
      }
    }
    if (inputs && inputs[0] && this.foundAudio && this.recording) {
      // We need to copy the TypedArray, because the \`process\`
      // internals will reuse the same buffer to hold each input
      const chunk = inputs.map((input) => input.slice(sliceIndex));
      this.chunks.push(chunk);
      this.sendChunk(chunk);
    }
    return true;
  }
}

registerProcessor('audio_processor', AudioProcessor);
`,N6=new Blob([P6],{type:"application/javascript"}),j6=URL.createObjectURL(N6),MP=j6;class EP{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:i=!1}={}){this.scriptSrc=MP,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!i,this._deviceChangeCallback=null,this._deviceErrorCallback=null,this._devices=[],this.deviceSelection=null,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}static async decode(e,n=44100,i=-1){const r=new AudioContext({sampleRate:n});let s,o;if(e instanceof Blob){if(i!==-1)throw new Error('Can not specify "fromSampleRate" when reading from Blob');o=e,s=await o.arrayBuffer()}else if(e instanceof ArrayBuffer){if(i!==-1)throw new Error('Can not specify "fromSampleRate" when reading from ArrayBuffer');s=e,o=new Blob([s],{type:"audio/wav"})}else{let p,g;if(e instanceof Int16Array){g=e,p=new Float32Array(e.length);for(let w=0;w<e.length;w++)p[w]=e[w]/32768}else if(e instanceof Float32Array)p=e;else if(e instanceof Array)p=new Float32Array(e);else throw new Error('"audioData" must be one of: Blob, Float32Arrray, Int16Array, ArrayBuffer, Array<number>');if(i===-1)throw new Error('Must specify "fromSampleRate" when reading from Float32Array, In16Array or Array');if(i<3e3)throw new Error('Minimum "fromSampleRate" is 3000 (3kHz)');g||(g=ir.floatTo16BitPCM(p));const v={bitsPerSample:16,channels:[p],data:g};o=new ir().pack(i,v).blob,s=await o.arrayBuffer()}const l=await r.decodeAudioData(s),u=l.getChannelData(0),f=URL.createObjectURL(o);return{blob:o,url:f,values:u,audioBuffer:l}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},i=null){if(i=i||this.processor,!i)throw new Error("Can not send events without recording first");const r={event:e,id:this._lastEventId++,data:n};i.port.postMessage(r);const s=new Date().valueOf();for(;!this.eventReceipts[r.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(l=>setTimeout(()=>l(!0),1))}const o=this.eventReceipts[r.id];return delete this.eventReceipts[r.id],o}listenForDeviceChange(e){if(e===null&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(e!==null){let n=0,i=[];const r=o=>o.map(l=>l.deviceId).sort().join(","),s=async()=>{let o=++n;const l=await this.listDevices();o===n&&r(i)!==r(l)&&(i=l,e(l.slice()))};navigator.mediaDevices.addEventListener("devicechange",s),s(),this._deviceChangeCallback=s}return!0}listenForDeviceErrors(e){this._deviceErrorCallback=e}async requestPermission(){const e=await navigator.permissions.query({name:"microphone"});if(e.state==="denied")this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:new Error("Microphone access denied")});else if(e.state==="prompt")try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(r=>r.stop())}catch(n){console.error("Error accessing microphone."),this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:n})}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw new Error("Could not request user devices");return await this.requestPermission(),(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="audioinput")}async begin(e){var l;if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic","cam"],type:"undefined-mediadevices"}),new Error("Could not request user media");e=e??((l=this.deviceSelection)==null?void 0:l.deviceId);try{const u={audio:!0};e&&(u.audio={deviceId:{exact:e}}),this.stream=await navigator.mediaDevices.getUserMedia(u)}catch(u){throw this._deviceErrorCallback&&this._deviceErrorCallback({devices:["mic"],type:"unknown",error:u}),new Error("Could not start media stream")}this.listDevices().then(u=>{e=this.stream.getAudioTracks()[0].getSettings().deviceId,console.log("find current device",u,e,this.stream.getAudioTracks()[0].getSettings()),this.deviceSelection=u.find(f=>f.deviceId===e),console.log("current device",this.deviceSelection)});const n=new AudioContext({sampleRate:this.sampleRate}),i=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(u){throw console.error(u),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const r=new AudioWorkletNode(n,"audio_processor");r.port.onmessage=u=>{const{event:f,id:p,data:g}=u.data;if(f==="receipt")this.eventReceipts[p]=g;else if(f==="chunk")if(this._chunkProcessorSize){const v=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:ir.mergeBuffers(v.raw,g.raw),mono:ir.mergeBuffers(v.mono,g.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(g)};const s=i.connect(r),o=n.createAnalyser();return o.fftSize=8192,o.smoothingTimeConstant=.1,s.connect(o),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),o.connect(n.destination)),this.source=i,this.node=s,this.analyser=o,this.processor=r,console.log("begin completed"),!0}getFrequencies(e="frequency",n=-100,i=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return Fl.getFrequencies(this.analyser,this.sampleRate,null,e,n,i)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new ir().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(o=>o.stop()),this.log("Exporting ...");const i=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new ir().pack(this.sampleRate,i.audio)}async quit(){return this.listenForDeviceChange(null),this.deviceSelection=null,this.processor&&await this.end(),!0}}globalThis.WavRecorder=EP;class L6{constructor({sampleRate:e=44100,outputToSpeakers:n=!1,debug:i=!1}={}){this.scriptSrc=MP,this.sampleRate=e,this.outputToSpeakers=n,this.debug=!!i,this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorSize=void 0,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)}}log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e,n={},i=null){if(i=i||this.processor,!i)throw new Error("Can not send events without recording first");const r={event:e,id:this._lastEventId++,data:n};i.port.postMessage(r);const s=new Date().valueOf();for(;!this.eventReceipts[r.id];){if(new Date().valueOf()-s>this.eventTimeout)throw new Error(`Timeout waiting for "${e}" event`);await new Promise(l=>setTimeout(()=>l(!0),1))}const o=this.eventReceipts[r.id];return delete this.eventReceipts[r.id],o}async begin(e){if(this.processor)throw new Error("Already connected: please call .end() to start a new session");if(!e||e.kind!=="audio")throw new Error("No audio track provided");this.stream=new MediaStream([e]);const n=new AudioContext({sampleRate:this.sampleRate}),i=n.createMediaStreamSource(this.stream);try{await n.audioWorklet.addModule(this.scriptSrc)}catch(l){throw console.error(l),new Error(`Could not add audioWorklet module: ${this.scriptSrc}`)}const r=new AudioWorkletNode(n,"audio_processor");r.port.onmessage=l=>{const{event:u,id:f,data:p}=l.data;if(u==="receipt")this.eventReceipts[f]=p;else if(u==="chunk")if(this._chunkProcessorSize){const g=this._chunkProcessorBuffer;this._chunkProcessorBuffer={raw:ir.mergeBuffers(g.raw,p.raw),mono:ir.mergeBuffers(g.mono,p.mono)},this._chunkProcessorBuffer.mono.byteLength>=this._chunkProcessorSize&&(this._chunkProcessor(this._chunkProcessorBuffer),this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)})}else this._chunkProcessor(p)};const s=i.connect(r),o=n.createAnalyser();return o.fftSize=8192,o.smoothingTimeConstant=.1,s.connect(o),this.outputToSpeakers&&(console.warn(`Warning: Output to speakers may affect sound quality,
especially due to system audio feedback preventative measures.
use only for debugging`),o.connect(n.destination)),this.source=i,this.node=s,this.analyser=o,this.processor=r,!0}getFrequencies(e="frequency",n=-100,i=-30){if(!this.processor)throw new Error("Session ended: please call .begin() first");return Fl.getFrequencies(this.analyser,this.sampleRate,null,e,n,i)}async pause(){if(this.processor){if(!this.recording)throw new Error("Already paused: please call .record() first")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessorBuffer.raw.byteLength&&this._chunkProcessor(this._chunkProcessorBuffer),this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(e=()=>{},n=8192){if(this.processor){if(this.recording)throw new Error("Already recording: HELLO please call .pause() first");if(typeof e!="function")throw new Error("chunkProcessor must be a function")}else throw new Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorSize=n,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw new Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(e=!1){if(!this.processor)throw new Error("Session ended: please call .begin() first");if(!e&&this.recording)throw new Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");const n=await this._event("export");return new ir().pack(this.sampleRate,n.audio)}async end(){if(!this.processor)throw new Error("Session ended: please call .begin() first");const e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.log("Exporting ...");const n=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,new ir().pack(this.sampleRate,n.audio)}async quit(){return this.listenForDeviceChange(null),this.processor&&await this.end(),!0}}globalThis.WavRecorder=WavRecorder;var I6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),oo=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{f(i.next(p))}catch(g){o(g)}}function u(p){try{f(i.throw(p))}catch(g){o(g)}}function f(p){p.done?s(p.value):r(p.value).then(l,u)}f((i=i.apply(t,e||[])).next())})},co=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(i=1,r&&(s=f[0]&2?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,r=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],r=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},TP=function(){function t(){this._callbacks={},this._micEnabled=!0,this._camEnabled=!1,this._supportsScreenShare=!1}return t.prototype.setUserAudioCallback=function(e){this._userAudioCallback=e},t.prototype.setClientOptions=function(e,n){var i,r,s;n===void 0&&(n=!1),!(this._options&&!n)&&(this._options=e,this._callbacks=(i=e.callbacks)!==null&&i!==void 0?i:{},this._micEnabled=(r=e.enableMic)!==null&&r!==void 0?r:!0,this._camEnabled=(s=e.enableCam)!==null&&s!==void 0?s:!1)},Object.defineProperty(t.prototype,"supportsScreenShare",{get:function(){return this._supportsScreenShare},enumerable:!1,configurable:!0}),t}();(function(t){I6(e,t);function e(n,i){n===void 0&&(n=void 0),i===void 0&&(i=24e3);var r=t.call(this)||this;return r._initialized=!1,r._recorderChunkSize=void 0,r._recorderChunkSize=n,r._wavRecorder=new EP({sampleRate:i}),r._wavStreamPlayer=new aS({sampleRate:24e3}),r}return e.prototype.initialize=function(){return oo(this,void 0,Promise,function(){return co(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._wavRecorder.begin()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return this._wavRecorder.listenForDeviceChange(null),this._wavRecorder.listenForDeviceChange(this._handleAvailableDevicesUpdated.bind(this)),this._wavRecorder.listenForDeviceErrors(null),this._wavRecorder.listenForDeviceErrors(this._handleDeviceError.bind(this)),[4,this._wavStreamPlayer.connect()];case 4:return n.sent(),this._initialized=!0,[2]}})})},e.prototype.connect=function(){return oo(this,void 0,Promise,function(){var n;return co(this,function(i){switch(i.label){case 0:return this._initialized?[3,2]:[4,this.initialize()];case 1:i.sent(),i.label=2;case 2:return n=this._wavRecorder.getStatus()=="recording",this._micEnabled&&!n?[4,this._startRecording()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this._camEnabled&&console.warn("WavMediaManager does not support video input."),[2]}})})},e.prototype.disconnect=function(){return oo(this,void 0,Promise,function(){return co(this,function(n){switch(n.label){case 0:return this._initialized?[4,this._wavRecorder.end()]:[2];case 1:return n.sent(),[4,this._wavStreamPlayer.interrupt()];case 2:return n.sent(),this._initialized=!1,[2]}})})},e.prototype.userStartedSpeaking=function(){return oo(this,void 0,Promise,function(){return co(this,function(n){return[2,this._wavStreamPlayer.interrupt()]})})},e.prototype.bufferBotAudio=function(n,i){return this._wavStreamPlayer.add16BitPCM(n,i)},e.prototype.getAllMics=function(){return this._wavRecorder.listDevices()},e.prototype.getAllCams=function(){return Promise.resolve([])},e.prototype.getAllSpeakers=function(){return Promise.resolve([])},e.prototype.updateMic=function(n){return oo(this,void 0,Promise,function(){var i,r,s,o;return co(this,function(l){switch(l.label){case 0:return i=this._wavRecorder.deviceSelection,this._wavRecorder.getStatus()==="ended"?[3,2]:[4,this._wavRecorder.end()];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,6,,7]),[4,this._wavRecorder.begin(n)];case 3:return l.sent(),this._micEnabled?[4,this._startRecording()]:[3,5];case 4:l.sent(),l.label=5;case 5:return r=this._wavRecorder.deviceSelection,r&&i&&i.label!==r.label&&((o=(s=this._callbacks).onMicUpdated)===null||o===void 0||o.call(s,r)),[3,7];case 6:return l.sent(),[3,7];case 7:return[2]}})})},e.prototype.updateCam=function(n){},e.prototype.updateSpeaker=function(n){},Object.defineProperty(e.prototype,"selectedMic",{get:function(){var n;return(n=this._wavRecorder.deviceSelection)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedCam",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedSpeaker",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.enableMic=function(n){return oo(this,void 0,Promise,function(){var i=this;return co(this,function(r){switch(r.label){case 0:return this._micEnabled=n,this._wavRecorder.stream?(this._wavRecorder.stream.getAudioTracks().forEach(function(s){var o,l;s.enabled=n,n||(l=(o=i._callbacks).onTrackStopped)===null||l===void 0||l.call(o,s,kT())}),n?[4,this._startRecording()]:[3,2]):[2];case 1:return r.sent(),[3,4];case 2:return[4,this._wavRecorder.pause()];case 3:r.sent(),r.label=4;case 4:return[2]}})})},e.prototype.enableCam=function(n){console.warn("WavMediaManager does not support video input.")},e.prototype.enableScreenShare=function(n){console.warn("WavMediaManager does not support screen sharing.")},Object.defineProperty(e.prototype,"isCamEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMicEnabled",{get:function(){return this._micEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSharingScreen",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.tracks=function(){var n,i=(n=this._wavRecorder.stream)===null||n===void 0?void 0:n.getTracks()[0];return{local:i?{audio:i}:{}}},e.prototype._startRecording=function(){return oo(this,void 0,void 0,function(){var n,i=this,r,s,o;return co(this,function(l){switch(l.label){case 0:return[4,this._wavRecorder.record(function(u){var f;(f=i._userAudioCallback)===null||f===void 0||f.call(i,u.mono)},this._recorderChunkSize)];case 1:return l.sent(),n=(r=this._wavRecorder.stream)===null||r===void 0?void 0:r.getAudioTracks()[0],n&&((o=(s=this._callbacks).onTrackStarted)===null||o===void 0||o.call(s,n,kT())),[2]}})})},e.prototype._handleAvailableDevicesUpdated=function(n){var i,r,s,o;(r=(i=this._callbacks).onAvailableCamsUpdated)===null||r===void 0||r.call(i,n.filter(function(f){return f.kind==="videoinput"})),(o=(s=this._callbacks).onAvailableMicsUpdated)===null||o===void 0||o.call(s,n.filter(function(f){return f.kind==="audioinput"}));var l=n.find(function(f){return f.deviceId==="default"}),u=this._wavRecorder.deviceSelection;u&&(!n.some(function(f){return f.deviceId===u.deviceId})||u.deviceId==="default"&&u.label!==(l==null?void 0:l.label))&&this.updateMic("")},e.prototype._handleDeviceError=function(n){var i,r,s=n.devices,o=n.type,l=n.error,u=new ls(s,o,l==null?void 0:l.message,l?{sourceError:l}:void 0);(r=(i=this._callbacks).onDeviceError)===null||r===void 0||r.call(i,u)},e})(TP);var kT=function(){return{id:"local",name:"",local:!0}},B6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xi=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{f(i.next(p))}catch(g){o(g)}}function u(p){try{f(i.throw(p))}catch(g){o(g)}}function f(p){p.done?s(p.value):r(p.value).then(l,u)}f((i=i.apply(t,e||[])).next())})},Qi=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(i=1,r&&(s=f[0]&2?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,r=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],r=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$6=function(t){B6(e,t);function e(n,i,r,s,o,l,u){n===void 0&&(n=!0),i===void 0&&(i=!0),o===void 0&&(o=void 0),l===void 0&&(l=24e3),u===void 0&&(u=24e3);var f,p=t.call(this)||this;return p._selectedCam={},p._selectedMic={},p._selectedSpeaker={},p._remoteAudioLevelInterval=null,p._recorderChunkSize=void 0,p._initialized=!1,p._connected=!1,p._currentAudioTrack=null,p._connectResolve=null,p.onTrackStartedCallback=r,p.onTrackStoppedCallback=s,p._recorderChunkSize=o,p._supportsScreenShare=!0,p._daily=(f=cT.getCallInstance())!==null&&f!==void 0?f:cT.createCallObject(),i&&(p._mediaStreamRecorder=new L6({sampleRate:l})),n&&(p._wavStreamPlayer=new aS({sampleRate:u})),p._daily.on("track-started",p.handleTrackStarted.bind(p)),p._daily.on("track-stopped",p.handleTrackStopped.bind(p)),p._daily.on("available-devices-updated",p._handleAvailableDevicesUpdated.bind(p)),p._daily.on("selected-devices-updated",p._handleSelectedDevicesUpdated.bind(p)),p._daily.on("camera-error",p.handleDeviceError.bind(p)),p._daily.on("local-audio-level",p._handleLocalAudioLevel.bind(p)),p}return e.prototype.initialize=function(){return Xi(this,void 0,Promise,function(){var n,i,r,s,o,l=this,u,f,p,g,v,S,k,w,C,T,D,P;return Qi(this,function(j){switch(j.label){case 0:return this._initialized?(console.warn("DailyMediaManager already initialized"),[2]):[4,this._daily.startCamera({startVideoOff:!this._camEnabled,startAudioOff:!this._micEnabled,dailyConfig:{useDevicePreferenceCookies:!0}})];case 1:return n=j.sent(),[4,this._daily.enumerateDevices()];case 2:return i=j.sent().devices,r=i.filter(function(N){return N.kind==="videoinput"}),s=i.filter(function(N){return N.kind==="audioinput"}),o=i.filter(function(N){return N.kind==="audiooutput"}),(f=(u=this._callbacks).onAvailableCamsUpdated)===null||f===void 0||f.call(u,r),(g=(p=this._callbacks).onAvailableMicsUpdated)===null||g===void 0||g.call(p,s),(S=(v=this._callbacks).onAvailableSpeakersUpdated)===null||S===void 0||S.call(v,o),this._selectedCam=n.camera,(w=(k=this._callbacks).onCamUpdated)===null||w===void 0||w.call(k,n.camera),this._selectedMic=n.mic,(T=(C=this._callbacks).onMicUpdated)===null||T===void 0||T.call(C,n.mic),this._selectedSpeaker=n.speaker,(P=(D=this._callbacks).onSpeakerUpdated)===null||P===void 0||P.call(D,n.speaker),this._daily.isLocalAudioLevelObserverRunning()?[3,4]:[4,this._daily.startLocalAudioLevelObserver(100)];case 3:j.sent(),j.label=4;case 4:return this._wavStreamPlayer?[4,this._wavStreamPlayer.connect()]:[3,6];case 5:j.sent(),this._remoteAudioLevelInterval||(this._remoteAudioLevelInterval=setInterval(function(){var N,B=l._wavStreamPlayer.getFrequencies(),L=0;!((N=B.values)===null||N===void 0)&&N.length&&(L=B.values.reduce(function(z,W){return z+W},0)/B.values.length),l._handleRemoteAudioLevel(L)},100)),j.label=6;case 6:return this._initialized=!0,[2]}})})},e.prototype.connect=function(){return Xi(this,void 0,Promise,function(){var n=this;return Qi(this,function(i){return this._connected?(console.warn("DailyMediaManager already connected"),[2]):(this._connected=!0,this._initialized?(this._micEnabled&&this._startRecording(),[2]):[2,new Promise(function(r){(function(){return Xi(n,void 0,void 0,function(){return Qi(this,function(s){switch(s.label){case 0:return this._connectResolve=r,[4,this.initialize()];case 1:return s.sent(),[2]}})})})()})])})})},e.prototype.disconnect=function(){return Xi(this,void 0,Promise,function(){var n,i;return Qi(this,function(r){switch(r.label){case 0:return this._remoteAudioLevelInterval&&clearInterval(this._remoteAudioLevelInterval),this._remoteAudioLevelInterval=null,this._daily.leave(),this._currentAudioTrack=null,[4,(n=this._mediaStreamRecorder)===null||n===void 0?void 0:n.end()];case 1:return r.sent(),(i=this._wavStreamPlayer)===null||i===void 0||i.interrupt(),this._initialized=!1,this._connected=!1,[2]}})})},e.prototype.userStartedSpeaking=function(){return Xi(this,void 0,Promise,function(){var n;return Qi(this,function(i){return[2,(n=this._wavStreamPlayer)===null||n===void 0?void 0:n.interrupt()]})})},e.prototype.bufferBotAudio=function(n,i){var r;return(r=this._wavStreamPlayer)===null||r===void 0?void 0:r.add16BitPCM(n,i)},e.prototype.getAllMics=function(){return Xi(this,void 0,Promise,function(){var n;return Qi(this,function(i){switch(i.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=i.sent().devices,[2,n.filter(function(r){return r.kind==="audioinput"})]}})})},e.prototype.getAllCams=function(){return Xi(this,void 0,Promise,function(){var n;return Qi(this,function(i){switch(i.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=i.sent().devices,[2,n.filter(function(r){return r.kind==="videoinput"})]}})})},e.prototype.getAllSpeakers=function(){return Xi(this,void 0,Promise,function(){var n;return Qi(this,function(i){switch(i.label){case 0:return[4,this._daily.enumerateDevices()];case 1:return n=i.sent().devices,[2,n.filter(function(r){return r.kind==="audiooutput"})]}})})},e.prototype.updateMic=function(n){var i=this;this._daily.setInputDevicesAsync({audioDeviceId:n}).then(function(r){i._selectedMic=r.mic})},e.prototype.updateCam=function(n){var i=this;this._daily.setInputDevicesAsync({videoDeviceId:n}).then(function(r){i._selectedCam=r.camera})},e.prototype.updateSpeaker=function(n){return Xi(this,void 0,Promise,function(){var i,r,s,o,l=this,u,f;return Qi(this,function(p){switch(p.label){case 0:return n!=="default"&&this._selectedSpeaker.deviceId===n?[2]:(i=n,i!=="default"?[3,2]:[4,this.getAllSpeakers()]);case 1:if(r=p.sent(),s=r.find(function(g){return g.deviceId==="default"}),!s)return console.warn("No default speaker found"),[2];r.splice(r.indexOf(s),1),o=r.find(function(g){return s.label.includes(g.label)}),i=(u=o==null?void 0:o.deviceId)!==null&&u!==void 0?u:n,p.label=2;case 2:return(f=this._wavStreamPlayer)===null||f===void 0||f.updateSpeaker(i).then(function(){var g,v;l._selectedSpeaker={deviceId:n},(v=(g=l._callbacks).onSpeakerUpdated)===null||v===void 0||v.call(g,l._selectedSpeaker)}),[2]}})})},Object.defineProperty(e.prototype,"selectedMic",{get:function(){return this._selectedMic},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedCam",{get:function(){return this._selectedCam},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedSpeaker",{get:function(){return this._selectedSpeaker},enumerable:!1,configurable:!0}),e.prototype.enableMic=function(n){return Xi(this,void 0,Promise,function(){var i;return Qi(this,function(r){return this._micEnabled=n,!((i=this._daily.participants())===null||i===void 0)&&i.local?(this._daily.setLocalAudio(n),this._mediaStreamRecorder&&(n?this._mediaStreamRecorder.getStatus()==="paused"&&this._startRecording():this._mediaStreamRecorder.getStatus()==="recording"&&this._mediaStreamRecorder.pause()),[2]):[2]})})},e.prototype.enableCam=function(n){this._camEnabled=n,this._daily.setLocalVideo(n)},e.prototype.enableScreenShare=function(n){n?this._daily.startScreenShare():this._daily.stopScreenShare()},Object.defineProperty(e.prototype,"isCamEnabled",{get:function(){return this._daily.localVideo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMicEnabled",{get:function(){return this._daily.localAudio()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSharingScreen",{get:function(){return this._daily.localScreenAudio()||this._daily.localScreenVideo()},enumerable:!1,configurable:!0}),e.prototype.tracks=function(){var n,i,r,s,o,l,u,f,p,g,v,S,k=this._daily.participants();return{local:{audio:(r=(i=(n=k==null?void 0:k.local)===null||n===void 0?void 0:n.tracks)===null||i===void 0?void 0:i.audio)===null||r===void 0?void 0:r.persistentTrack,screenAudio:(l=(o=(s=k==null?void 0:k.local)===null||s===void 0?void 0:s.tracks)===null||o===void 0?void 0:o.screenAudio)===null||l===void 0?void 0:l.persistentTrack,screenVideo:(p=(f=(u=k==null?void 0:k.local)===null||u===void 0?void 0:u.tracks)===null||f===void 0?void 0:f.screenVideo)===null||p===void 0?void 0:p.persistentTrack,video:(S=(v=(g=k==null?void 0:k.local)===null||g===void 0?void 0:g.tracks)===null||v===void 0?void 0:v.video)===null||S===void 0?void 0:S.persistentTrack}}},e.prototype._startRecording=function(){var n=this;if(!(!this._connected||!this._mediaStreamRecorder))try{this._mediaStreamRecorder.record(function(r){n._userAudioCallback(r.mono)},this._recorderChunkSize)}catch(r){var i=r;i.message.includes("Already recording")||console.error("Error starting recording",r)}},e.prototype._handleAvailableDevicesUpdated=function(n){var i,r,s,o,l,u;(r=(i=this._callbacks).onAvailableCamsUpdated)===null||r===void 0||r.call(i,n.availableDevices.filter(function(f){return f.kind==="videoinput"})),(o=(s=this._callbacks).onAvailableMicsUpdated)===null||o===void 0||o.call(s,n.availableDevices.filter(function(f){return f.kind==="audioinput"})),(u=(l=this._callbacks).onAvailableSpeakersUpdated)===null||u===void 0||u.call(l,n.availableDevices.filter(function(f){return f.kind==="audiooutput"})),this._selectedSpeaker.deviceId==="default"&&this.updateSpeaker("default")},e.prototype._handleSelectedDevicesUpdated=function(n){var i,r,s,o,l,u;((i=this._selectedCam)===null||i===void 0?void 0:i.deviceId)!==n.devices.camera&&(this._selectedCam=n.devices.camera,(s=(r=this._callbacks).onCamUpdated)===null||s===void 0||s.call(r,n.devices.camera)),((o=this._selectedMic)===null||o===void 0?void 0:o.deviceId)!==n.devices.mic&&(this._selectedMic=n.devices.mic,(u=(l=this._callbacks).onMicUpdated)===null||u===void 0||u.call(l,n.devices.mic))},e.prototype.handleDeviceError=function(n){var i,r,s=function(o){var l=[];switch(o.type){case"permissions":return o.blockedMedia.forEach(function(u){l.push(u==="video"?"cam":"mic")}),new ls(l,o.type,o.msg,{blockedBy:o.blockedBy});case"not-found":return o.missingMedia.forEach(function(u){l.push(u==="video"?"cam":"mic")}),new ls(l,o.type,o.msg);case"constraints":return o.failedMedia.forEach(function(u){l.push(u==="video"?"cam":"mic")}),new ls(l,o.type,o.msg,{reason:o.reason});case"cam-in-use":return l.push("cam"),new ls(l,"in-use",o.msg);case"mic-in-use":return l.push("mic"),new ls(l,"in-use",o.msg);case"cam-mic-in-use":return l.push("cam"),l.push("mic"),new ls(l,"in-use",o.msg);case"undefined-mediadevices":case"unknown":default:return l.push("cam"),l.push("mic"),new ls(l,o.type,o.msg)}};(r=(i=this._callbacks).onDeviceError)===null||r===void 0||r.call(i,s(n.error))},e.prototype._handleLocalAudioLevel=function(n){var i,r;(r=(i=this._callbacks).onLocalAudioLevel)===null||r===void 0||r.call(i,n.audioLevel)},e.prototype._handleRemoteAudioLevel=function(n){var i,r;(r=(i=this._callbacks).onRemoteAudioLevel)===null||r===void 0||r.call(i,n,z6())},e.prototype.handleTrackStarted=function(n){return Xi(this,void 0,void 0,function(){var i,r,s,o,l,u;return Qi(this,function(f){switch(f.label){case 0:if(!(!((s=n.participant)===null||s===void 0)&&s.local))return[2];if(n.track.kind!=="audio")return[3,15];if(!this._mediaStreamRecorder)return[3,14];switch(i=this._mediaStreamRecorder.getStatus(),r=i,r){case"ended":return[3,1];case"paused":return[3,5];case"recording":return[3,6]}return[3,6];case 1:return f.trys.push([1,3,,4]),[4,this._mediaStreamRecorder.begin(n.track)];case 2:return f.sent(),this._connected&&(this._startRecording(),this._connectResolve&&(this._connectResolve(),this._connectResolve=null)),[3,4];case 3:return f.sent(),[3,4];case 4:return[3,14];case 5:return this._startRecording(),[3,14];case 6:return this._currentAudioTrack===n.track?[3,12]:[4,this._mediaStreamRecorder.end()];case 7:f.sent(),f.label=8;case 8:return f.trys.push([8,10,,11]),[4,this._mediaStreamRecorder.begin(n.track)];case 9:return f.sent(),this._startRecording(),[3,11];case 10:return f.sent(),[3,11];case 11:return[3,13];case 12:console.warn("track-started event received for current track and already recording"),f.label=13;case 13:return[3,14];case 14:this._currentAudioTrack=n.track,f.label=15;case 15:return(l=(o=this._callbacks).onTrackStarted)===null||l===void 0||l.call(o,n.track,n.participant?CT(n.participant):void 0),(u=this.onTrackStartedCallback)===null||u===void 0||u.call(this,n),[2]}})})},e.prototype.handleTrackStopped=function(n){var i,r,s,o;!((i=n.participant)===null||i===void 0)&&i.local&&(n.track.kind==="audio"&&this._mediaStreamRecorder&&this._mediaStreamRecorder.getStatus()==="recording"&&this._mediaStreamRecorder.pause(),(s=(r=this._callbacks).onTrackStopped)===null||s===void 0||s.call(r,n.track,n.participant?CT(n.participant):void 0),(o=this.onTrackStoppedCallback)===null||o===void 0||o.call(this,n))},e}(TP),CT=function(t){return{id:t.user_id,local:t.local,name:t.user_name}},z6=function(){return{id:"bot",local:!1,name:"Bot"}},F6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),na=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{f(i.next(p))}catch(g){o(g)}}function u(p){try{f(i.throw(p))}catch(g){o(g)}}function f(p){p.done?s(p.value):r(p.value).then(l,u)}f((i=i.apply(t,e||[])).next())})},ia=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(i=1,r&&(s=f[0]&2?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,r=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],r=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Qh=function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},AP=["CONNECTING","OPEN","CLOSING","CLOSED"],U6=5e3,V6=15e3,H6=15e4,MT=2,q6=10,W6=1e3,G6=3e4,J6=1.5,Y6=4100,K6="SIG_CONNECTION_CANCELED",X6="WEBSOCKET_ERROR",In;(function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN"})(In||(In={}));var Q6=function(){function t(e,n){this._closedManually=!1,this._errored=!1,this._rejected=!1,this._timed_out=!1,this._initialConnectionOk=!1,this._ws=new WebSocket(e,n)}return t.prototype.addEventListener=function(e,n){this._ws.addEventListener(e,n)},t.prototype.close=function(e,n){this._ws.close(e,n)},t.prototype.send=function(e){this._ws.send(e)},Object.defineProperty(t.prototype,"url",{get:function(){return this._ws.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws.readyState},enumerable:!1,configurable:!0}),t}(),lg=function(t){F6(e,t);function e(n,i,r){r===void 0&&(r={});var s,o=t.call(this)||this;if(!n)throw new Error("Need a valid WebSocket URL");return o._ws=null,o._url=n,o._protocols=i,o._parseBlobToJson=(s=r==null?void 0:r.parseBlobToJson)!==null&&s!==void 0?s:!0,o.init(),o}return e.prototype.init=function(){this._keepAliveTimeout=V6,this._keepAliveInterval=U6,this._disconnected=!1,this._keepIntervalID=null,this._shouldRetryFn=null,this._connectionTimeout=H6,this._reconnectAttempts=0,this._allowedReconnectAttempts=MT,this._reconnectInterval=W6,this._maxReconnectInterval=G6,this._reconnectDecay=J6},e.prototype.connect=function(){return na(this,void 0,void 0,function(){var n=this;return ia(this,function(i){return[2,new Promise(function(r,s){n._disconnected=!1,n.clearReconnectTimeout();var o=new Q6(n._url,n._protocols);n.setConnectionTimeout(),o.addEventListener("close",function(l){var u=l,f=o._timed_out?Y6:u.code,p=o._timed_out?"websocket connection timed out":u.reason;if(o._timed_out=!1,!o._closedManually&&o._initialConnectionOk?(console.warn("signaling socket closed unexpectedly: ".concat(f).concat(p?" "+p:"")),n._closeSocket(),n.emit("close",f,p)):n.log("signaling socket closed"),!o._closedManually&&(o._errored||o._timed_out)&&(console.warn("signaling socket closed on error: ".concat(f).concat(p?" "+p:"")),!o._rejected)){o._rejected=!0;var g=new Error("WebSocket connection error (".concat(f,"): ").concat(p));g.name=X6,s(g)}}),o.addEventListener("open",function(l){if(n.log("wss connection opened to",In.DEBUG,n._url),n.clearConnectionTimeout(),!(o._rejected||o._timed_out)){if(o._closedManually||n._ws&&n._ws!==o){o._rejected=!0,o.close();var u=Error("wss connection interrupted by disconnect or newer connection");u.name=K6,s(u);return}o._initialConnectionOk=n._url,n._lastMsgRecvTime=Date.now(),n._keepAliveInterval&&(n._keepIntervalID=setInterval(function(){return n.checkSocketHealthAndSendKeepAlive()},n._keepAliveInterval)),n._ws=o,n.emit("open"),r(o)}}),o.addEventListener("error",function(l){if(!o._closedManually){var u=l.currentTarget;n.log("websocket error event: ".concat(u==null?void 0:u.url))}o._errored=!0}),o.addEventListener("message",function(l){n._handleMessage(l)})})]})})},e.prototype.setConnectionTimeout=function(){var n=this;this._connectionTimeoutID=setTimeout(function(){return na(n,void 0,void 0,function(){return ia(this,function(i){switch(i.label){case 0:return this.log("Connection reconnect attempt timed out."),this.emit("connection-timeout"),this.clearConnectionTimeout(),[4,this._closeSocket()];case 1:return i.sent(),[2]}})})},this._connectionTimeout)},e.prototype.clearConnectionTimeout=function(){clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=void 0},e.prototype.clearReconnectTimeout=function(){clearTimeout(this._reconnectTimeoutID),this._reconnectTimeoutID=void 0},e.prototype.clearKeepAliveInterval=function(){this._keepIntervalID&&(clearInterval(this._keepIntervalID),this._keepIntervalID=null)},e.prototype.checkSocketHealthAndSendKeepAlive=function(){return na(this,void 0,void 0,function(){return ia(this,function(n){switch(n.label){case 0:return this._ws&&this._ws.readyState===WebSocket.OPEN?!this._keepAliveTimeout||!this._keepAliveInterval?[2]:Date.now()-this._lastMsgRecvTime>this._keepAliveTimeout?(this.log("Connection is stale, need to reconnect",In.WARN),[4,this._closeSocket()]):[3,2]:[2];case 1:return n.sent(),[2];case 2:return Date.now()-this._lastMsgSendTime<this._keepAliveInterval?[2]:(this.log("Emitting keep-alive",In.DEBUG),this.emit("keep-alive"),[2])}})})},e.prototype._closeSocket=function(){return na(this,void 0,void 0,function(){var n,i,r;return ia(this,function(s){switch(s.label){case 0:this.log("Closing"),s.label=1;case 1:return s.trys.push([1,4,,5]),this.clearKeepAliveInterval(),this._lastMsgRecvTime=0,this._ws&&(this._ws._closedManually=!0,this._ws.close()),n=((r=this._ws)===null||r===void 0?void 0:r._initialConnectionOk)&&this._shouldRetryFn&&this._shouldRetryFn(),this._ws=null,n?(this.log("Emitting reconnect",In.DEBUG),this.emit("reconnecting"),[4,this.retryFailedConnection()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:return i=s.sent(),this.log("Error while closing and retrying: ".concat(i),In.ERROR),[3,5];case 5:return[2]}})})},e.prototype.retryFailedConnection=function(){return na(this,void 0,void 0,function(){var n,i=this;return ia(this,function(r){if(this._reconnectAttempts<this._allowedReconnectAttempts){if(this._reconnectTimeoutID)return this.log("Retry already scheduled"),[2];this.log("Retrying failed connection"),n=this._reconnectInterval*Math.pow(this._reconnectDecay,this._reconnectAttempts),n=n>this._maxReconnectInterval?this._maxReconnectInterval:n,this.log("Reconnecting in ".concat(n/1e3," seconds")),this._reconnectAttempts+=1,this._reconnectTimeoutID=setTimeout(function(){return i.connect()},n)}else this.log("Maximum connection retry attempts exceeded",In.ERROR),this.emit("reconnect-failed");return[2]})})},e.prototype.log=function(n,i){i===void 0&&(i=In.DEBUG);for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];switch(i){case In.DEBUG:console.debug.apply(console,Qh(["websocket: ".concat(n)],r,!1));break;case In.ERROR:console.error.apply(console,Qh(["websocket: ".concat(n)],r,!1));break;case In.WARN:console.warn.apply(console,Qh(["websocket: ".concat(n)],r,!1));break;case In.INFO:default:console.log.apply(console,Qh(["websocket: ".concat(n)],r,!1));break}},e.prototype.send=function(n){return na(this,void 0,void 0,function(){return ia(this,function(i){try{this._ws&&this._ws.readyState===WebSocket.OPEN?(this._lastMsgSendTime=Date.now(),this._ws.send(n)):this.log("Failed to send data, web socket not open.",In.ERROR)}catch(r){this.log("Failed to send data. ".concat(r),In.ERROR)}return[2]})})},e.prototype.close=function(){return na(this,void 0,void 0,function(){return ia(this,function(n){try{this.log("Closing websocket"),this._disconnected=!0,this.clearReconnectTimeout(),this._closeSocket()}catch(i){this.log("Failed to close websocket. ".concat(i))}return[2]})})},Object.defineProperty(e.prototype,"readyState",{get:function(){var n,i;return(i=(n=this._ws)===null||n===void 0?void 0:n.readyState)!==null&&i!==void 0?i:WebSocket.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepAliveTimeout",{get:function(){return this._keepAliveTimeout},set:function(n){typeof n=="number"&&(this.log("Setting ACK freshness timeout to ".concat(n)),this._keepAliveTimeout=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keepAliveInterval",{get:function(){return this._keepAliveInterval},set:function(n){typeof n=="number"&&(this.log("Setting keep-alive interval to ".concat(n)),this._keepAliveInterval=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldRetryFn",{set:function(n){typeof n=="function"&&(this._shouldRetryFn=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionTimeout",{get:function(){return this._connectionTimeout},set:function(n){typeof n=="number"&&(this._connectionTimeout=n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxReconnectAttempts",{get:function(){return this._allowedReconnectAttempts},set:function(n){n>0&&n<q6?(this.log("Setting maximum connection retry attempts to ".concat(n)),this._allowedReconnectAttempts=n):this._allowedReconnectAttempts=MT},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reconnectInterval",{get:function(){return this._reconnectInterval},set:function(n){typeof n=="number"&&(this._reconnectInterval=n<this._maxReconnectInterval?n:this._maxReconnectInterval)},enumerable:!1,configurable:!0}),e.prototype._handleMessage=function(n){return na(this,void 0,void 0,function(){var i,r,s,o=this;return ia(this,function(l){switch(l.label){case 0:return this._lastMsgRecvTime=Date.now(),i=n.data,r=new Promise(function(u,f){if(typeof i=="string")u(i);else if(i instanceof ArrayBuffer){var p=i;u(new Uint8Array(p))}else if(i instanceof Blob){if(!o._parseBlobToJson){u(i);return}var g=i,v=new FileReader;v.onload=function(){var S=v.result;try{var k=JSON.parse(S);u(k)}catch(w){console.error("Failed to parse JSON from Blob:",w)}},v.readAsText(g)}}),[4,r];case 1:return s=l.sent(),this.emit("message",s),[2]}})})},e}(iD.EventEmitter);["binaryType","bufferedAmount","extensions","protocol","readyState","url","keepAliveTimeout","keepAliveInterval","shouldRetryFn","connectionTimeout","maxReconnectAttempts","reconnectInterval"].forEach(function(t){Object.defineProperty(lg.prototype,t,{enumerable:!0})});["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(lg.prototype,t,{enumerable:!0,value:AP.indexOf(t)})});["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(lg,t,{enumerable:!0,value:AP.indexOf(t)})});class Z6 extends Qd{constructor(){super("pipecat.TextFrame",[{no:1,name:"id",kind:"scalar",T:4,L:0},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9}])}create(e){const n=globalThis.Object.create(this.messagePrototype);return n.id=0n,n.name="",n.text="",e!==void 0&&Sa(this,n,e),n}internalBinaryRead(e,n,i,r){let s=r??this.create(),o=e.pos+n;for(;e.pos<o;){let[l,u]=e.tag();switch(l){case 1:s.id=e.uint64().toBigInt();break;case 2:s.name=e.string();break;case 3:s.text=e.string();break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let p=e.skip(u);f!==!1&&(f===!0?ti.onRead:f)(this.typeName,s,l,u,p)}}return s}internalBinaryWrite(e,n,i){e.id!==0n&&n.tag(1,Ve.Varint).uint64(e.id),e.name!==""&&n.tag(2,Ve.LengthDelimited).string(e.name),e.text!==""&&n.tag(3,Ve.LengthDelimited).string(e.text);let r=i.writeUnknownFields;return r!==!1&&(r==!0?ti.onWrite:r)(this.typeName,e,n),n}}const Rb=new Z6;class eU extends Qd{constructor(){super("pipecat.AudioRawFrame",[{no:1,name:"id",kind:"scalar",T:4,L:0},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"audio",kind:"scalar",T:12},{no:4,name:"sample_rate",kind:"scalar",T:13},{no:5,name:"num_channels",kind:"scalar",T:13},{no:6,name:"pts",kind:"scalar",opt:!0,T:4,L:0}])}create(e){const n=globalThis.Object.create(this.messagePrototype);return n.id=0n,n.name="",n.audio=new Uint8Array(0),n.sampleRate=0,n.numChannels=0,e!==void 0&&Sa(this,n,e),n}internalBinaryRead(e,n,i,r){let s=r??this.create(),o=e.pos+n;for(;e.pos<o;){let[l,u]=e.tag();switch(l){case 1:s.id=e.uint64().toBigInt();break;case 2:s.name=e.string();break;case 3:s.audio=e.bytes();break;case 4:s.sampleRate=e.uint32();break;case 5:s.numChannels=e.uint32();break;case 6:s.pts=e.uint64().toBigInt();break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let p=e.skip(u);f!==!1&&(f===!0?ti.onRead:f)(this.typeName,s,l,u,p)}}return s}internalBinaryWrite(e,n,i){e.id!==0n&&n.tag(1,Ve.Varint).uint64(e.id),e.name!==""&&n.tag(2,Ve.LengthDelimited).string(e.name),e.audio.length&&n.tag(3,Ve.LengthDelimited).bytes(e.audio),e.sampleRate!==0&&n.tag(4,Ve.Varint).uint32(e.sampleRate),e.numChannels!==0&&n.tag(5,Ve.Varint).uint32(e.numChannels),e.pts!==void 0&&n.tag(6,Ve.Varint).uint64(e.pts);let r=i.writeUnknownFields;return r!==!1&&(r==!0?ti.onWrite:r)(this.typeName,e,n),n}}const Db=new eU;class tU extends Qd{constructor(){super("pipecat.TranscriptionFrame",[{no:1,name:"id",kind:"scalar",T:4,L:0},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"text",kind:"scalar",T:9},{no:4,name:"user_id",kind:"scalar",T:9},{no:5,name:"timestamp",kind:"scalar",T:9}])}create(e){const n=globalThis.Object.create(this.messagePrototype);return n.id=0n,n.name="",n.text="",n.userId="",n.timestamp="",e!==void 0&&Sa(this,n,e),n}internalBinaryRead(e,n,i,r){let s=r??this.create(),o=e.pos+n;for(;e.pos<o;){let[l,u]=e.tag();switch(l){case 1:s.id=e.uint64().toBigInt();break;case 2:s.name=e.string();break;case 3:s.text=e.string();break;case 4:s.userId=e.string();break;case 5:s.timestamp=e.string();break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let p=e.skip(u);f!==!1&&(f===!0?ti.onRead:f)(this.typeName,s,l,u,p)}}return s}internalBinaryWrite(e,n,i){e.id!==0n&&n.tag(1,Ve.Varint).uint64(e.id),e.name!==""&&n.tag(2,Ve.LengthDelimited).string(e.name),e.text!==""&&n.tag(3,Ve.LengthDelimited).string(e.text),e.userId!==""&&n.tag(4,Ve.LengthDelimited).string(e.userId),e.timestamp!==""&&n.tag(5,Ve.LengthDelimited).string(e.timestamp);let r=i.writeUnknownFields;return r!==!1&&(r==!0?ti.onWrite:r)(this.typeName,e,n),n}}const Pb=new tU;class nU extends Qd{constructor(){super("pipecat.MessageFrame",[{no:1,name:"data",kind:"scalar",T:9}])}create(e){const n=globalThis.Object.create(this.messagePrototype);return n.data="",e!==void 0&&Sa(this,n,e),n}internalBinaryRead(e,n,i,r){let s=r??this.create(),o=e.pos+n;for(;e.pos<o;){let[l,u]=e.tag();switch(l){case 1:s.data=e.string();break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let p=e.skip(u);f!==!1&&(f===!0?ti.onRead:f)(this.typeName,s,l,u,p)}}return s}internalBinaryWrite(e,n,i){e.data!==""&&n.tag(1,Ve.LengthDelimited).string(e.data);let r=i.writeUnknownFields;return r!==!1&&(r==!0?ti.onWrite:r)(this.typeName,e,n),n}}const Nb=new nU;class iU extends Qd{constructor(){super("pipecat.Frame",[{no:1,name:"text",kind:"message",oneof:"frame",T:()=>Rb},{no:2,name:"audio",kind:"message",oneof:"frame",T:()=>Db},{no:3,name:"transcription",kind:"message",oneof:"frame",T:()=>Pb},{no:4,name:"message",kind:"message",oneof:"frame",T:()=>Nb}])}create(e){const n=globalThis.Object.create(this.messagePrototype);return n.frame={oneofKind:void 0},e!==void 0&&Sa(this,n,e),n}internalBinaryRead(e,n,i,r){let s=r??this.create(),o=e.pos+n;for(;e.pos<o;){let[l,u]=e.tag();switch(l){case 1:s.frame={oneofKind:"text",text:Rb.internalBinaryRead(e,e.uint32(),i,s.frame.text)};break;case 2:s.frame={oneofKind:"audio",audio:Db.internalBinaryRead(e,e.uint32(),i,s.frame.audio)};break;case 3:s.frame={oneofKind:"transcription",transcription:Pb.internalBinaryRead(e,e.uint32(),i,s.frame.transcription)};break;case 4:s.frame={oneofKind:"message",message:Nb.internalBinaryRead(e,e.uint32(),i,s.frame.message)};break;default:let f=i.readUnknownField;if(f==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let p=e.skip(u);f!==!1&&(f===!0?ti.onRead:f)(this.typeName,s,l,u,p)}}return s}internalBinaryWrite(e,n,i){e.frame.oneofKind==="text"&&Rb.internalBinaryWrite(e.frame.text,n.tag(1,Ve.LengthDelimited).fork(),i).join(),e.frame.oneofKind==="audio"&&Db.internalBinaryWrite(e.frame.audio,n.tag(2,Ve.LengthDelimited).fork(),i).join(),e.frame.oneofKind==="transcription"&&Pb.internalBinaryWrite(e.frame.transcription,n.tag(3,Ve.LengthDelimited).fork(),i).join(),e.frame.oneofKind==="message"&&Nb.internalBinaryWrite(e.frame.message,n.tag(4,Ve.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return r!==!1&&(r==!0?ti.onWrite:r)(this.typeName,e,n),n}}const qu=new iU;class rU{serialize(e){}serializeAudio(e,n,i){const r=new Uint8Array(e),s=qu.create({frame:{oneofKind:"audio",audio:{id:0n,name:"audio",audio:r,sampleRate:n,numChannels:i}}});return new Uint8Array(qu.toBinary(s))}serializeMessage(e){const n=qu.create({frame:{oneofKind:"message",message:{data:JSON.stringify(e)}}});return new Uint8Array(qu.toBinary(n))}async deserialize(e){if(!(e instanceof Blob))throw new Error("Unknown data type");const n=await e.arrayBuffer(),i=qu.fromBinary(new Uint8Array(n)).frame;if(i.oneofKind==="audio"){const r=Array.from(i.audio.audio),s=new Uint8Array(r);return{type:"audio",audio:new Int16Array(s.buffer)}}else{if(i.oneofKind==="message")return{type:"message",message:JSON.parse(i.message.data)};throw new Error("Unknown frame kind")}}}class El extends vD{constructor(e={}){super(),this._wsUrl=null,this.audioQueue=[],this._wsUrl=e.wsUrl??e.ws_url??null,this._recorderSampleRate=e.recorderSampleRate??El.RECORDER_SAMPLE_RATE,this._mediaManager=e.mediaManager||new $6(!0,!0,void 0,void 0,512,this._recorderSampleRate,e.playerSampleRate??El.PLAYER_SAMPLE_RATE),this._mediaManager.setUserAudioCallback(this.handleUserAudioStream.bind(this)),this._ws=null,this._serializer=e.serializer||new rU}initialize(e,n){this._options=e,this._callbacks=e.callbacks??{},this._onMessage=n,this._mediaManager.setClientOptions(e),this.state="disconnected"}async initDevices(){this.state="initializing",await this._mediaManager.initialize(),this.state="initialized"}_validateConnectionParams(e){if(e==null)return;if(typeof e!="object")throw new vi("Invalid connection parameters");const n=r=>r.replace(/_([a-z,A-Z])/g,(s,o)=>o.toUpperCase()),i={};for(const[r,s]of Object.entries(e)){const o=n(r);if(o==="wsUrl"){if(typeof s!="string")throw new vi(`Invalid type for wsUrl: expected string, got ${typeof s}`)}else throw new vi(`Unrecognized connection parameter: ${r}.`);i[o]=s}return i}async _connect(e){var n,i,r,s;if(!((n=this._abortController)!=null&&n.signal.aborted)){if(this.state="connecting",this._wsUrl=(e==null?void 0:e.wsUrl)??(e==null?void 0:e.ws_url)??this._wsUrl,!this._wsUrl)throw Xe.error("No url provided for connection"),this.state="error",new Y0;try{if(this._ws=this.initializeWebsocket(),await this._ws.connect(),await this._mediaManager.connect(),(i=this._abortController)!=null&&i.signal.aborted)return;this.state="connected",(s=(r=this._callbacks).onConnected)==null||s.call(r)}catch(o){const l=`Failed to connect to websocket: ${o}`;throw Xe.error(l),this.state="error",new Y0(l)}}}async _disconnect(){var e,n,i;this.state="disconnecting",await this._mediaManager.disconnect(),await((e=this._ws)==null?void 0:e.close()),this.state="disconnected",(i=(n=this._callbacks).onDisconnected)==null||i.call(n)}getAllMics(){return this._mediaManager.getAllMics()}getAllCams(){return this._mediaManager.getAllCams()}getAllSpeakers(){return this._mediaManager.getAllSpeakers()}async updateMic(e){return this._mediaManager.updateMic(e)}updateCam(e){return this._mediaManager.updateCam(e)}updateSpeaker(e){return this._mediaManager.updateSpeaker(e)}get selectedMic(){return this._mediaManager.selectedMic}get selectedSpeaker(){return this._mediaManager.selectedSpeaker}enableMic(e){this._mediaManager.enableMic(e)}get isMicEnabled(){return this._mediaManager.isMicEnabled}get state(){return this._state}set state(e){var n,i;this._state!==e&&(this._state=e,(i=(n=this._callbacks).onTransportStateChanged)==null||i.call(n,e))}tracks(){return this._mediaManager.tracks()}initializeWebsocket(){const e=new lg(this._wsUrl,void 0,{parseBlobToJson:!1});return e.keepAliveInterval=0,e.on("open",()=>{Xe.debug("Websocket connection opened")}),e.on("message",async n=>{try{const i=await this._serializer.deserialize(n);i.type==="audio"?this._mediaManager.bufferBotAudio(i.audio):i.type==="message"&&i.message.label==="rtvi-ai"&&this._onMessage(i.message)}catch(i){Xe.error("Failed to deserialize incoming message",i)}}),e.on("error",n=>{this.connectionError(`websocket error: ${n}`)}),e.on("connection-timeout",()=>{this.connectionError("websocket connection timed out")}),e.on("close",n=>{this.connectionError(`websocket connection closed. Code: ${n}`)}),e.on("reconnect-failed",()=>{this.connectionError("websocket reconnect failed")}),e}sendReadyMessage(){this.state="ready",this.sendMessage(Zn.clientReady())}handleUserAudioStream(e){if(this.state==="ready")try{this.flushAudioQueue(),this._sendAudioInput(e)}catch(n){Xe.error("Error sending audio stream to websocket:",n),this.state="error"}else this.audioQueue.push(e)}flushAudioQueue(){if(!(this.audioQueue.length<=0))for(Xe.info("Will flush audio queue",this.audioQueue.length);this.audioQueue.length>0;){const e=this.audioQueue.shift();e&&this._sendAudioInput(e)}}sendRawMessage(e){const n=this._serializer.serialize(e);this._sendMsg(n)}sendMessage(e){const n=this._serializer.serializeMessage(e);this._sendMsg(n)}async _sendAudioInput(e){try{const n=this._serializer.serializeAudio(e,this._recorderSampleRate,1);await this._sendMsg(n)}catch(n){Xe.error("Error sending audio frame",n)}}async _sendMsg(e){if(!this._ws){Xe.error("sendMsg called but WS is null");return}if(this._ws.readyState!==WebSocket.OPEN){Xe.error("attempt to send to closed socket");return}if(e)try{await this._ws.send(e)}catch(n){Xe.error("sendMsg error",n)}}connectionError(e){console.error(e),this.state="error",this.disconnect()}enableScreenShare(e){throw Xe.error("enableScreenShare not implemented for WebSocketTransport"),new zp("enableScreenShare","webSocketTransport","This feature has not been implemented")}get isSharingScreen(){return Xe.error("isSharingScreen not implemented for WebSocketTransport"),!1}enableCam(e){throw Xe.error("enableCam not implemented for WebSocketTransport"),new zp("enableCam","webSocketTransport","This feature has not been implemented")}get isCamEnabled(){return Xe.error("isCamEnabled not implemented for WebSocketTransport"),!1}get selectedCam(){throw Xe.error("selectedCam not implemented for WebSocketTransport"),new zp("selectedCam","webSocketTransport","This feature has not been implemented")}}El.RECORDER_SAMPLE_RATE=16e3;El.PLAYER_SAMPLE_RATE=24e3;class sU{serialize(e){return JSON.stringify(e)}serializeAudio(e,n,i){const r=new Int16Array(e),s=x_.encode(r),l={event:"media",media:{payload:this.arrayToBase64(s)}};return JSON.stringify(l)}serializeMessage(e){return null}arrayToBase64(e){let n="";for(let i=0;i<e.byteLength;i++)n+=String.fromCharCode(e[i]);return btoa(n)}base64ToUint8Array(e){const n=atob(e),i=n.length,r=new Uint8Array(i);for(let s=0;s<i;s++)r[s]=n.charCodeAt(s);return r}async deserialize(e){const n=JSON.parse(e);if(n.event==="clear")return{type:"raw",message:n};if(n.event==="media"){const i=n.media.payload,r=this.base64ToUint8Array(i);return{type:"audio",audio:x_.decode(r)}}else return{type:"message",message:n.message}}}var jb={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function aU(){if(ET)return Wu;ET=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var l in r)l!=="key"&&(s[l]=r[l])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Wu.Fragment=e,Wu.jsx=n,Wu.jsxs=n,Wu}var TT;function oU(){return TT||(TT=1,jb.exports=aU()),jb.exports}var E=oU(),Lb={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function cU(){if(AT)return Be;AT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function T(V,Q,h){this.props=V,this.context=Q,this.refs=C,this.updater=h||k}T.prototype.isReactComponent={},T.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},T.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=T.prototype;function P(V,Q,h){this.props=V,this.context=Q,this.refs=C,this.updater=h||k}var j=P.prototype=new D;j.constructor=P,w(j,T.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function B(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function W(V,Q,h){var b=h.ref;return{$$typeof:t,type:V,key:Q,ref:b!==void 0?b:null,props:h}}function J(V,Q){return W(V.type,Q,V.props)}function Z(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function re(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(h){return Q[h]})}var ye=/\/+/g;function ue(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?re(""+V.key):Q.toString(36)}function he(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(B,B):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Q,h,b,_){var O=typeof V;(O==="undefined"||O==="boolean")&&(V=null);var A=!1;if(V===null)A=!0;else switch(O){case"bigint":case"string":case"number":A=!0;break;case"object":switch(V.$$typeof){case t:case e:A=!0;break;case p:return A=V._init,H(A(V._payload),Q,h,b,_)}}if(A)return _=_(V),A=b===""?"."+ue(V,0):b,N(_)?(h="",A!=null&&(h=A.replace(ye,"$&/")+"/"),H(_,Q,h,"",function(U){return U})):_!=null&&(Z(_)&&(_=J(_,h+(_.key==null||V&&V.key===_.key?"":(""+_.key).replace(ye,"$&/")+"/")+A)),Q.push(_)),1;A=0;var I=b===""?".":b+":";if(N(V))for(var F=0;F<V.length;F++)b=V[F],O=I+ue(b,F),A+=H(b,Q,h,O,_);else if(F=S(V),typeof F=="function")for(V=F.call(V),F=0;!(b=V.next()).done;)b=b.value,O=I+ue(b,F++),A+=H(b,Q,h,O,_);else if(O==="object"){if(typeof V.then=="function")return H(he(V),Q,h,b,_);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return A}function te(V,Q,h){if(V==null)return V;var b=[],_=0;return H(V,b,"","",function(O){return Q.call(h,O,_++)}),b}function Y(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(h){(V._status===0||V._status===-1)&&(V._status=1,V._result=h)},function(h){(V._status===0||V._status===-1)&&(V._status=2,V._result=h)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var se=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},we={map:te,forEach:function(V,Q,h){te(V,function(){Q.apply(this,arguments)},h)},count:function(V){var Q=0;return te(V,function(){Q++}),Q},toArray:function(V){return te(V,function(Q){return Q})||[]},only:function(V){if(!Z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Be.Activity=g,Be.Children=we,Be.Component=T,Be.Fragment=n,Be.Profiler=r,Be.PureComponent=P,Be.StrictMode=i,Be.Suspense=u,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return L.H.useMemoCache(V)}},Be.cache=function(V){return function(){return V.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(V,Q,h){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var b=w({},V.props),_=V.key;if(Q!=null)for(O in Q.key!==void 0&&(_=""+Q.key),Q)!z.call(Q,O)||O==="key"||O==="__self"||O==="__source"||O==="ref"&&Q.ref===void 0||(b[O]=Q[O]);var O=arguments.length-2;if(O===1)b.children=h;else if(1<O){for(var A=Array(O),I=0;I<O;I++)A[I]=arguments[I+2];b.children=A}return W(V.type,_,b)},Be.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},Be.createElement=function(V,Q,h){var b,_={},O=null;if(Q!=null)for(b in Q.key!==void 0&&(O=""+Q.key),Q)z.call(Q,b)&&b!=="key"&&b!=="__self"&&b!=="__source"&&(_[b]=Q[b]);var A=arguments.length-2;if(A===1)_.children=h;else if(1<A){for(var I=Array(A),F=0;F<A;F++)I[F]=arguments[F+2];_.children=I}if(V&&V.defaultProps)for(b in A=V.defaultProps,A)_[b]===void 0&&(_[b]=A[b]);return W(V,O,_)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(V){return{$$typeof:l,render:V}},Be.isValidElement=Z,Be.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:Y}},Be.memo=function(V,Q){return{$$typeof:f,type:V,compare:Q===void 0?null:Q}},Be.startTransition=function(V){var Q=L.T,h={};L.T=h;try{var b=V(),_=L.S;_!==null&&_(h,b),typeof b=="object"&&b!==null&&typeof b.then=="function"&&b.then(B,se)}catch(O){se(O)}finally{Q!==null&&h.types!==null&&(Q.types=h.types),L.T=Q}},Be.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Be.use=function(V){return L.H.use(V)},Be.useActionState=function(V,Q,h){return L.H.useActionState(V,Q,h)},Be.useCallback=function(V,Q){return L.H.useCallback(V,Q)},Be.useContext=function(V){return L.H.useContext(V)},Be.useDebugValue=function(){},Be.useDeferredValue=function(V,Q){return L.H.useDeferredValue(V,Q)},Be.useEffect=function(V,Q){return L.H.useEffect(V,Q)},Be.useEffectEvent=function(V){return L.H.useEffectEvent(V)},Be.useId=function(){return L.H.useId()},Be.useImperativeHandle=function(V,Q,h){return L.H.useImperativeHandle(V,Q,h)},Be.useInsertionEffect=function(V,Q){return L.H.useInsertionEffect(V,Q)},Be.useLayoutEffect=function(V,Q){return L.H.useLayoutEffect(V,Q)},Be.useMemo=function(V,Q){return L.H.useMemo(V,Q)},Be.useOptimistic=function(V,Q){return L.H.useOptimistic(V,Q)},Be.useReducer=function(V,Q,h){return L.H.useReducer(V,Q,h)},Be.useRef=function(V){return L.H.useRef(V)},Be.useState=function(V){return L.H.useState(V)},Be.useSyncExternalStore=function(V,Q,h){return L.H.useSyncExternalStore(V,Q,h)},Be.useTransition=function(){return L.H.useTransition()},Be.version="19.2.1",Be}var OT;function oS(){return OT||(OT=1,Lb.exports=cU()),Lb.exports}var M=oS();const un=Ow(M),ug=Rz({__proto__:null,default:un},[M]);var Ib={exports:{}},Gu={},Bb={exports:{}},$b={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function lU(){return RT||(RT=1,function(t){function e(H,te){var Y=H.length;H.push(te);e:for(;0<Y;){var se=Y-1>>>1,we=H[se];if(0<r(we,te))H[se]=te,H[Y]=we,Y=se;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],Y=H.pop();if(Y!==te){H[0]=Y;e:for(var se=0,we=H.length,V=we>>>1;se<V;){var Q=2*(se+1)-1,h=H[Q],b=Q+1,_=H[b];if(0>r(h,Y))b<we&&0>r(_,h)?(H[se]=_,H[b]=Y,se=b):(H[se]=h,H[Q]=Y,se=Q);else if(b<we&&0>r(_,Y))H[se]=_,H[b]=Y,se=b;else break e}}return te}function r(H,te){var Y=H.sortIndex-te.sortIndex;return Y!==0?Y:H.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],f=[],p=1,g=null,v=3,S=!1,k=!1,w=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var te=n(f);te!==null;){if(te.callback===null)i(f);else if(te.startTime<=H)i(f),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(f)}}function N(H){if(w=!1,j(H),!k)if(n(u)!==null)k=!0,B||(B=!0,re());else{var te=n(f);te!==null&&he(N,te.startTime-H)}}var B=!1,L=-1,z=5,W=-1;function J(){return C?!0:!(t.unstable_now()-W<z)}function Z(){if(C=!1,B){var H=t.unstable_now();W=H;var te=!0;try{e:{k=!1,w&&(w=!1,D(L),L=-1),S=!0;var Y=v;try{t:{for(j(H),g=n(u);g!==null&&!(g.expirationTime>H&&J());){var se=g.callback;if(typeof se=="function"){g.callback=null,v=g.priorityLevel;var we=se(g.expirationTime<=H);if(H=t.unstable_now(),typeof we=="function"){g.callback=we,j(H),te=!0;break t}g===n(u)&&i(u),j(H)}else i(u);g=n(u)}if(g!==null)te=!0;else{var V=n(f);V!==null&&he(N,V.startTime-H),te=!1}}break e}finally{g=null,v=Y,S=!1}te=void 0}}finally{te?re():B=!1}}}var re;if(typeof P=="function")re=function(){P(Z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ue=ye.port2;ye.port1.onmessage=Z,re=function(){ue.postMessage(null)}}else re=function(){T(Z,0)};function he(H,te){L=T(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var Y=v;v=te;try{return H()}finally{v=Y}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=v;v=H;try{return te()}finally{v=Y}},t.unstable_scheduleCallback=function(H,te,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Y+we,H={id:p++,callback:te,priorityLevel:H,startTime:Y,expirationTime:we,sortIndex:-1},Y>se?(H.sortIndex=Y,e(f,H),n(u)===null&&H===n(f)&&(w?(D(L),L=-1):w=!0,he(N,Y-se))):(H.sortIndex=we,e(u,H),k||S||(k=!0,B||(B=!0,re()))),H},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(H){var te=v;return function(){var Y=v;v=te;try{return H.apply(this,arguments)}finally{v=Y}}}}($b)),$b}var DT;function uU(){return DT||(DT=1,Bb.exports=lU()),Bb.exports}var zb={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function dU(){if(PT)return xn;PT=1;var t=oS();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(u,f,null,p)},xn.flushSync=function(u){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=p,i.d.f()}},xn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},xn.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},xn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):p==="script"&&i.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},xn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=l(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xn.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},xn.requestFormReset=function(u){i.d.r(u)},xn.unstable_batchedUpdates=function(u,f){return u(f)},xn.useFormState=function(u,f,p){return o.H.useFormState(u,f,p)},xn.useFormStatus=function(){return o.H.useHostTransitionStatus()},xn.version="19.2.1",xn}var NT;function OP(){if(NT)return zb.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zb.exports=dU(),zb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function fU(){if(jT)return Gu;jT=1;var t=uU(),e=oS(),n=OP();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function f(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var d=a,m=c;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return u(y),a;if(x===m)return u(y),c;x=x.sibling}throw Error(i(188))}if(d.return!==m.return)d=y,m=x;else{for(var R=!1,$=y.child;$;){if($===d){R=!0,d=y,m=x;break}if($===m){R=!0,m=y,d=x;break}$=$.sibling}if(!R){for($=x.child;$;){if($===d){R=!0,d=x,m=y;break}if($===m){R=!0,m=x,d=y;break}$=$.sibling}if(!R)throw Error(i(189))}}if(d.alternate!==m)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:c}function p(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=p(a),c!==null)return c;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var ye=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ye?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case B:return"SuspenseList";case W:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case k:return"Portal";case P:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case j:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return c=a.displayName||null,c!==null?c:ue(a.type)||"Memo";case z:c=a._payload,a=a._init;try{return ue(a(c))}catch{}}return null}var he=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},se=[],we=-1;function V(a){return{current:a}}function Q(a){0>we||(a.current=se[we],se[we]=null,we--)}function h(a,c){we++,se[we]=a.current,a.current=c}var b=V(null),_=V(null),O=V(null),A=V(null);function I(a,c){switch(h(O,c),h(_,a),h(b,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?BC(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=BC(c),a=$C(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(b),h(b,a)}function F(){Q(b),Q(_),Q(O)}function U(a){a.memoizedState!==null&&h(A,a);var c=b.current,d=$C(c,a.type);c!==d&&(h(_,a),h(b,d))}function K(a){_.current===a&&(Q(b),Q(_)),A.current===a&&(Q(A),$u._currentValue=Y)}var oe,pe;function Te(a){if(oe===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);oe=c&&c[1]||"",pe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+a+pe}var qe=!1;function ot(a,c){if(!a||qe)return"";qe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ie=ae}Reflect.construct(a,[],de)}else{try{de.call()}catch(ae){ie=ae}a.call(de.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),R=x[0],$=x[1];if(R&&$){var q=R.split(`
`),ne=$.split(`
`);for(y=m=0;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;for(;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;if(m===q.length||y===ne.length)for(m=q.length-1,y=ne.length-1;1<=m&&0<=y&&q[m]!==ne[y];)y--;for(;1<=m&&0<=y;m--,y--)if(q[m]!==ne[y]){if(m!==1||y!==1)do if(m--,y--,0>y||q[m]!==ne[y]){var ce=`
`+q[m].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=m&&0<=y);break}}}finally{qe=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Te(d):""}function Ae(a,c){switch(a.tag){case 26:case 27:case 5:return Te(a.type);case 16:return Te("Lazy");case 13:return a.child!==c&&c!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return ot(a.type,!1);case 11:return ot(a.type.render,!1);case 1:return ot(a.type,!0);case 31:return Te("Activity");default:return""}}function Pe(a){try{var c="",d=null;do c+=Ae(a,d),d=a,a=a.return;while(a);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var We=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,Ft=t.unstable_cancelCallback,an=t.unstable_shouldYield,pn=t.unstable_requestPaint,zt=t.unstable_now,Kl=t.unstable_getCurrentPriorityLevel,lc=t.unstable_ImmediatePriority,vx=t.unstable_UserBlockingPriority,gf=t.unstable_NormalPriority,uB=t.unstable_LowPriority,yx=t.unstable_IdlePriority,dB=t.log,fB=t.unstable_setDisableYieldValue,Xl=null,ni=null;function As(a){if(typeof dB=="function"&&fB(a),ni&&typeof ni.setStrictMode=="function")try{ni.setStrictMode(Xl,a)}catch{}}var ii=Math.clz32?Math.clz32:mB,hB=Math.log,pB=Math.LN2;function mB(a){return a>>>=0,a===0?32:31-(hB(a)/pB|0)|0}var vf=256,yf=262144,bf=4194304;function $a(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function _f(a,c,d){var m=a.pendingLanes;if(m===0)return 0;var y=0,x=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var $=m&134217727;return $!==0?(m=$&~x,m!==0?y=$a(m):(R&=$,R!==0?y=$a(R):d||(d=$&~a,d!==0&&(y=$a(d))))):($=m&~x,$!==0?y=$a($):R!==0?y=$a(R):d||(d=m&~a,d!==0&&(y=$a(d)))),y===0?0:c!==0&&c!==y&&(c&x)===0&&(x=y&-y,d=c&-c,x>=d||x===32&&(d&4194048)!==0)?c:y}function Ql(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function gB(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bx(){var a=bf;return bf<<=1,(bf&62914560)===0&&(bf=4194304),a}function Qg(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function Zl(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function vB(a,c,d,m,y,x){var R=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var $=a.entanglements,q=a.expirationTimes,ne=a.hiddenUpdates;for(d=R&~d;0<d;){var ce=31-ii(d),de=1<<ce;$[ce]=0,q[ce]=-1;var ie=ne[ce];if(ie!==null)for(ne[ce]=null,ce=0;ce<ie.length;ce++){var ae=ie[ce];ae!==null&&(ae.lane&=-536870913)}d&=~de}m!==0&&_x(a,m,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(R&~c))}function _x(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var m=31-ii(c);a.entangledLanes|=c,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function wx(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var m=31-ii(d),y=1<<m;y&c|a[m]&c&&(a[m]|=c),d&=~y}}function Sx(a,c){var d=c&-c;return d=(d&42)!==0?1:Zg(d),(d&(a.suspendedLanes|c))!==0?0:d}function Zg(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ev(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xx(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:cM(a.type))}function kx(a,c){var d=te.p;try{return te.p=a,c()}finally{te.p=d}}var Os=Math.random().toString(36).slice(2),mn="__reactFiber$"+Os,qn="__reactProps$"+Os,uc="__reactContainer$"+Os,tv="__reactEvents$"+Os,yB="__reactListeners$"+Os,bB="__reactHandles$"+Os,Cx="__reactResources$"+Os,eu="__reactMarker$"+Os;function nv(a){delete a[mn],delete a[qn],delete a[tv],delete a[yB],delete a[bB]}function dc(a){var c=a[mn];if(c)return c;for(var d=a.parentNode;d;){if(c=d[uc]||d[mn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=WC(a);a!==null;){if(d=a[mn])return d;a=WC(a)}return c}a=d,d=a.parentNode}return null}function fc(a){if(a=a[mn]||a[uc]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function tu(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function hc(a){var c=a[Cx];return c||(c=a[Cx]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function on(a){a[eu]=!0}var Mx=new Set,Ex={};function za(a,c){pc(a,c),pc(a+"Capture",c)}function pc(a,c){for(Ex[a]=c,a=0;a<c.length;a++)Mx.add(c[a])}var _B=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tx={},Ax={};function wB(a){return We.call(Ax,a)?!0:We.call(Tx,a)?!1:_B.test(a)?Ax[a]=!0:(Tx[a]=!0,!1)}function wf(a,c,d){if(wB(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function Sf(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function zr(a,c,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+m)}}function ki(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ox(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function SB(a,c,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return y.call(this)},set:function(R){d=""+R,x.call(this,R)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function iv(a){if(!a._valueTracker){var c=Ox(a)?"checked":"value";a._valueTracker=SB(a,c,""+a[c])}}function Rx(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return a&&(m=Ox(a)?a.checked?"true":"false":a.value),a=m,a!==d?(c.setValue(a),!0):!1}function xf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var xB=/[\n"\\]/g;function Ci(a){return a.replace(xB,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function rv(a,c,d,m,y,x,R,$){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),c!=null?R==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+ki(c)):a.value!==""+ki(c)&&(a.value=""+ki(c)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),c!=null?sv(a,R,ki(c)):d!=null?sv(a,R,ki(d)):m!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+ki($):a.removeAttribute("name")}function Dx(a,c,d,m,y,x,R,$){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),c!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){iv(a);return}d=d!=null?""+ki(d):"",c=c!=null?""+ki(c):d,$||c===a.value||(a.value=c),a.defaultValue=c}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=$?a.checked:!!m,a.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),iv(a)}function sv(a,c,d){c==="number"&&xf(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function mc(a,c,d,m){if(a=a.options,c){c={};for(var y=0;y<d.length;y++)c["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=c.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&m&&(a[d].defaultSelected=!0)}else{for(d=""+ki(d),c=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}c!==null||a[y].disabled||(c=a[y])}c!==null&&(c.selected=!0)}}function Px(a,c,d){if(c!=null&&(c=""+ki(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+ki(d):""}function Nx(a,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(i(92));if(he(m)){if(1<m.length)throw Error(i(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=ki(c),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),iv(a)}function gc(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var kB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jx(a,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":m?a.setProperty(c,d):typeof d!="number"||d===0||kB.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function Lx(a,c,d){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in c)m=c[y],c.hasOwnProperty(y)&&d[y]!==m&&jx(a,y,m)}else for(var x in c)c.hasOwnProperty(x)&&jx(a,x,c[x])}function av(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kf(a){return MB.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fr(){}var ov=null;function cv(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vc=null,yc=null;function Ix(a){var c=fc(a);if(c&&(a=c.stateNode)){var d=a[qn]||null;e:switch(a=c.stateNode,c.type){case"input":if(rv(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ci(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==a&&m.form===a.form){var y=m[qn]||null;if(!y)throw Error(i(90));rv(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===a.form&&Rx(m)}break e;case"textarea":Px(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&mc(a,!!d.multiple,c,!1)}}}var lv=!1;function Bx(a,c,d){if(lv)return a(c,d);lv=!0;try{var m=a(c);return m}finally{if(lv=!1,(vc!==null||yc!==null)&&(dh(),vc&&(c=vc,a=yc,yc=vc=null,Ix(c),a)))for(c=0;c<a.length;c++)Ix(a[c])}}function nu(a,c){var d=a.stateNode;if(d===null)return null;var m=d[qn]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,c,typeof d));return d}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uv=!1;if(Ur)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){uv=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{uv=!1}var Rs=null,dv=null,Cf=null;function $x(){if(Cf)return Cf;var a,c=dv,d=c.length,m,y="value"in Rs?Rs.value:Rs.textContent,x=y.length;for(a=0;a<d&&c[a]===y[a];a++);var R=d-a;for(m=1;m<=R&&c[d-m]===y[x-m];m++);return Cf=y.slice(a,1<m?1-m:void 0)}function Mf(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ef(){return!0}function zx(){return!1}function Wn(a){function c(d,m,y,x,R){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ef:zx,this.isPropagationStopped=zx,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),c}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=Wn(Fa),ru=g({},Fa,{view:0,detail:0}),EB=Wn(ru),fv,hv,su,Af=g({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==su&&(su&&a.type==="mousemove"?(fv=a.screenX-su.screenX,hv=a.screenY-su.screenY):hv=fv=0,su=a),fv)},movementY:function(a){return"movementY"in a?a.movementY:hv}}),Fx=Wn(Af),TB=g({},Af,{dataTransfer:0}),AB=Wn(TB),OB=g({},ru,{relatedTarget:0}),pv=Wn(OB),RB=g({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),DB=Wn(RB),PB=g({},Fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),NB=Wn(PB),jB=g({},Fa,{data:0}),Ux=Wn(jB),LB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $B(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=BB[a])?!!c[a]:!1}function mv(){return $B}var zB=g({},ru,{key:function(a){if(a.key){var c=LB[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Mf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?IB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(a){return a.type==="keypress"?Mf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),FB=Wn(zB),UB=g({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=Wn(UB),VB=g({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),HB=Wn(VB),qB=g({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),WB=Wn(qB),GB=g({},Af,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),JB=Wn(GB),YB=g({},Fa,{newState:0,oldState:0}),KB=Wn(YB),XB=[9,13,27,32],gv=Ur&&"CompositionEvent"in window,au=null;Ur&&"documentMode"in document&&(au=document.documentMode);var QB=Ur&&"TextEvent"in window&&!au,Hx=Ur&&(!gv||au&&8<au&&11>=au),qx=" ",Wx=!1;function Gx(a,c){switch(a){case"keyup":return XB.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bc=!1;function ZB(a,c){switch(a){case"compositionend":return Jx(c);case"keypress":return c.which!==32?null:(Wx=!0,qx);case"textInput":return a=c.data,a===qx&&Wx?null:a;default:return null}}function e$(a,c){if(bc)return a==="compositionend"||!gv&&Gx(a,c)?(a=$x(),Cf=dv=Rs=null,bc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Hx&&c.locale!=="ko"?null:c.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!t$[a.type]:c==="textarea"}function Kx(a,c,d,m){vc?yc?yc.push(m):yc=[m]:vc=m,c=yh(c,"onChange"),0<c.length&&(d=new Tf("onChange","change",null,d,m),a.push({event:d,listeners:c}))}var ou=null,cu=null;function n$(a){DC(a,0)}function Of(a){var c=tu(a);if(Rx(c))return a}function Xx(a,c){if(a==="change")return c}var Qx=!1;if(Ur){var vv;if(Ur){var yv="oninput"in document;if(!yv){var Zx=document.createElement("div");Zx.setAttribute("oninput","return;"),yv=typeof Zx.oninput=="function"}vv=yv}else vv=!1;Qx=vv&&(!document.documentMode||9<document.documentMode)}function ek(){ou&&(ou.detachEvent("onpropertychange",tk),cu=ou=null)}function tk(a){if(a.propertyName==="value"&&Of(cu)){var c=[];Kx(c,cu,a,cv(a)),Bx(n$,c)}}function i$(a,c,d){a==="focusin"?(ek(),ou=c,cu=d,ou.attachEvent("onpropertychange",tk)):a==="focusout"&&ek()}function r$(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Of(cu)}function s$(a,c){if(a==="click")return Of(c)}function a$(a,c){if(a==="input"||a==="change")return Of(c)}function o$(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ri=typeof Object.is=="function"?Object.is:o$;function lu(a,c){if(ri(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!We.call(c,y)||!ri(a[y],c[y]))return!1}return!0}function nk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ik(a,c){var d=nk(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=c&&m>=c)return{node:d,offset:c-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=nk(d)}}function rk(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?rk(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function sk(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=xf(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=xf(a.document)}return c}function bv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var c$=Ur&&"documentMode"in document&&11>=document.documentMode,_c=null,_v=null,uu=null,wv=!1;function ak(a,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;wv||_c==null||_c!==xf(m)||(m=_c,"selectionStart"in m&&bv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),uu&&lu(uu,m)||(uu=m,m=yh(_v,"onSelect"),0<m.length&&(c=new Tf("onSelect","select",null,c,d),a.push({event:c,listeners:m}),c.target=_c)))}function Ua(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var wc={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Sv={},ok={};Ur&&(ok=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function Va(a){if(Sv[a])return Sv[a];if(!wc[a])return a;var c=wc[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in ok)return Sv[a]=c[d];return a}var ck=Va("animationend"),lk=Va("animationiteration"),uk=Va("animationstart"),l$=Va("transitionrun"),u$=Va("transitionstart"),d$=Va("transitioncancel"),dk=Va("transitionend"),fk=new Map,xv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xv.push("scrollEnd");function Gi(a,c){fk.set(a,c),za(c,[a])}var Rf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Mi=[],Sc=0,kv=0;function Df(){for(var a=Sc,c=kv=Sc=0;c<a;){var d=Mi[c];Mi[c++]=null;var m=Mi[c];Mi[c++]=null;var y=Mi[c];Mi[c++]=null;var x=Mi[c];if(Mi[c++]=null,m!==null&&y!==null){var R=m.pending;R===null?y.next=y:(y.next=R.next,R.next=y),m.pending=y}x!==0&&hk(d,y,x)}}function Pf(a,c,d,m){Mi[Sc++]=a,Mi[Sc++]=c,Mi[Sc++]=d,Mi[Sc++]=m,kv|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Cv(a,c,d,m){return Pf(a,c,d,m),Nf(a)}function Ha(a,c){return Pf(a,null,null,c),Nf(a)}function hk(a,c,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var y=!1,x=a.return;x!==null;)x.childLanes|=d,m=x.alternate,m!==null&&(m.childLanes|=d),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&c!==null&&(y=31-ii(d),a=x.hiddenUpdates,m=a[y],m===null?a[y]=[c]:m.push(c),c.lane=d|536870912),x):null}function Nf(a){if(50<Du)throw Du=0,Ny=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var xc={};function f$(a,c,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(a,c,d,m){return new f$(a,c,d,m)}function Mv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Vr(a,c){var d=a.alternate;return d===null?(d=si(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function pk(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function jf(a,c,d,m,y,x){var R=0;if(m=a,typeof a=="function")Mv(a)&&(R=1);else if(typeof a=="string")R=vz(a,d,b.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case W:return a=si(31,d,c,y),a.elementType=W,a.lanes=x,a;case w:return qa(d.children,y,x,c);case C:R=8,y|=24;break;case T:return a=si(12,d,c,y|2),a.elementType=T,a.lanes=x,a;case N:return a=si(13,d,c,y),a.elementType=N,a.lanes=x,a;case B:return a=si(19,d,c,y),a.elementType=B,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:R=10;break e;case D:R=9;break e;case j:R=11;break e;case L:R=14;break e;case z:R=16,m=null;break e}R=29,d=Error(i(130,a===null?"null":typeof a,"")),m=null}return c=si(R,d,c,y),c.elementType=a,c.type=m,c.lanes=x,c}function qa(a,c,d,m){return a=si(7,a,m,c),a.lanes=d,a}function Ev(a,c,d){return a=si(6,a,null,c),a.lanes=d,a}function mk(a){var c=si(18,null,null,0);return c.stateNode=a,c}function Tv(a,c,d){return c=si(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var gk=new WeakMap;function Ei(a,c){if(typeof a=="object"&&a!==null){var d=gk.get(a);return d!==void 0?d:(c={value:a,source:c,stack:Pe(c)},gk.set(a,c),c)}return{value:a,source:c,stack:Pe(c)}}var kc=[],Cc=0,Lf=null,du=0,Ti=[],Ai=0,Ds=null,pr=1,mr="";function Hr(a,c){kc[Cc++]=du,kc[Cc++]=Lf,Lf=a,du=c}function vk(a,c,d){Ti[Ai++]=pr,Ti[Ai++]=mr,Ti[Ai++]=Ds,Ds=a;var m=pr;a=mr;var y=32-ii(m)-1;m&=~(1<<y),d+=1;var x=32-ii(c)+y;if(30<x){var R=y-y%5;x=(m&(1<<R)-1).toString(32),m>>=R,y-=R,pr=1<<32-ii(c)+y|d<<y|m,mr=x+a}else pr=1<<x|d<<y|m,mr=a}function Av(a){a.return!==null&&(Hr(a,1),vk(a,1,0))}function Ov(a){for(;a===Lf;)Lf=kc[--Cc],kc[Cc]=null,du=kc[--Cc],kc[Cc]=null;for(;a===Ds;)Ds=Ti[--Ai],Ti[Ai]=null,mr=Ti[--Ai],Ti[Ai]=null,pr=Ti[--Ai],Ti[Ai]=null}function yk(a,c){Ti[Ai++]=pr,Ti[Ai++]=mr,Ti[Ai++]=Ds,pr=c.id,mr=c.overflow,Ds=a}var gn=null,Lt=null,tt=!1,Ps=null,Oi=!1,Rv=Error(i(519));function Ns(a){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Ei(c,a)),Rv}function bk(a){var c=a.stateNode,d=a.type,m=a.memoizedProps;switch(c[mn]=a,c[qn]=m,d){case"dialog":Ye("cancel",c),Ye("close",c);break;case"iframe":case"object":case"embed":Ye("load",c);break;case"video":case"audio":for(d=0;d<Nu.length;d++)Ye(Nu[d],c);break;case"source":Ye("error",c);break;case"img":case"image":case"link":Ye("error",c),Ye("load",c);break;case"details":Ye("toggle",c);break;case"input":Ye("invalid",c),Dx(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ye("invalid",c);break;case"textarea":Ye("invalid",c),Nx(c,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||LC(c.textContent,d)?(m.popover!=null&&(Ye("beforetoggle",c),Ye("toggle",c)),m.onScroll!=null&&Ye("scroll",c),m.onScrollEnd!=null&&Ye("scrollend",c),m.onClick!=null&&(c.onclick=Fr),c=!0):c=!1,c||Ns(a,!0)}function _k(a){for(gn=a.return;gn;)switch(gn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:gn=gn.return}}function Mc(a){if(a!==gn)return!1;if(!tt)return _k(a),tt=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Yy(a.type,a.memoizedProps)),d=!d),d&&Lt&&Ns(a),_k(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Lt=qC(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Lt=qC(a)}else c===27?(c=Lt,Js(a.type)?(a=eb,eb=null,Lt=a):Lt=c):Lt=gn?Di(a.stateNode.nextSibling):null;return!0}function Wa(){Lt=gn=null,tt=!1}function Dv(){var a=Ps;return a!==null&&(Kn===null?Kn=a:Kn.push.apply(Kn,a),Ps=null),a}function fu(a){Ps===null?Ps=[a]:Ps.push(a)}var Pv=V(null),Ga=null,qr=null;function js(a,c,d){h(Pv,c._currentValue),c._currentValue=d}function Wr(a){a._currentValue=Pv.current,Q(Pv)}function Nv(a,c,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),a===d)break;a=a.return}}function jv(a,c,d,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var R=y.child;x=x.firstContext;e:for(;x!==null;){var $=x;x=y;for(var q=0;q<c.length;q++)if($.context===c[q]){x.lanes|=d,$=x.alternate,$!==null&&($.lanes|=d),Nv(x.return,d,a),m||(R=null);break e}x=$.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(i(341));R.lanes|=d,x=R.alternate,x!==null&&(x.lanes|=d),Nv(R,d,a),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===a){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function Ec(a,c,d,m){a=null;for(var y=c,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var $=y.type;ri(y.pendingProps.value,R.value)||(a!==null?a.push($):a=[$])}}else if(y===A.current){if(R=y.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push($u):a=[$u])}y=y.return}a!==null&&jv(c,a,d,m),c.flags|=262144}function If(a){for(a=a.firstContext;a!==null;){if(!ri(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ja(a){Ga=a,qr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function vn(a){return wk(Ga,a)}function Bf(a,c){return Ga===null&&Ja(a),wk(a,c)}function wk(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},qr===null){if(a===null)throw Error(i(308));qr=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else qr=qr.next=c;return d}var h$=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},p$=t.unstable_scheduleCallback,m$=t.unstable_NormalPriority,Zt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lv(){return{controller:new h$,data:new Map,refCount:0}}function hu(a){a.refCount--,a.refCount===0&&p$(m$,function(){a.controller.abort()})}var pu=null,Iv=0,Tc=0,Ac=null;function g$(a,c){if(pu===null){var d=pu=[];Iv=0,Tc=zy(),Ac={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Iv++,c.then(Sk,Sk),c}function Sk(){if(--Iv===0&&pu!==null){Ac!==null&&(Ac.status="fulfilled");var a=pu;pu=null,Tc=0,Ac=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function v$(a,c){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return a.then(function(){m.status="fulfilled",m.value=c;for(var y=0;y<d.length;y++)(0,d[y])(c)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var xk=H.S;H.S=function(a,c){aC=zt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&g$(a,c),xk!==null&&xk(a,c)};var Ya=V(null);function Bv(){var a=Ya.current;return a!==null?a:kt.pooledCache}function $f(a,c){c===null?h(Ya,Ya.current):h(Ya,c.pool)}function kk(){var a=Bv();return a===null?null:{parent:Zt._currentValue,pool:a}}var Oc=Error(i(460)),$v=Error(i(474)),zf=Error(i(542)),Ff={then:function(){}};function Ck(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Mk(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(Fr,Fr),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Tk(a),a;default:if(typeof c.status=="string")c.then(Fr,Fr);else{if(a=kt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(m){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=m}},function(m){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,Tk(a),a}throw Xa=c,Oc}}function Ka(a){try{var c=a._init;return c(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Xa=d,Oc):d}}var Xa=null;function Ek(){if(Xa===null)throw Error(i(459));var a=Xa;return Xa=null,a}function Tk(a){if(a===Oc||a===zf)throw Error(i(483))}var Rc=null,mu=0;function Uf(a){var c=mu;return mu+=1,Rc===null&&(Rc=[]),Mk(Rc,a,c)}function gu(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Vf(a,c){throw c.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Ak(a){function c(X,G){if(a){var ee=X.deletions;ee===null?(X.deletions=[G],X.flags|=16):ee.push(G)}}function d(X,G){if(!a)return null;for(;G!==null;)c(X,G),G=G.sibling;return null}function m(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function y(X,G){return X=Vr(X,G),X.index=0,X.sibling=null,X}function x(X,G,ee){return X.index=ee,a?(ee=X.alternate,ee!==null?(ee=ee.index,ee<G?(X.flags|=67108866,G):ee):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function R(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function $(X,G,ee,le){return G===null||G.tag!==6?(G=Ev(ee,X.mode,le),G.return=X,G):(G=y(G,ee),G.return=X,G)}function q(X,G,ee,le){var De=ee.type;return De===w?ce(X,G,ee.props.children,le,ee.key):G!==null&&(G.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Ka(De)===G.type)?(G=y(G,ee.props),gu(G,ee),G.return=X,G):(G=jf(ee.type,ee.key,ee.props,null,X.mode,le),gu(G,ee),G.return=X,G)}function ne(X,G,ee,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Tv(ee,X.mode,le),G.return=X,G):(G=y(G,ee.children||[]),G.return=X,G)}function ce(X,G,ee,le,De){return G===null||G.tag!==7?(G=qa(ee,X.mode,le,De),G.return=X,G):(G=y(G,ee),G.return=X,G)}function de(X,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ev(""+G,X.mode,ee),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return ee=jf(G.type,G.key,G.props,null,X.mode,ee),gu(ee,G),ee.return=X,ee;case k:return G=Tv(G,X.mode,ee),G.return=X,G;case z:return G=Ka(G),de(X,G,ee)}if(he(G)||re(G))return G=qa(G,X.mode,ee,null),G.return=X,G;if(typeof G.then=="function")return de(X,Uf(G),ee);if(G.$$typeof===P)return de(X,Bf(X,G),ee);Vf(X,G)}return null}function ie(X,G,ee,le){var De=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return De!==null?null:$(X,G,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return ee.key===De?q(X,G,ee,le):null;case k:return ee.key===De?ne(X,G,ee,le):null;case z:return ee=Ka(ee),ie(X,G,ee,le)}if(he(ee)||re(ee))return De!==null?null:ce(X,G,ee,le,null);if(typeof ee.then=="function")return ie(X,G,Uf(ee),le);if(ee.$$typeof===P)return ie(X,G,Bf(X,ee),le);Vf(X,ee)}return null}function ae(X,G,ee,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return X=X.get(ee)||null,$(G,X,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return X=X.get(le.key===null?ee:le.key)||null,q(G,X,le,De);case k:return X=X.get(le.key===null?ee:le.key)||null,ne(G,X,le,De);case z:return le=Ka(le),ae(X,G,ee,le,De)}if(he(le)||re(le))return X=X.get(ee)||null,ce(G,X,le,De,null);if(typeof le.then=="function")return ae(X,G,ee,Uf(le),De);if(le.$$typeof===P)return ae(X,G,ee,Bf(G,le),De);Vf(G,le)}return null}function xe(X,G,ee,le){for(var De=null,ut=null,Ee=G,Ue=G=0,Ze=null;Ee!==null&&Ue<ee.length;Ue++){Ee.index>Ue?(Ze=Ee,Ee=null):Ze=Ee.sibling;var dt=ie(X,Ee,ee[Ue],le);if(dt===null){Ee===null&&(Ee=Ze);break}a&&Ee&&dt.alternate===null&&c(X,Ee),G=x(dt,G,Ue),ut===null?De=dt:ut.sibling=dt,ut=dt,Ee=Ze}if(Ue===ee.length)return d(X,Ee),tt&&Hr(X,Ue),De;if(Ee===null){for(;Ue<ee.length;Ue++)Ee=de(X,ee[Ue],le),Ee!==null&&(G=x(Ee,G,Ue),ut===null?De=Ee:ut.sibling=Ee,ut=Ee);return tt&&Hr(X,Ue),De}for(Ee=m(Ee);Ue<ee.length;Ue++)Ze=ae(Ee,X,Ue,ee[Ue],le),Ze!==null&&(a&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Ue:Ze.key),G=x(Ze,G,Ue),ut===null?De=Ze:ut.sibling=Ze,ut=Ze);return a&&Ee.forEach(function(Zs){return c(X,Zs)}),tt&&Hr(X,Ue),De}function Ne(X,G,ee,le){if(ee==null)throw Error(i(151));for(var De=null,ut=null,Ee=G,Ue=G=0,Ze=null,dt=ee.next();Ee!==null&&!dt.done;Ue++,dt=ee.next()){Ee.index>Ue?(Ze=Ee,Ee=null):Ze=Ee.sibling;var Zs=ie(X,Ee,dt.value,le);if(Zs===null){Ee===null&&(Ee=Ze);break}a&&Ee&&Zs.alternate===null&&c(X,Ee),G=x(Zs,G,Ue),ut===null?De=Zs:ut.sibling=Zs,ut=Zs,Ee=Ze}if(dt.done)return d(X,Ee),tt&&Hr(X,Ue),De;if(Ee===null){for(;!dt.done;Ue++,dt=ee.next())dt=de(X,dt.value,le),dt!==null&&(G=x(dt,G,Ue),ut===null?De=dt:ut.sibling=dt,ut=dt);return tt&&Hr(X,Ue),De}for(Ee=m(Ee);!dt.done;Ue++,dt=ee.next())dt=ae(Ee,X,Ue,dt.value,le),dt!==null&&(a&&dt.alternate!==null&&Ee.delete(dt.key===null?Ue:dt.key),G=x(dt,G,Ue),ut===null?De=dt:ut.sibling=dt,ut=dt);return a&&Ee.forEach(function(Tz){return c(X,Tz)}),tt&&Hr(X,Ue),De}function St(X,G,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:e:{for(var De=ee.key;G!==null;){if(G.key===De){if(De=ee.type,De===w){if(G.tag===7){d(X,G.sibling),le=y(G,ee.props.children),le.return=X,X=le;break e}}else if(G.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===z&&Ka(De)===G.type){d(X,G.sibling),le=y(G,ee.props),gu(le,ee),le.return=X,X=le;break e}d(X,G);break}else c(X,G);G=G.sibling}ee.type===w?(le=qa(ee.props.children,X.mode,le,ee.key),le.return=X,X=le):(le=jf(ee.type,ee.key,ee.props,null,X.mode,le),gu(le,ee),le.return=X,X=le)}return R(X);case k:e:{for(De=ee.key;G!==null;){if(G.key===De)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){d(X,G.sibling),le=y(G,ee.children||[]),le.return=X,X=le;break e}else{d(X,G);break}else c(X,G);G=G.sibling}le=Tv(ee,X.mode,le),le.return=X,X=le}return R(X);case z:return ee=Ka(ee),St(X,G,ee,le)}if(he(ee))return xe(X,G,ee,le);if(re(ee)){if(De=re(ee),typeof De!="function")throw Error(i(150));return ee=De.call(ee),Ne(X,G,ee,le)}if(typeof ee.then=="function")return St(X,G,Uf(ee),le);if(ee.$$typeof===P)return St(X,G,Bf(X,ee),le);Vf(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(d(X,G.sibling),le=y(G,ee),le.return=X,X=le):(d(X,G),le=Ev(ee,X.mode,le),le.return=X,X=le),R(X)):d(X,G)}return function(X,G,ee,le){try{mu=0;var De=St(X,G,ee,le);return Rc=null,De}catch(Ee){if(Ee===Oc||Ee===zf)throw Ee;var ut=si(29,Ee,null,X.mode);return ut.lanes=le,ut.return=X,ut}finally{}}}var Qa=Ak(!0),Ok=Ak(!1),Ls=!1;function zv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fv(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Is(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bs(a,c,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(ft&2)!==0){var y=m.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),m.pending=c,c=Nf(a),hk(a,null,d),c}return Pf(a,m,c,d),Nf(a)}function vu(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,wx(a,d)}}function Uv(a,c){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?y=x=R:x=x.next=R,d=d.next}while(d!==null);x===null?y=x=c:x=x.next=c}else y=x=c;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var Vv=!1;function yu(){if(Vv){var a=Ac;if(a!==null)throw a}}function bu(a,c,d,m){Vv=!1;var y=a.updateQueue;Ls=!1;var x=y.firstBaseUpdate,R=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var q=$,ne=q.next;q.next=null,R===null?x=ne:R.next=ne,R=q;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,$=ce.lastBaseUpdate,$!==R&&($===null?ce.firstBaseUpdate=ne:$.next=ne,ce.lastBaseUpdate=q))}if(x!==null){var de=y.baseState;R=0,ce=ne=q=null,$=x;do{var ie=$.lane&-536870913,ae=ie!==$.lane;if(ae?(Qe&ie)===ie:(m&ie)===ie){ie!==0&&ie===Tc&&(Vv=!0),ce!==null&&(ce=ce.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var xe=a,Ne=$;ie=c;var St=d;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){de=xe.call(St,de,ie);break e}de=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,ie=typeof xe=="function"?xe.call(St,de,ie):xe,ie==null)break e;de=g({},de,ie);break e;case 2:Ls=!0}}ie=$.callback,ie!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=y.callbacks,ae===null?y.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ce===null?(ne=ce=ae,q=de):ce=ce.next=ae,R|=ie;if($=$.next,$===null){if($=y.shared.pending,$===null)break;ae=$,$=ae.next,ae.next=null,y.lastBaseUpdate=ae,y.shared.pending=null}}while(!0);ce===null&&(q=de),y.baseState=q,y.firstBaseUpdate=ne,y.lastBaseUpdate=ce,x===null&&(y.shared.lanes=0),Vs|=R,a.lanes=R,a.memoizedState=de}}function Rk(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function Dk(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Rk(d[a],c)}var Dc=V(null),Hf=V(0);function Pk(a,c){a=ts,h(Hf,a),h(Dc,c),ts=a|c.baseLanes}function Hv(){h(Hf,ts),h(Dc,Dc.current)}function qv(){ts=Hf.current,Q(Dc),Q(Hf)}var ai=V(null),Ri=null;function $s(a){var c=a.alternate;h(Wt,Wt.current&1),h(ai,a),Ri===null&&(c===null||Dc.current!==null||c.memoizedState!==null)&&(Ri=a)}function Wv(a){h(Wt,Wt.current),h(ai,a),Ri===null&&(Ri=a)}function Nk(a){a.tag===22?(h(Wt,Wt.current),h(ai,a),Ri===null&&(Ri=a)):zs()}function zs(){h(Wt,Wt.current),h(ai,ai.current)}function oi(a){Q(ai),Ri===a&&(Ri=null),Q(Wt)}var Wt=V(0);function qf(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Qy(d)||Zy(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Gr=0,Fe=null,_t=null,en=null,Wf=!1,Pc=!1,Za=!1,Gf=0,_u=0,Nc=null,y$=0;function Ut(){throw Error(i(321))}function Gv(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!ri(a[d],c[d]))return!1;return!0}function Jv(a,c,d,m,y,x){return Gr=x,Fe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=a===null||a.memoizedState===null?v1:ly,Za=!1,x=d(m,y),Za=!1,Pc&&(x=Lk(c,d,m,y)),jk(a),x}function jk(a){H.H=xu;var c=_t!==null&&_t.next!==null;if(Gr=0,en=_t=Fe=null,Wf=!1,_u=0,Nc=null,c)throw Error(i(300));a===null||tn||(a=a.dependencies,a!==null&&If(a)&&(tn=!0))}function Lk(a,c,d,m){Fe=a;var y=0;do{if(Pc&&(Nc=null),_u=0,Pc=!1,25<=y)throw Error(i(301));if(y+=1,en=_t=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=y1,x=c(d,m)}while(Pc);return x}function b$(){var a=H.H,c=a.useState()[0];return c=typeof c.then=="function"?wu(c):c,a=a.useState()[0],(_t!==null?_t.memoizedState:null)!==a&&(Fe.flags|=1024),c}function Yv(){var a=Gf!==0;return Gf=0,a}function Kv(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function Xv(a){if(Wf){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Wf=!1}Gr=0,en=_t=Fe=null,Pc=!1,_u=Gf=0,Nc=null}function Pn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Fe.memoizedState=en=a:en=en.next=a,en}function Gt(){if(_t===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=_t.next;var c=en===null?Fe.memoizedState:en.next;if(c!==null)en=c,_t=a;else{if(a===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));_t=a,a={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},en===null?Fe.memoizedState=en=a:en=en.next=a}return en}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(a){var c=_u;return _u+=1,Nc===null&&(Nc=[]),a=Mk(Nc,a,c),c=Fe,(en===null?c.memoizedState:en.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?v1:ly),a}function Yf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return wu(a);if(a.$$typeof===P)return vn(a)}throw Error(i(438,String(a)))}function Qv(a){var c=null,d=Fe.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=Fe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=Jf(),Fe.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),m=0;m<a;m++)d[m]=J;return c.index++,d}function Jr(a,c){return typeof c=="function"?c(a):c}function Kf(a){var c=Gt();return Zv(c,_t,a)}function Zv(a,c,d){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=d;var y=a.baseQueue,x=m.pending;if(x!==null){if(y!==null){var R=y.next;y.next=x.next,x.next=R}c.baseQueue=y=x,m.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{c=y.next;var $=R=null,q=null,ne=c,ce=!1;do{var de=ne.lane&-536870913;if(de!==ne.lane?(Qe&de)===de:(Gr&de)===de){var ie=ne.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),de===Tc&&(ce=!0);else if((Gr&ie)===ie){ne=ne.next,ie===Tc&&(ce=!0);continue}else de={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?($=q=de,R=x):q=q.next=de,Fe.lanes|=ie,Vs|=ie;de=ne.action,Za&&d(x,de),x=ne.hasEagerState?ne.eagerState:d(x,de)}else ie={lane:de,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?($=q=ie,R=x):q=q.next=ie,Fe.lanes|=de,Vs|=de;ne=ne.next}while(ne!==null&&ne!==c);if(q===null?R=x:q.next=$,!ri(x,a.memoizedState)&&(tn=!0,ce&&(d=Ac,d!==null)))throw d;a.memoizedState=x,a.baseState=R,a.baseQueue=q,m.lastRenderedState=x}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function ey(a){var c=Gt(),d=c.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var m=d.dispatch,y=d.pending,x=c.memoizedState;if(y!==null){d.pending=null;var R=y=y.next;do x=a(x,R.action),R=R.next;while(R!==y);ri(x,c.memoizedState)||(tn=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),d.lastRenderedState=x}return[x,m]}function Ik(a,c,d){var m=Fe,y=Gt(),x=tt;if(x){if(d===void 0)throw Error(i(407));d=d()}else d=c();var R=!ri((_t||y).memoizedState,d);if(R&&(y.memoizedState=d,tn=!0),y=y.queue,iy(zk.bind(null,m,y,a),[a]),y.getSnapshot!==c||R||en!==null&&en.memoizedState.tag&1){if(m.flags|=2048,jc(9,{destroy:void 0},$k.bind(null,m,y,d,c),null),kt===null)throw Error(i(349));x||(Gr&127)!==0||Bk(m,c,d)}return d}function Bk(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=Fe.updateQueue,c===null?(c=Jf(),Fe.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function $k(a,c,d,m){c.value=d,c.getSnapshot=m,Fk(c)&&Uk(a)}function zk(a,c,d){return d(function(){Fk(c)&&Uk(a)})}function Fk(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!ri(a,d)}catch{return!0}}function Uk(a){var c=Ha(a,2);c!==null&&Xn(c,a,2)}function ty(a){var c=Pn();if(typeof a=="function"){var d=a;if(a=d(),Za){As(!0);try{d()}finally{As(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:a},c}function Vk(a,c,d,m){return a.baseState=d,Zv(a,_t,typeof m=="function"?m:Jr)}function _$(a,c,d,m,y){if(Zf(a))throw Error(i(485));if(a=c.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){x.listeners.push(R)}};H.T!==null?d(!0):x.isTransition=!1,m(x),d=c.pending,d===null?(x.next=c.pending=x,Hk(c,x)):(x.next=d.next,c.pending=d.next=x)}}function Hk(a,c){var d=c.action,m=c.payload,y=a.state;if(c.isTransition){var x=H.T,R={};H.T=R;try{var $=d(y,m),q=H.S;q!==null&&q(R,$),qk(a,c,$)}catch(ne){ny(a,c,ne)}finally{x!==null&&R.types!==null&&(x.types=R.types),H.T=x}}else try{x=d(y,m),qk(a,c,x)}catch(ne){ny(a,c,ne)}}function qk(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Wk(a,c,m)},function(m){return ny(a,c,m)}):Wk(a,c,d)}function Wk(a,c,d){c.status="fulfilled",c.value=d,Gk(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,Hk(a,d)))}function ny(a,c,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,Gk(c),c=c.next;while(c!==m)}a.action=null}function Gk(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function Jk(a,c){return c}function Yk(a,c){if(tt){var d=kt.formState;if(d!==null){e:{var m=Fe;if(tt){if(Lt){t:{for(var y=Lt,x=Oi;y.nodeType!==8;){if(!x){y=null;break t}if(y=Di(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Lt=Di(y.nextSibling),m=y.data==="F!";break e}}Ns(m)}m=!1}m&&(c=d[0])}}return d=Pn(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jk,lastRenderedState:c},d.queue=m,d=p1.bind(null,Fe,m),m.dispatch=d,m=ty(!1),x=cy.bind(null,Fe,!1,m.queue),m=Pn(),y={state:c,dispatch:null,action:a,pending:null},m.queue=y,d=_$.bind(null,Fe,y,x,d),y.dispatch=d,m.memoizedState=a,[c,d,!1]}function Kk(a){var c=Gt();return Xk(c,_t,a)}function Xk(a,c,d){if(c=Zv(a,c,Jk)[0],a=Kf(Jr)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=wu(c)}catch(R){throw R===Oc?zf:R}else m=c;c=Gt();var y=c.queue,x=y.dispatch;return d!==c.memoizedState&&(Fe.flags|=2048,jc(9,{destroy:void 0},w$.bind(null,y,d),null)),[m,x,a]}function w$(a,c){a.action=c}function Qk(a){var c=Gt(),d=_t;if(d!==null)return Xk(c,d,a);Gt(),c=c.memoizedState,d=Gt();var m=d.queue.dispatch;return d.memoizedState=a,[c,m,!1]}function jc(a,c,d,m){return a={tag:a,create:d,deps:m,inst:c,next:null},c=Fe.updateQueue,c===null&&(c=Jf(),Fe.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,c.lastEffect=a),a}function Zk(){return Gt().memoizedState}function Xf(a,c,d,m){var y=Pn();Fe.flags|=a,y.memoizedState=jc(1|c,{destroy:void 0},d,m===void 0?null:m)}function Qf(a,c,d,m){var y=Gt();m=m===void 0?null:m;var x=y.memoizedState.inst;_t!==null&&m!==null&&Gv(m,_t.memoizedState.deps)?y.memoizedState=jc(c,x,d,m):(Fe.flags|=a,y.memoizedState=jc(1|c,x,d,m))}function e1(a,c){Xf(8390656,8,a,c)}function iy(a,c){Qf(2048,8,a,c)}function S$(a){Fe.flags|=4;var c=Fe.updateQueue;if(c===null)c=Jf(),Fe.updateQueue=c,c.events=[a];else{var d=c.events;d===null?c.events=[a]:d.push(a)}}function t1(a){var c=Gt().memoizedState;return S$({ref:c,nextImpl:a}),function(){if((ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function n1(a,c){return Qf(4,2,a,c)}function i1(a,c){return Qf(4,4,a,c)}function r1(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function s1(a,c,d){d=d!=null?d.concat([a]):null,Qf(4,4,r1.bind(null,c,a),d)}function ry(){}function a1(a,c){var d=Gt();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&Gv(c,m[1])?m[0]:(d.memoizedState=[a,c],a)}function o1(a,c){var d=Gt();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&Gv(c,m[1]))return m[0];if(m=a(),Za){As(!0);try{a()}finally{As(!1)}}return d.memoizedState=[m,c],m}function sy(a,c,d){return d===void 0||(Gr&1073741824)!==0&&(Qe&261930)===0?a.memoizedState=c:(a.memoizedState=d,a=cC(),Fe.lanes|=a,Vs|=a,d)}function c1(a,c,d,m){return ri(d,c)?d:Dc.current!==null?(a=sy(a,d,m),ri(a,c)||(tn=!0),a):(Gr&42)===0||(Gr&1073741824)!==0&&(Qe&261930)===0?(tn=!0,a.memoizedState=d):(a=cC(),Fe.lanes|=a,Vs|=a,c)}function l1(a,c,d,m,y){var x=te.p;te.p=x!==0&&8>x?x:8;var R=H.T,$={};H.T=$,cy(a,!1,c,d);try{var q=y(),ne=H.S;if(ne!==null&&ne($,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ce=v$(q,m);Su(a,c,ce,ui(a))}else Su(a,c,m,ui(a))}catch(de){Su(a,c,{then:function(){},status:"rejected",reason:de},ui())}finally{te.p=x,R!==null&&$.types!==null&&(R.types=$.types),H.T=R}}function x$(){}function ay(a,c,d,m){if(a.tag!==5)throw Error(i(476));var y=u1(a).queue;l1(a,y,c,Y,d===null?x$:function(){return d1(a),d(m)})}function u1(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:Y},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function d1(a){var c=u1(a);c.next===null&&(c=a.alternate.memoizedState),Su(a,c.next.queue,{},ui())}function oy(){return vn($u)}function f1(){return Gt().memoizedState}function h1(){return Gt().memoizedState}function k$(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=ui();a=Is(d);var m=Bs(c,a,d);m!==null&&(Xn(m,c,d),vu(m,c,d)),c={cache:Lv()},a.payload=c;return}c=c.return}}function C$(a,c,d){var m=ui();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Zf(a)?m1(c,d):(d=Cv(a,c,d,m),d!==null&&(Xn(d,a,m),g1(d,c,m)))}function p1(a,c,d){var m=ui();Su(a,c,d,m)}function Su(a,c,d,m){var y={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Zf(a))m1(c,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var R=c.lastRenderedState,$=x(R,d);if(y.hasEagerState=!0,y.eagerState=$,ri($,R))return Pf(a,c,y,0),kt===null&&Df(),!1}catch{}finally{}if(d=Cv(a,c,y,m),d!==null)return Xn(d,a,m),g1(d,c,m),!0}return!1}function cy(a,c,d,m){if(m={lane:2,revertLane:zy(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Zf(a)){if(c)throw Error(i(479))}else c=Cv(a,d,m,2),c!==null&&Xn(c,a,2)}function Zf(a){var c=a.alternate;return a===Fe||c!==null&&c===Fe}function m1(a,c){Pc=Wf=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function g1(a,c,d){if((d&4194048)!==0){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,wx(a,d)}}var xu={readContext:vn,use:Yf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};xu.useEffectEvent=Ut;var v1={readContext:vn,use:Yf,useCallback:function(a,c){return Pn().memoizedState=[a,c===void 0?null:c],a},useContext:vn,useEffect:e1,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,Xf(4194308,4,r1.bind(null,c,a),d)},useLayoutEffect:function(a,c){return Xf(4194308,4,a,c)},useInsertionEffect:function(a,c){Xf(4,2,a,c)},useMemo:function(a,c){var d=Pn();c=c===void 0?null:c;var m=a();if(Za){As(!0);try{a()}finally{As(!1)}}return d.memoizedState=[m,c],m},useReducer:function(a,c,d){var m=Pn();if(d!==void 0){var y=d(c);if(Za){As(!0);try{d(c)}finally{As(!1)}}}else y=c;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=C$.bind(null,Fe,a),[m.memoizedState,a]},useRef:function(a){var c=Pn();return a={current:a},c.memoizedState=a},useState:function(a){a=ty(a);var c=a.queue,d=p1.bind(null,Fe,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:ry,useDeferredValue:function(a,c){var d=Pn();return sy(d,a,c)},useTransition:function(){var a=ty(!1);return a=l1.bind(null,Fe,a.queue,!0,!1),Pn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var m=Fe,y=Pn();if(tt){if(d===void 0)throw Error(i(407));d=d()}else{if(d=c(),kt===null)throw Error(i(349));(Qe&127)!==0||Bk(m,c,d)}y.memoizedState=d;var x={value:d,getSnapshot:c};return y.queue=x,e1(zk.bind(null,m,x,a),[a]),m.flags|=2048,jc(9,{destroy:void 0},$k.bind(null,m,x,d,c),null),d},useId:function(){var a=Pn(),c=kt.identifierPrefix;if(tt){var d=mr,m=pr;d=(m&~(1<<32-ii(m)-1)).toString(32)+d,c="_"+c+"R_"+d,d=Gf++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=y$++,c="_"+c+"r_"+d.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:oy,useFormState:Yk,useActionState:Yk,useOptimistic:function(a){var c=Pn();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=cy.bind(null,Fe,!0,d),d.dispatch=c,[a,c]},useMemoCache:Qv,useCacheRefresh:function(){return Pn().memoizedState=k$.bind(null,Fe)},useEffectEvent:function(a){var c=Pn(),d={impl:a};return c.memoizedState=d,function(){if((ft&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},ly={readContext:vn,use:Yf,useCallback:a1,useContext:vn,useEffect:iy,useImperativeHandle:s1,useInsertionEffect:n1,useLayoutEffect:i1,useMemo:o1,useReducer:Kf,useRef:Zk,useState:function(){return Kf(Jr)},useDebugValue:ry,useDeferredValue:function(a,c){var d=Gt();return c1(d,_t.memoizedState,a,c)},useTransition:function(){var a=Kf(Jr)[0],c=Gt().memoizedState;return[typeof a=="boolean"?a:wu(a),c]},useSyncExternalStore:Ik,useId:f1,useHostTransitionStatus:oy,useFormState:Kk,useActionState:Kk,useOptimistic:function(a,c){var d=Gt();return Vk(d,_t,a,c)},useMemoCache:Qv,useCacheRefresh:h1};ly.useEffectEvent=t1;var y1={readContext:vn,use:Yf,useCallback:a1,useContext:vn,useEffect:iy,useImperativeHandle:s1,useInsertionEffect:n1,useLayoutEffect:i1,useMemo:o1,useReducer:ey,useRef:Zk,useState:function(){return ey(Jr)},useDebugValue:ry,useDeferredValue:function(a,c){var d=Gt();return _t===null?sy(d,a,c):c1(d,_t.memoizedState,a,c)},useTransition:function(){var a=ey(Jr)[0],c=Gt().memoizedState;return[typeof a=="boolean"?a:wu(a),c]},useSyncExternalStore:Ik,useId:f1,useHostTransitionStatus:oy,useFormState:Qk,useActionState:Qk,useOptimistic:function(a,c){var d=Gt();return _t!==null?Vk(d,_t,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Qv,useCacheRefresh:h1};y1.useEffectEvent=t1;function uy(a,c,d,m){c=a.memoizedState,d=d(m,c),d=d==null?c:g({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var dy={enqueueSetState:function(a,c,d){a=a._reactInternals;var m=ui(),y=Is(m);y.payload=c,d!=null&&(y.callback=d),c=Bs(a,y,m),c!==null&&(Xn(c,a,m),vu(c,a,m))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var m=ui(),y=Is(m);y.tag=1,y.payload=c,d!=null&&(y.callback=d),c=Bs(a,y,m),c!==null&&(Xn(c,a,m),vu(c,a,m))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=ui(),m=Is(d);m.tag=2,c!=null&&(m.callback=c),c=Bs(a,m,d),c!==null&&(Xn(c,a,d),vu(c,a,d))}};function b1(a,c,d,m,y,x,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,R):c.prototype&&c.prototype.isPureReactComponent?!lu(d,m)||!lu(y,x):!0}function _1(a,c,d,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==a&&dy.enqueueReplaceState(c,c.state,null)}function eo(a,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(a=a.defaultProps){d===c&&(d=g({},d));for(var y in a)d[y]===void 0&&(d[y]=a[y])}return d}function w1(a){Rf(a)}function S1(a){console.error(a)}function x1(a){Rf(a)}function eh(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function k1(a,c,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function fy(a,c,d){return d=Is(d),d.tag=3,d.payload={element:null},d.callback=function(){eh(a,c)},d}function C1(a){return a=Is(a),a.tag=3,a}function M1(a,c,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;a.payload=function(){return y(x)},a.callback=function(){k1(c,d,m)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){k1(c,d,m),typeof y!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function M$(a,c,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&Ec(c,d,y,!0),d=ai.current,d!==null){switch(d.tag){case 31:case 13:return Ri===null?fh():d.alternate===null&&Vt===0&&(Vt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===Ff?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),Iy(a,m,y)),!1;case 22:return d.flags|=65536,m===Ff?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),Iy(a,m,y)),!1}throw Error(i(435,d.tag))}return Iy(a,m,y),fh(),!1}if(tt)return c=ai.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,m!==Rv&&(a=Error(i(422),{cause:m}),fu(Ei(a,d)))):(m!==Rv&&(c=Error(i(423),{cause:m}),fu(Ei(c,d))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Ei(m,d),y=fy(a.stateNode,m,y),Uv(a,y),Vt!==4&&(Vt=2)),!1;var x=Error(i(520),{cause:m});if(x=Ei(x,d),Ru===null?Ru=[x]:Ru.push(x),Vt!==4&&(Vt=2),c===null)return!0;m=Ei(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=y&-y,d.lanes|=a,a=fy(d.stateNode,m,a),Uv(d,a),!1;case 1:if(c=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hs===null||!Hs.has(x))))return d.flags|=65536,y&=-y,d.lanes|=y,y=C1(y),M1(y,a,d,m),Uv(d,y),!1}d=d.return}while(d!==null);return!1}var hy=Error(i(461)),tn=!1;function yn(a,c,d,m){c.child=a===null?Ok(c,null,d,m):Qa(c,a.child,d,m)}function E1(a,c,d,m,y){d=d.render;var x=c.ref;if("ref"in m){var R={};for(var $ in m)$!=="ref"&&(R[$]=m[$])}else R=m;return Ja(c),m=Jv(a,c,d,R,x,y),$=Yv(),a!==null&&!tn?(Kv(a,c,y),Yr(a,c,y)):(tt&&$&&Av(c),c.flags|=1,yn(a,c,m,y),c.child)}function T1(a,c,d,m,y){if(a===null){var x=d.type;return typeof x=="function"&&!Mv(x)&&x.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=x,A1(a,c,x,m,y)):(a=jf(d.type,null,m,c,c.mode,y),a.ref=c.ref,a.return=c,c.child=a)}if(x=a.child,!wy(a,y)){var R=x.memoizedProps;if(d=d.compare,d=d!==null?d:lu,d(R,m)&&a.ref===c.ref)return Yr(a,c,y)}return c.flags|=1,a=Vr(x,m),a.ref=c.ref,a.return=c,c.child=a}function A1(a,c,d,m,y){if(a!==null){var x=a.memoizedProps;if(lu(x,m)&&a.ref===c.ref)if(tn=!1,c.pendingProps=m=x,wy(a,y))(a.flags&131072)!==0&&(tn=!0);else return c.lanes=a.lanes,Yr(a,c,y)}return py(a,c,d,m,y)}function O1(a,c,d,m){var y=m.children,x=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,a!==null){for(m=c.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,c.child=null;return R1(a,c,x,d,m)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&$f(c,x!==null?x.cachePool:null),x!==null?Pk(c,x):Hv(),Nk(c);else return m=c.lanes=536870912,R1(a,c,x!==null?x.baseLanes|d:d,d,m)}else x!==null?($f(c,x.cachePool),Pk(c,x),zs(),c.memoizedState=null):(a!==null&&$f(c,null),Hv(),zs());return yn(a,c,y,d),c.child}function ku(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function R1(a,c,d,m,y){var x=Bv();return x=x===null?null:{parent:Zt._currentValue,pool:x},c.memoizedState={baseLanes:d,cachePool:x},a!==null&&$f(c,null),Hv(),Nk(c),a!==null&&Ec(a,c,m,!0),c.childLanes=y,null}function th(a,c){return c=ih({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function D1(a,c,d){return Qa(c,a.child,null,d),a=th(c,c.pendingProps),a.flags|=2,oi(c),c.memoizedState=null,a}function E$(a,c,d){var m=c.pendingProps,y=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(tt){if(m.mode==="hidden")return a=th(c,m),c.lanes=536870912,ku(null,a);if(Wv(c),(a=Lt)?(a=HC(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Ds!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},d=mk(a),d.return=c,c.child=d,gn=c,Lt=null)):a=null,a===null)throw Ns(c);return c.lanes=536870912,null}return th(c,m)}var x=a.memoizedState;if(x!==null){var R=x.dehydrated;if(Wv(c),y)if(c.flags&256)c.flags&=-257,c=D1(a,c,d);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(i(558));else if(tn||Ec(a,c,d,!1),y=(d&a.childLanes)!==0,tn||y){if(m=kt,m!==null&&(R=Sx(m,d),R!==0&&R!==x.retryLane))throw x.retryLane=R,Ha(a,R),Xn(m,a,R),hy;fh(),c=D1(a,c,d)}else a=x.treeContext,Lt=Di(R.nextSibling),gn=c,tt=!0,Ps=null,Oi=!1,a!==null&&yk(c,a),c=th(c,m),c.flags|=4096;return c}return a=Vr(a.child,{mode:m.mode,children:m.children}),a.ref=c.ref,c.child=a,a.return=c,a}function nh(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function py(a,c,d,m,y){return Ja(c),d=Jv(a,c,d,m,void 0,y),m=Yv(),a!==null&&!tn?(Kv(a,c,y),Yr(a,c,y)):(tt&&m&&Av(c),c.flags|=1,yn(a,c,d,y),c.child)}function P1(a,c,d,m,y,x){return Ja(c),c.updateQueue=null,d=Lk(c,m,d,y),jk(a),m=Yv(),a!==null&&!tn?(Kv(a,c,x),Yr(a,c,x)):(tt&&m&&Av(c),c.flags|=1,yn(a,c,d,x),c.child)}function N1(a,c,d,m,y){if(Ja(c),c.stateNode===null){var x=xc,R=d.contextType;typeof R=="object"&&R!==null&&(x=vn(R)),x=new d(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=dy,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},zv(c),R=d.contextType,x.context=typeof R=="object"&&R!==null?vn(R):xc,x.state=c.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(uy(c,d,R,m),x.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(R=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),R!==x.state&&dy.enqueueReplaceState(x,x.state,null),bu(c,m,x,y),yu(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(a===null){x=c.stateNode;var $=c.memoizedProps,q=eo(d,$);x.props=q;var ne=x.context,ce=d.contextType;R=xc,typeof ce=="object"&&ce!==null&&(R=vn(ce));var de=d.getDerivedStateFromProps;ce=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||($||ne!==R)&&_1(c,x,m,R),Ls=!1;var ie=c.memoizedState;x.state=ie,bu(c,m,x,y),yu(),ne=c.memoizedState,$||ie!==ne||Ls?(typeof de=="function"&&(uy(c,d,de,m),ne=c.memoizedState),(q=Ls||b1(c,d,q,m,ie,ne,R))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ne),x.props=m,x.state=ne,x.context=R,m=q):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,Fv(a,c),R=c.memoizedProps,ce=eo(d,R),x.props=ce,de=c.pendingProps,ie=x.context,ne=d.contextType,q=xc,typeof ne=="object"&&ne!==null&&(q=vn(ne)),$=d.getDerivedStateFromProps,(ne=typeof $=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R!==de||ie!==q)&&_1(c,x,m,q),Ls=!1,ie=c.memoizedState,x.state=ie,bu(c,m,x,y),yu();var ae=c.memoizedState;R!==de||ie!==ae||Ls||a!==null&&a.dependencies!==null&&If(a.dependencies)?(typeof $=="function"&&(uy(c,d,$,m),ae=c.memoizedState),(ce=Ls||b1(c,d,ce,m,ie,ae,q)||a!==null&&a.dependencies!==null&&If(a.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ae,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ae,q)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||R===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ae),x.props=m,x.state=ae,x.context=q,m=ce):(typeof x.componentDidUpdate!="function"||R===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),m=!1)}return x=m,nh(a,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,a!==null&&m?(c.child=Qa(c,a.child,null,y),c.child=Qa(c,null,d,y)):yn(a,c,d,y),c.memoizedState=x.state,a=c.child):a=Yr(a,c,y),a}function j1(a,c,d,m){return Wa(),c.flags|=256,yn(a,c,d,m),c.child}var my={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gy(a){return{baseLanes:a,cachePool:kk()}}function vy(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=li),a}function L1(a,c,d){var m=c.pendingProps,y=!1,x=(c.flags&128)!==0,R;if((R=x)||(R=a!==null&&a.memoizedState===null?!1:(Wt.current&2)!==0),R&&(y=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,a===null){if(tt){if(y?$s(c):zs(),(a=Lt)?(a=HC(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Ds!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},d=mk(a),d.return=c,c.child=d,gn=c,Lt=null)):a=null,a===null)throw Ns(c);return Zy(a)?c.lanes=32:c.lanes=536870912,null}var $=m.children;return m=m.fallback,y?(zs(),y=c.mode,$=ih({mode:"hidden",children:$},y),m=qa(m,y,d,null),$.return=c,m.return=c,$.sibling=m,c.child=$,m=c.child,m.memoizedState=gy(d),m.childLanes=vy(a,R,d),c.memoizedState=my,ku(null,m)):($s(c),yy(c,$))}var q=a.memoizedState;if(q!==null&&($=q.dehydrated,$!==null)){if(x)c.flags&256?($s(c),c.flags&=-257,c=by(a,c,d)):c.memoizedState!==null?(zs(),c.child=a.child,c.flags|=128,c=null):(zs(),$=m.fallback,y=c.mode,m=ih({mode:"visible",children:m.children},y),$=qa($,y,d,null),$.flags|=2,m.return=c,$.return=c,m.sibling=$,c.child=m,Qa(c,a.child,null,d),m=c.child,m.memoizedState=gy(d),m.childLanes=vy(a,R,d),c.memoizedState=my,c=ku(null,m));else if($s(c),Zy($)){if(R=$.nextSibling&&$.nextSibling.dataset,R)var ne=R.dgst;R=ne,m=Error(i(419)),m.stack="",m.digest=R,fu({value:m,source:null,stack:null}),c=by(a,c,d)}else if(tn||Ec(a,c,d,!1),R=(d&a.childLanes)!==0,tn||R){if(R=kt,R!==null&&(m=Sx(R,d),m!==0&&m!==q.retryLane))throw q.retryLane=m,Ha(a,m),Xn(R,a,m),hy;Qy($)||fh(),c=by(a,c,d)}else Qy($)?(c.flags|=192,c.child=a.child,c=null):(a=q.treeContext,Lt=Di($.nextSibling),gn=c,tt=!0,Ps=null,Oi=!1,a!==null&&yk(c,a),c=yy(c,m.children),c.flags|=4096);return c}return y?(zs(),$=m.fallback,y=c.mode,q=a.child,ne=q.sibling,m=Vr(q,{mode:"hidden",children:m.children}),m.subtreeFlags=q.subtreeFlags&65011712,ne!==null?$=Vr(ne,$):($=qa($,y,d,null),$.flags|=2),$.return=c,m.return=c,m.sibling=$,c.child=m,ku(null,m),m=c.child,$=a.child.memoizedState,$===null?$=gy(d):(y=$.cachePool,y!==null?(q=Zt._currentValue,y=y.parent!==q?{parent:q,pool:q}:y):y=kk(),$={baseLanes:$.baseLanes|d,cachePool:y}),m.memoizedState=$,m.childLanes=vy(a,R,d),c.memoizedState=my,ku(a.child,m)):($s(c),d=a.child,a=d.sibling,d=Vr(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,a!==null&&(R=c.deletions,R===null?(c.deletions=[a],c.flags|=16):R.push(a)),c.child=d,c.memoizedState=null,d)}function yy(a,c){return c=ih({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function ih(a,c){return a=si(22,a,null,c),a.lanes=0,a}function by(a,c,d){return Qa(c,a.child,null,d),a=yy(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function I1(a,c,d){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c),Nv(a.return,c,d)}function _y(a,c,d,m,y,x){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y,treeForkCount:x}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=y,R.treeForkCount=x)}function B1(a,c,d){var m=c.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var R=Wt.current,$=(R&2)!==0;if($?(R=R&1|2,c.flags|=128):R&=1,h(Wt,R),yn(a,c,m,d),m=tt?du:0,!$&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&I1(a,d,c);else if(a.tag===19)I1(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(d=c.child,y=null;d!==null;)a=d.alternate,a!==null&&qf(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=c.child,c.child=null):(y=d.sibling,d.sibling=null),_y(c,!1,y,d,x,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=c.child,c.child=null;y!==null;){if(a=y.alternate,a!==null&&qf(a)===null){c.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}_y(c,!0,d,null,x,m);break;case"together":_y(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function Yr(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),Vs|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(Ec(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,d=Vr(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=Vr(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function wy(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&If(a)))}function T$(a,c,d){switch(c.tag){case 3:I(c,c.stateNode.containerInfo),js(c,Zt,a.memoizedState.cache),Wa();break;case 27:case 5:U(c);break;case 4:I(c,c.stateNode.containerInfo);break;case 10:js(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Wv(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?($s(c),c.flags|=128,null):(d&c.child.childLanes)!==0?L1(a,c,d):($s(c),a=Yr(a,c,d),a!==null?a.sibling:null);$s(c);break;case 19:var y=(a.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(Ec(a,c,d,!1),m=(d&c.childLanes)!==0),y){if(m)return B1(a,c,d);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),h(Wt,Wt.current),m)break;return null;case 22:return c.lanes=0,O1(a,c,d,c.pendingProps);case 24:js(c,Zt,a.memoizedState.cache)}return Yr(a,c,d)}function $1(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)tn=!0;else{if(!wy(a,d)&&(c.flags&128)===0)return tn=!1,T$(a,c,d);tn=(a.flags&131072)!==0}else tn=!1,tt&&(c.flags&1048576)!==0&&vk(c,du,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(a=Ka(c.elementType),c.type=a,typeof a=="function")Mv(a)?(m=eo(a,m),c.tag=1,c=N1(null,c,a,m,d)):(c.tag=0,c=py(null,c,a,m,d));else{if(a!=null){var y=a.$$typeof;if(y===j){c.tag=11,c=E1(null,c,a,m,d);break e}else if(y===L){c.tag=14,c=T1(null,c,a,m,d);break e}}throw c=ue(a)||a,Error(i(306,c,""))}}return c;case 0:return py(a,c,c.type,c.pendingProps,d);case 1:return m=c.type,y=eo(m,c.pendingProps),N1(a,c,m,y,d);case 3:e:{if(I(c,c.stateNode.containerInfo),a===null)throw Error(i(387));m=c.pendingProps;var x=c.memoizedState;y=x.element,Fv(a,c),bu(c,m,null,d);var R=c.memoizedState;if(m=R.cache,js(c,Zt,m),m!==x.cache&&jv(c,[Zt],d,!0),yu(),m=R.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=j1(a,c,m,d);break e}else if(m!==y){y=Ei(Error(i(424)),c),fu(y),c=j1(a,c,m,d);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Lt=Di(a.firstChild),gn=c,tt=!0,Ps=null,Oi=!0,d=Ok(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Wa(),m===y){c=Yr(a,c,d);break e}yn(a,c,m,d)}c=c.child}return c;case 26:return nh(a,c),a===null?(d=KC(c.type,null,c.pendingProps,null))?c.memoizedState=d:tt||(d=c.type,a=c.pendingProps,m=bh(O.current).createElement(d),m[mn]=c,m[qn]=a,bn(m,d,a),on(m),c.stateNode=m):c.memoizedState=KC(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return U(c),a===null&&tt&&(m=c.stateNode=GC(c.type,c.pendingProps,O.current),gn=c,Oi=!0,y=Lt,Js(c.type)?(eb=y,Lt=Di(m.firstChild)):Lt=y),yn(a,c,c.pendingProps.children,d),nh(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&tt&&((y=m=Lt)&&(m=rz(m,c.type,c.pendingProps,Oi),m!==null?(c.stateNode=m,gn=c,Lt=Di(m.firstChild),Oi=!1,y=!0):y=!1),y||Ns(c)),U(c),y=c.type,x=c.pendingProps,R=a!==null?a.memoizedProps:null,m=x.children,Yy(y,x)?m=null:R!==null&&Yy(y,R)&&(c.flags|=32),c.memoizedState!==null&&(y=Jv(a,c,b$,null,null,d),$u._currentValue=y),nh(a,c),yn(a,c,m,d),c.child;case 6:return a===null&&tt&&((a=d=Lt)&&(d=sz(d,c.pendingProps,Oi),d!==null?(c.stateNode=d,gn=c,Lt=null,a=!0):a=!1),a||Ns(c)),null;case 13:return L1(a,c,d);case 4:return I(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=Qa(c,null,m,d):yn(a,c,m,d),c.child;case 11:return E1(a,c,c.type,c.pendingProps,d);case 7:return yn(a,c,c.pendingProps,d),c.child;case 8:return yn(a,c,c.pendingProps.children,d),c.child;case 12:return yn(a,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,js(c,c.type,m.value),yn(a,c,m.children,d),c.child;case 9:return y=c.type._context,m=c.pendingProps.children,Ja(c),y=vn(y),m=m(y),c.flags|=1,yn(a,c,m,d),c.child;case 14:return T1(a,c,c.type,c.pendingProps,d);case 15:return A1(a,c,c.type,c.pendingProps,d);case 19:return B1(a,c,d);case 31:return E$(a,c,d);case 22:return O1(a,c,d,c.pendingProps);case 24:return Ja(c),m=vn(Zt),a===null?(y=Bv(),y===null&&(y=kt,x=Lv(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=d),y=x),c.memoizedState={parent:m,cache:y},zv(c),js(c,Zt,y)):((a.lanes&d)!==0&&(Fv(a,c),bu(c,null,null,d),yu()),y=a.memoizedState,x=c.memoizedState,y.parent!==m?(y={parent:m,cache:m},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),js(c,Zt,m)):(m=x.cache,js(c,Zt,m),m!==y.cache&&jv(c,[Zt],d,!0))),yn(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Kr(a){a.flags|=4}function Sy(a,c,d,m,y){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(fC())a.flags|=8192;else throw Xa=Ff,$v}else a.flags&=-16777217}function z1(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tM(c))if(fC())a.flags|=8192;else throw Xa=Ff,$v}function rh(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?bx():536870912,a.lanes|=c,$c|=c)}function Cu(a,c){if(!tt)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function It(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(c)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=d,c}function A$(a,c,d){var m=c.pendingProps;switch(Ov(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(c),null;case 1:return It(c),null;case 3:return d=c.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Wr(Zt),F(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Mc(c)?Kr(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Dv())),It(c),null;case 26:var y=c.type,x=c.memoizedState;return a===null?(Kr(c),x!==null?(It(c),z1(c,x)):(It(c),Sy(c,y,null,m,d))):x?x!==a.memoizedState?(Kr(c),It(c),z1(c,x)):(It(c),c.flags&=-16777217):(a=a.memoizedProps,a!==m&&Kr(c),It(c),Sy(c,y,a,m,d)),null;case 27:if(K(c),d=O.current,y=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&Kr(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return It(c),null}a=b.current,Mc(c)?bk(c):(a=GC(y,m,d),c.stateNode=a,Kr(c))}return It(c),null;case 5:if(K(c),y=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&Kr(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return It(c),null}if(x=b.current,Mc(c))bk(c);else{var R=bh(O.current);switch(x){case 1:x=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=R.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?R.createElement(y,{is:m.is}):R.createElement(y)}}x[mn]=c,x[qn]=m;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)x.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=x;e:switch(bn(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Kr(c)}}return It(c),Sy(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,d),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==m&&Kr(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(a=O.current,Mc(c)){if(a=c.stateNode,d=c.memoizedProps,m=null,y=gn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[mn]=c,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||LC(a.nodeValue,d)),a||Ns(c,!0)}else a=bh(a).createTextNode(m),a[mn]=c,c.stateNode=a}return It(c),null;case 31:if(d=c.memoizedState,a===null||a.memoizedState!==null){if(m=Mc(c),d!==null){if(a===null){if(!m)throw Error(i(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[mn]=c}else Wa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;It(c),a=!1}else d=Dv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return c.flags&256?(oi(c),c):(oi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return It(c),null;case 13:if(m=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Mc(c),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[mn]=c}else Wa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;It(c),y=!1}else y=Dv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(oi(c),c):(oi(c),null)}return oi(c),(c.flags&128)!==0?(c.lanes=d,c):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=c.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),d!==a&&d&&(c.child.flags|=8192),rh(c,c.updateQueue),It(c),null);case 4:return F(),a===null&&Hy(c.stateNode.containerInfo),It(c),null;case 10:return Wr(c.type),It(c),null;case 19:if(Q(Wt),m=c.memoizedState,m===null)return It(c),null;if(y=(c.flags&128)!==0,x=m.rendering,x===null)if(y)Cu(m,!1);else{if(Vt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(x=qf(a),x!==null){for(c.flags|=128,Cu(m,!1),a=x.updateQueue,c.updateQueue=a,rh(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)pk(d,a),d=d.sibling;return h(Wt,Wt.current&1|2),tt&&Hr(c,m.treeForkCount),c.child}a=a.sibling}m.tail!==null&&zt()>lh&&(c.flags|=128,y=!0,Cu(m,!1),c.lanes=4194304)}else{if(!y)if(a=qf(x),a!==null){if(c.flags|=128,y=!0,a=a.updateQueue,c.updateQueue=a,rh(c,a),Cu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!tt)return It(c),null}else 2*zt()-m.renderingStartTime>lh&&d!==536870912&&(c.flags|=128,y=!0,Cu(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(a=m.last,a!==null?a.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=zt(),a.sibling=null,d=Wt.current,h(Wt,y?d&1|2:d&1),tt&&Hr(c,m.treeForkCount),a):(It(c),null);case 22:case 23:return oi(c),qv(),m=c.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(It(c),c.subtreeFlags&6&&(c.flags|=8192)):It(c),d=c.updateQueue,d!==null&&rh(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),a!==null&&Q(Ya),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),Wr(Zt),It(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function O$(a,c){switch(Ov(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Wr(Zt),F(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return K(c),null;case 31:if(c.memoizedState!==null){if(oi(c),c.alternate===null)throw Error(i(340));Wa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(oi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Wa()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Q(Wt),null;case 4:return F(),null;case 10:return Wr(c.type),null;case 22:case 23:return oi(c),qv(),a!==null&&Q(Ya),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Wr(Zt),null;case 25:return null;default:return null}}function F1(a,c){switch(Ov(c),c.tag){case 3:Wr(Zt),F();break;case 26:case 27:case 5:K(c);break;case 4:F();break;case 31:c.memoizedState!==null&&oi(c);break;case 13:oi(c);break;case 19:Q(Wt);break;case 10:Wr(c.type);break;case 22:case 23:oi(c),qv(),a!==null&&Q(Ya);break;case 24:Wr(Zt)}}function Mu(a,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&a)===a){m=void 0;var x=d.create,R=d.inst;m=x(),R.destroy=m}d=d.next}while(d!==y)}}catch($){yt(c,c.return,$)}}function Fs(a,c,d){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&a)===a){var R=m.inst,$=R.destroy;if($!==void 0){R.destroy=void 0,y=c;var q=d,ne=$;try{ne()}catch(ce){yt(y,q,ce)}}}m=m.next}while(m!==x)}}catch(ce){yt(c,c.return,ce)}}function U1(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{Dk(c,d)}catch(m){yt(a,a.return,m)}}}function V1(a,c,d){d.props=eo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){yt(a,c,m)}}function Eu(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(y){yt(a,c,y)}}function gr(a,c){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){yt(a,c,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){yt(a,c,y)}else d.current=null}function H1(a){var c=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){yt(a,a.return,y)}}function xy(a,c,d){try{var m=a.stateNode;Q$(m,a.type,d,c),m[qn]=c}catch(y){yt(a,a.return,y)}}function q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Js(a.type)||a.tag===4}function ky(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Js(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cy(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Fr));else if(m!==4&&(m===27&&Js(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(Cy(a,c,d),a=a.sibling;a!==null;)Cy(a,c,d),a=a.sibling}function sh(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(m!==4&&(m===27&&Js(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(sh(a,c,d),a=a.sibling;a!==null;)sh(a,c,d),a=a.sibling}function W1(a){var c=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);bn(c,m,d),c[mn]=a,c[qn]=d}catch(x){yt(a,a.return,x)}}var Xr=!1,nn=!1,My=!1,G1=typeof WeakSet=="function"?WeakSet:Set,cn=null;function R$(a,c){if(a=a.containerInfo,Gy=Mh,a=sk(a),bv(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var R=0,$=-1,q=-1,ne=0,ce=0,de=a,ie=null;t:for(;;){for(var ae;de!==d||y!==0&&de.nodeType!==3||($=R+y),de!==x||m!==0&&de.nodeType!==3||(q=R+m),de.nodeType===3&&(R+=de.nodeValue.length),(ae=de.firstChild)!==null;)ie=de,de=ae;for(;;){if(de===a)break t;if(ie===d&&++ne===y&&($=R),ie===x&&++ce===m&&(q=R),(ae=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=ae}d=$===-1||q===-1?null:{start:$,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jy={focusedElem:a,selectionRange:d},Mh=!1,cn=c;cn!==null;)if(c=cn,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,cn=a;else for(;cn!==null;){switch(c=cn,x=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)y=a[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,d=c,y=x.memoizedProps,x=x.memoizedState,m=d.stateNode;try{var xe=eo(d.type,y);a=m.getSnapshotBeforeUpdate(xe,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){yt(d,d.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)Xy(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Xy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,cn=a;break}cn=c.return}}function J1(a,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Zr(a,d),m&4&&Mu(5,d);break;case 1:if(Zr(a,d),m&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(R){yt(d,d.return,R)}else{var y=eo(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(y,c,a.__reactInternalSnapshotBeforeUpdate)}catch(R){yt(d,d.return,R)}}m&64&&U1(d),m&512&&Eu(d,d.return);break;case 3:if(Zr(a,d),m&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{Dk(a,c)}catch(R){yt(d,d.return,R)}}break;case 27:c===null&&m&4&&W1(d);case 26:case 5:Zr(a,d),c===null&&m&4&&H1(d),m&512&&Eu(d,d.return);break;case 12:Zr(a,d);break;case 31:Zr(a,d),m&4&&X1(a,d);break;case 13:Zr(a,d),m&4&&Q1(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=z$.bind(null,d),az(a,d))));break;case 22:if(m=d.memoizedState!==null||Xr,!m){c=c!==null&&c.memoizedState!==null||nn,y=Xr;var x=nn;Xr=m,(nn=c)&&!x?es(a,d,(d.subtreeFlags&8772)!==0):Zr(a,d),Xr=y,nn=x}break;case 30:break;default:Zr(a,d)}}function Y1(a){var c=a.alternate;c!==null&&(a.alternate=null,Y1(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&nv(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Gn=!1;function Qr(a,c,d){for(d=d.child;d!==null;)K1(a,c,d),d=d.sibling}function K1(a,c,d){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Xl,d)}catch{}switch(d.tag){case 26:nn||gr(d,c),Qr(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:nn||gr(d,c);var m=$t,y=Gn;Js(d.type)&&($t=d.stateNode,Gn=!1),Qr(a,c,d),Lu(d.stateNode),$t=m,Gn=y;break;case 5:nn||gr(d,c);case 6:if(m=$t,y=Gn,$t=null,Qr(a,c,d),$t=m,Gn=y,$t!==null)if(Gn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(d.stateNode)}catch(x){yt(d,c,x)}else try{$t.removeChild(d.stateNode)}catch(x){yt(d,c,x)}break;case 18:$t!==null&&(Gn?(a=$t,UC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Gc(a)):UC($t,d.stateNode));break;case 4:m=$t,y=Gn,$t=d.stateNode.containerInfo,Gn=!0,Qr(a,c,d),$t=m,Gn=y;break;case 0:case 11:case 14:case 15:Fs(2,d,c),nn||Fs(4,d,c),Qr(a,c,d);break;case 1:nn||(gr(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&V1(d,c,m)),Qr(a,c,d);break;case 21:Qr(a,c,d);break;case 22:nn=(m=nn)||d.memoizedState!==null,Qr(a,c,d),nn=m;break;default:Qr(a,c,d)}}function X1(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Gc(a)}catch(d){yt(c,c.return,d)}}}function Q1(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Gc(a)}catch(d){yt(c,c.return,d)}}function D$(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new G1),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new G1),c;default:throw Error(i(435,a.tag))}}function ah(a,c){var d=D$(a);c.forEach(function(m){if(!d.has(m)){d.add(m);var y=F$.bind(null,a,m);m.then(y,y)}})}function Jn(a,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],x=a,R=c,$=R;e:for(;$!==null;){switch($.tag){case 27:if(Js($.type)){$t=$.stateNode,Gn=!1;break e}break;case 5:$t=$.stateNode,Gn=!1;break e;case 3:case 4:$t=$.stateNode.containerInfo,Gn=!0;break e}$=$.return}if($t===null)throw Error(i(160));K1(x,R,y),$t=null,Gn=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Z1(c,a),c=c.sibling}var Ji=null;function Z1(a,c){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jn(c,a),Yn(a),m&4&&(Fs(3,a,a.return),Mu(3,a),Fs(5,a,a.return));break;case 1:Jn(c,a),Yn(a),m&512&&(nn||d===null||gr(d,d.return)),m&64&&Xr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Ji;if(Jn(c,a),Yn(a),m&512&&(nn||d===null||gr(d,d.return)),m&4){var x=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[eu]||x[mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),bn(x,m,d),x[mn]=a,on(x),m=x;break e;case"link":var R=ZC("link","href",y).get(m+(d.href||""));if(R){for(var $=0;$<R.length;$++)if(x=R[$],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice($,1);break t}}x=y.createElement(m),bn(x,m,d),y.head.appendChild(x);break;case"meta":if(R=ZC("meta","content",y).get(m+(d.content||""))){for($=0;$<R.length;$++)if(x=R[$],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice($,1);break t}}x=y.createElement(m),bn(x,m,d),y.head.appendChild(x);break;default:throw Error(i(468,m))}x[mn]=a,on(x),m=x}a.stateNode=m}else eM(y,a.type,a.stateNode);else a.stateNode=QC(y,m,a.memoizedProps);else x!==m?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,m===null?eM(y,a.type,a.stateNode):QC(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&xy(a,a.memoizedProps,d.memoizedProps)}break;case 27:Jn(c,a),Yn(a),m&512&&(nn||d===null||gr(d,d.return)),d!==null&&m&4&&xy(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Jn(c,a),Yn(a),m&512&&(nn||d===null||gr(d,d.return)),a.flags&32){y=a.stateNode;try{gc(y,"")}catch(xe){yt(a,a.return,xe)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,xy(a,y,d!==null?d.memoizedProps:y)),m&1024&&(My=!0);break;case 6:if(Jn(c,a),Yn(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(xe){yt(a,a.return,xe)}}break;case 3:if(Sh=null,y=Ji,Ji=_h(c.containerInfo),Jn(c,a),Ji=y,Yn(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Gc(c.containerInfo)}catch(xe){yt(a,a.return,xe)}My&&(My=!1,eC(a));break;case 4:m=Ji,Ji=_h(a.stateNode.containerInfo),Jn(c,a),Yn(a),Ji=m;break;case 12:Jn(c,a),Yn(a);break;case 31:Jn(c,a),Yn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ah(a,m)));break;case 13:Jn(c,a),Yn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ch=zt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ah(a,m)));break;case 22:y=a.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ne=Xr,ce=nn;if(Xr=ne||y,nn=ce||q,Jn(c,a),nn=ce,Xr=ne,Yn(a),m&8192)e:for(c=a.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(d===null||q||Xr||nn||to(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){q=d=c;try{if(x=q.stateNode,y)R=x.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{$=q.stateNode;var de=q.memoizedProps.style,ie=de!=null&&de.hasOwnProperty("display")?de.display:null;$.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(xe){yt(q,q.return,xe)}}}else if(c.tag===6){if(d===null){q=c;try{q.stateNode.nodeValue=y?"":q.memoizedProps}catch(xe){yt(q,q.return,xe)}}}else if(c.tag===18){if(d===null){q=c;try{var ae=q.stateNode;y?VC(ae,!0):VC(q.stateNode,!1)}catch(xe){yt(q,q.return,xe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,ah(a,d))));break;case 19:Jn(c,a),Yn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ah(a,m)));break;case 30:break;case 21:break;default:Jn(c,a),Yn(a)}}function Yn(a){var c=a.flags;if(c&2){try{for(var d,m=a.return;m!==null;){if(q1(m)){d=m;break}m=m.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var y=d.stateNode,x=ky(a);sh(a,x,y);break;case 5:var R=d.stateNode;d.flags&32&&(gc(R,""),d.flags&=-33);var $=ky(a);sh(a,$,R);break;case 3:case 4:var q=d.stateNode.containerInfo,ne=ky(a);Cy(a,ne,q);break;default:throw Error(i(161))}}catch(ce){yt(a,a.return,ce)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function eC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;eC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Zr(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)J1(a,c.alternate,c),c=c.sibling}function to(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Fs(4,c,c.return),to(c);break;case 1:gr(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&V1(c,c.return,d),to(c);break;case 27:Lu(c.stateNode);case 26:case 5:gr(c,c.return),to(c);break;case 22:c.memoizedState===null&&to(c);break;case 30:to(c);break;default:to(c)}a=a.sibling}}function es(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,y=a,x=c,R=x.flags;switch(x.tag){case 0:case 11:case 15:es(y,x,d),Mu(4,x);break;case 1:if(es(y,x,d),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ne){yt(m,m.return,ne)}if(m=x,y=m.updateQueue,y!==null){var $=m.stateNode;try{var q=y.shared.hiddenCallbacks;if(q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<q.length;y++)Rk(q[y],$)}catch(ne){yt(m,m.return,ne)}}d&&R&64&&U1(x),Eu(x,x.return);break;case 27:W1(x);case 26:case 5:es(y,x,d),d&&m===null&&R&4&&H1(x),Eu(x,x.return);break;case 12:es(y,x,d);break;case 31:es(y,x,d),d&&R&4&&X1(y,x);break;case 13:es(y,x,d),d&&R&4&&Q1(y,x);break;case 22:x.memoizedState===null&&es(y,x,d),Eu(x,x.return);break;case 30:break;default:es(y,x,d)}c=c.sibling}}function Ey(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&hu(d))}function Ty(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&hu(a))}function Yi(a,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tC(a,c,d,m),c=c.sibling}function tC(a,c,d,m){var y=c.flags;switch(c.tag){case 0:case 11:case 15:Yi(a,c,d,m),y&2048&&Mu(9,c);break;case 1:Yi(a,c,d,m);break;case 3:Yi(a,c,d,m),y&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&hu(a)));break;case 12:if(y&2048){Yi(a,c,d,m),a=c.stateNode;try{var x=c.memoizedProps,R=x.id,$=x.onPostCommit;typeof $=="function"&&$(R,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){yt(c,c.return,q)}}else Yi(a,c,d,m);break;case 31:Yi(a,c,d,m);break;case 13:Yi(a,c,d,m);break;case 23:break;case 22:x=c.stateNode,R=c.alternate,c.memoizedState!==null?x._visibility&2?Yi(a,c,d,m):Tu(a,c):x._visibility&2?Yi(a,c,d,m):(x._visibility|=2,Lc(a,c,d,m,(c.subtreeFlags&10256)!==0||!1)),y&2048&&Ey(R,c);break;case 24:Yi(a,c,d,m),y&2048&&Ty(c.alternate,c);break;default:Yi(a,c,d,m)}}function Lc(a,c,d,m,y){for(y=y&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=a,R=c,$=d,q=m,ne=R.flags;switch(R.tag){case 0:case 11:case 15:Lc(x,R,$,q,y),Mu(8,R);break;case 23:break;case 22:var ce=R.stateNode;R.memoizedState!==null?ce._visibility&2?Lc(x,R,$,q,y):Tu(x,R):(ce._visibility|=2,Lc(x,R,$,q,y)),y&&ne&2048&&Ey(R.alternate,R);break;case 24:Lc(x,R,$,q,y),y&&ne&2048&&Ty(R.alternate,R);break;default:Lc(x,R,$,q,y)}c=c.sibling}}function Tu(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,m=c,y=m.flags;switch(m.tag){case 22:Tu(d,m),y&2048&&Ey(m.alternate,m);break;case 24:Tu(d,m),y&2048&&Ty(m.alternate,m);break;default:Tu(d,m)}c=c.sibling}}var Au=8192;function Ic(a,c,d){if(a.subtreeFlags&Au)for(a=a.child;a!==null;)nC(a,c,d),a=a.sibling}function nC(a,c,d){switch(a.tag){case 26:Ic(a,c,d),a.flags&Au&&a.memoizedState!==null&&yz(d,Ji,a.memoizedState,a.memoizedProps);break;case 5:Ic(a,c,d);break;case 3:case 4:var m=Ji;Ji=_h(a.stateNode.containerInfo),Ic(a,c,d),Ji=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Au,Au=16777216,Ic(a,c,d),Au=m):Ic(a,c,d));break;default:Ic(a,c,d)}}function iC(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Ou(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];cn=m,sC(m,a)}iC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rC(a),a=a.sibling}function rC(a){switch(a.tag){case 0:case 11:case 15:Ou(a),a.flags&2048&&Fs(9,a,a.return);break;case 3:Ou(a);break;case 12:Ou(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,oh(a)):Ou(a);break;default:Ou(a)}}function oh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];cn=m,sC(m,a)}iC(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Fs(8,c,c.return),oh(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,oh(c));break;default:oh(c)}a=a.sibling}}function sC(a,c){for(;cn!==null;){var d=cn;switch(d.tag){case 0:case 11:case 15:Fs(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:hu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,cn=m;else e:for(d=a;cn!==null;){m=cn;var y=m.sibling,x=m.return;if(Y1(m),m===d){cn=null;break e}if(y!==null){y.return=x,cn=y;break e}cn=x}}}var P$={getCacheForType:function(a){var c=vn(Zt),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d},cacheSignal:function(){return vn(Zt).controller.signal}},N$=typeof WeakMap=="function"?WeakMap:Map,ft=0,kt=null,Je=null,Qe=0,vt=0,ci=null,Us=!1,Bc=!1,Ay=!1,ts=0,Vt=0,Vs=0,no=0,Oy=0,li=0,$c=0,Ru=null,Kn=null,Ry=!1,ch=0,aC=0,lh=1/0,uh=null,Hs=null,rn=0,qs=null,zc=null,ns=0,Dy=0,Py=null,oC=null,Du=0,Ny=null;function ui(){return(ft&2)!==0&&Qe!==0?Qe&-Qe:H.T!==null?zy():xx()}function cC(){if(li===0)if((Qe&536870912)===0||tt){var a=yf;yf<<=1,(yf&3932160)===0&&(yf=262144),li=a}else li=536870912;return a=ai.current,a!==null&&(a.flags|=32),li}function Xn(a,c,d){(a===kt&&(vt===2||vt===9)||a.cancelPendingCommit!==null)&&(Fc(a,0),Ws(a,Qe,li,!1)),Zl(a,d),((ft&2)===0||a!==kt)&&(a===kt&&((ft&2)===0&&(no|=d),Vt===4&&Ws(a,Qe,li,!1)),vr(a))}function lC(a,c,d){if((ft&6)!==0)throw Error(i(327));var m=!d&&(c&127)===0&&(c&a.expiredLanes)===0||Ql(a,c),y=m?I$(a,c):Ly(a,c,!0),x=m;do{if(y===0){Bc&&!m&&Ws(a,c,0,!1);break}else{if(d=a.current.alternate,x&&!j$(d)){y=Ly(a,c,!1),x=!1;continue}if(y===2){if(x=c,a.errorRecoveryDisabledLanes&x)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var $=a;y=Ru;var q=$.current.memoizedState.isDehydrated;if(q&&(Fc($,R).flags|=256),R=Ly($,R,!1),R!==2){if(Ay&&!q){$.errorRecoveryDisabledLanes|=x,no|=x,y=4;break e}x=Kn,Kn=y,x!==null&&(Kn===null?Kn=x:Kn.push.apply(Kn,x))}y=R}if(x=!1,y!==2)continue}}if(y===1){Fc(a,0),Ws(a,c,0,!0);break}e:{switch(m=a,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ws(m,c,li,!Us);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(y=ch+300-zt(),10<y)){if(Ws(m,c,li,!Us),_f(m,0,!0)!==0)break e;ns=c,m.timeoutHandle=zC(uC.bind(null,m,d,Kn,uh,Ry,c,li,no,$c,Us,x,"Throttled",-0,0),y);break e}uC(m,d,Kn,uh,Ry,c,li,no,$c,Us,x,null,-0,0)}}break}while(!0);vr(a)}function uC(a,c,d,m,y,x,R,$,q,ne,ce,de,ie,ae){if(a.timeoutHandle=-1,de=c.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fr},nC(c,x,de);var xe=(x&62914560)===x?ch-zt():(x&4194048)===x?aC-zt():0;if(xe=bz(de,xe),xe!==null){ns=x,a.cancelPendingCommit=xe(yC.bind(null,a,c,x,d,m,y,R,$,q,ce,de,null,ie,ae)),Ws(a,x,R,!ne);return}}yC(a,c,x,d,m,y,R,$,q)}function j$(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],x=y.getSnapshot;y=y.value;try{if(!ri(x(),y))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ws(a,c,d,m){c&=~Oy,c&=~no,a.suspendedLanes|=c,a.pingedLanes&=~c,m&&(a.warmLanes|=c),m=a.expirationTimes;for(var y=c;0<y;){var x=31-ii(y),R=1<<x;m[x]=-1,y&=~R}d!==0&&_x(a,d,c)}function dh(){return(ft&6)===0?(Pu(0),!1):!0}function jy(){if(Je!==null){if(vt===0)var a=Je.return;else a=Je,qr=Ga=null,Xv(a),Rc=null,mu=0,a=Je;for(;a!==null;)F1(a.alternate,a),a=a.return;Je=null}}function Fc(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,tz(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ns=0,jy(),kt=a,Je=d=Vr(a.current,null),Qe=c,vt=0,ci=null,Us=!1,Bc=Ql(a,c),Ay=!1,$c=li=Oy=no=Vs=Vt=0,Kn=Ru=null,Ry=!1,(c&8)!==0&&(c|=c&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=c;0<m;){var y=31-ii(m),x=1<<y;c|=a[y],m&=~x}return ts=c,Df(),d}function dC(a,c){Fe=null,H.H=xu,c===Oc||c===zf?(c=Ek(),vt=3):c===$v?(c=Ek(),vt=4):vt=c===hy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ci=c,Je===null&&(Vt=1,eh(a,Ei(c,a.current)))}function fC(){var a=ai.current;return a===null?!0:(Qe&4194048)===Qe?Ri===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?a===Ri:!1}function hC(){var a=H.H;return H.H=xu,a===null?xu:a}function pC(){var a=H.A;return H.A=P$,a}function fh(){Vt=4,Us||(Qe&4194048)!==Qe&&ai.current!==null||(Bc=!0),(Vs&134217727)===0&&(no&134217727)===0||kt===null||Ws(kt,Qe,li,!1)}function Ly(a,c,d){var m=ft;ft|=2;var y=hC(),x=pC();(kt!==a||Qe!==c)&&(uh=null,Fc(a,c)),c=!1;var R=Vt;e:do try{if(vt!==0&&Je!==null){var $=Je,q=ci;switch(vt){case 8:jy(),R=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(c=!0);var ne=vt;if(vt=0,ci=null,Uc(a,$,q,ne),d&&Bc){R=0;break e}break;default:ne=vt,vt=0,ci=null,Uc(a,$,q,ne)}}L$(),R=Vt;break}catch(ce){dC(a,ce)}while(!0);return c&&a.shellSuspendCounter++,qr=Ga=null,ft=m,H.H=y,H.A=x,Je===null&&(kt=null,Qe=0,Df()),R}function L$(){for(;Je!==null;)mC(Je)}function I$(a,c){var d=ft;ft|=2;var m=hC(),y=pC();kt!==a||Qe!==c?(uh=null,lh=zt()+500,Fc(a,c)):Bc=Ql(a,c);e:do try{if(vt!==0&&Je!==null){c=Je;var x=ci;t:switch(vt){case 1:vt=0,ci=null,Uc(a,c,x,1);break;case 2:case 9:if(Ck(x)){vt=0,ci=null,gC(c);break}c=function(){vt!==2&&vt!==9||kt!==a||(vt=7),vr(a)},x.then(c,c);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Ck(x)?(vt=0,ci=null,gC(c)):(vt=0,ci=null,Uc(a,c,x,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var $=Je;if(R?tM(R):$.stateNode.complete){vt=0,ci=null;var q=$.sibling;if(q!==null)Je=q;else{var ne=$.return;ne!==null?(Je=ne,hh(ne)):Je=null}break t}}vt=0,ci=null,Uc(a,c,x,5);break;case 6:vt=0,ci=null,Uc(a,c,x,6);break;case 8:jy(),Vt=6;break e;default:throw Error(i(462))}}B$();break}catch(ce){dC(a,ce)}while(!0);return qr=Ga=null,H.H=m,H.A=y,ft=d,Je!==null?0:(kt=null,Qe=0,Df(),Vt)}function B$(){for(;Je!==null&&!an();)mC(Je)}function mC(a){var c=$1(a.alternate,a,ts);a.memoizedProps=a.pendingProps,c===null?hh(a):Je=c}function gC(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=P1(d,c,c.pendingProps,c.type,void 0,Qe);break;case 11:c=P1(d,c,c.pendingProps,c.type.render,c.ref,Qe);break;case 5:Xv(c);default:F1(d,c),c=Je=pk(c,ts),c=$1(d,c,ts)}a.memoizedProps=a.pendingProps,c===null?hh(a):Je=c}function Uc(a,c,d,m){qr=Ga=null,Xv(c),Rc=null,mu=0;var y=c.return;try{if(M$(a,y,c,d,Qe)){Vt=1,eh(a,Ei(d,a.current)),Je=null;return}}catch(x){if(y!==null)throw Je=y,x;Vt=1,eh(a,Ei(d,a.current)),Je=null;return}c.flags&32768?(tt||m===1?a=!0:Bc||(Qe&536870912)!==0?a=!1:(Us=a=!0,(m===2||m===9||m===3||m===6)&&(m=ai.current,m!==null&&m.tag===13&&(m.flags|=16384))),vC(c,a)):hh(c)}function hh(a){var c=a;do{if((c.flags&32768)!==0){vC(c,Us);return}a=c.return;var d=A$(c.alternate,c,ts);if(d!==null){Je=d;return}if(c=c.sibling,c!==null){Je=c;return}Je=c=a}while(c!==null);Vt===0&&(Vt=5)}function vC(a,c){do{var d=O$(a.alternate,a);if(d!==null){d.flags&=32767,Je=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){Je=a;return}Je=a=d}while(a!==null);Vt=6,Je=null}function yC(a,c,d,m,y,x,R,$,q){a.cancelPendingCommit=null;do ph();while(rn!==0);if((ft&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(x=c.lanes|c.childLanes,x|=kv,vB(a,d,x,R,$,q),a===kt&&(Je=kt=null,Qe=0),zc=c,qs=a,ns=d,Dy=x,Py=y,oC=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,U$(gf,function(){return xC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=H.T,H.T=null,y=te.p,te.p=2,R=ft,ft|=4;try{R$(a,c,d)}finally{ft=R,te.p=y,H.T=m}}rn=1,bC(),_C(),wC()}}function bC(){if(rn===1){rn=0;var a=qs,c=zc,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=H.T,H.T=null;var m=te.p;te.p=2;var y=ft;ft|=4;try{Z1(c,a);var x=Jy,R=sk(a.containerInfo),$=x.focusedElem,q=x.selectionRange;if(R!==$&&$&&$.ownerDocument&&rk($.ownerDocument.documentElement,$)){if(q!==null&&bv($)){var ne=q.start,ce=q.end;if(ce===void 0&&(ce=ne),"selectionStart"in $)$.selectionStart=ne,$.selectionEnd=Math.min(ce,$.value.length);else{var de=$.ownerDocument||document,ie=de&&de.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),xe=$.textContent.length,Ne=Math.min(q.start,xe),St=q.end===void 0?Ne:Math.min(q.end,xe);!ae.extend&&Ne>St&&(R=St,St=Ne,Ne=R);var X=ik($,Ne),G=ik($,St);if(X&&G&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==G.node||ae.focusOffset!==G.offset)){var ee=de.createRange();ee.setStart(X.node,X.offset),ae.removeAllRanges(),Ne>St?(ae.addRange(ee),ae.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),ae.addRange(ee))}}}}for(de=[],ae=$;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<de.length;$++){var le=de[$];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Mh=!!Gy,Jy=Gy=null}finally{ft=y,te.p=m,H.T=d}}a.current=c,rn=2}}function _C(){if(rn===2){rn=0;var a=qs,c=zc,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=H.T,H.T=null;var m=te.p;te.p=2;var y=ft;ft|=4;try{J1(a,c.alternate,c)}finally{ft=y,te.p=m,H.T=d}}rn=3}}function wC(){if(rn===4||rn===3){rn=0,pn();var a=qs,c=zc,d=ns,m=oC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?rn=5:(rn=0,zc=qs=null,SC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Hs=null),ev(d),c=c.stateNode,ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Xl,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=H.T,y=te.p,te.p=2,H.T=null;try{for(var x=a.onRecoverableError,R=0;R<m.length;R++){var $=m[R];x($.value,{componentStack:$.stack})}}finally{H.T=c,te.p=y}}(ns&3)!==0&&ph(),vr(a),y=a.pendingLanes,(d&261930)!==0&&(y&42)!==0?a===Ny?Du++:(Du=0,Ny=a):Du=0,Pu(0)}}function SC(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,hu(c)))}function ph(){return bC(),_C(),wC(),xC()}function xC(){if(rn!==5)return!1;var a=qs,c=Dy;Dy=0;var d=ev(ns),m=H.T,y=te.p;try{te.p=32>d?32:d,H.T=null,d=Py,Py=null;var x=qs,R=ns;if(rn=0,zc=qs=null,ns=0,(ft&6)!==0)throw Error(i(331));var $=ft;if(ft|=4,rC(x.current),tC(x,x.current,R,d),ft=$,Pu(0,!1),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Xl,x)}catch{}return!0}finally{te.p=y,H.T=m,SC(a,c)}}function kC(a,c,d){c=Ei(d,c),c=fy(a.stateNode,c,2),a=Bs(a,c,2),a!==null&&(Zl(a,2),vr(a))}function yt(a,c,d){if(a.tag===3)kC(a,a,d);else for(;c!==null;){if(c.tag===3){kC(c,a,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hs===null||!Hs.has(m))){a=Ei(d,a),d=C1(2),m=Bs(c,d,2),m!==null&&(M1(d,m,c,a),Zl(m,2),vr(m));break}}c=c.return}}function Iy(a,c,d){var m=a.pingCache;if(m===null){m=a.pingCache=new N$;var y=new Set;m.set(c,y)}else y=m.get(c),y===void 0&&(y=new Set,m.set(c,y));y.has(d)||(Ay=!0,y.add(d),a=$$.bind(null,a,c,d),c.then(a,a))}function $$(a,c,d){var m=a.pingCache;m!==null&&m.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,kt===a&&(Qe&d)===d&&(Vt===4||Vt===3&&(Qe&62914560)===Qe&&300>zt()-ch?(ft&2)===0&&Fc(a,0):Oy|=d,$c===Qe&&($c=0)),vr(a)}function CC(a,c){c===0&&(c=bx()),a=Ha(a,c),a!==null&&(Zl(a,c),vr(a))}function z$(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),CC(a,d)}function F$(a,c){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),CC(a,d)}function U$(a,c){return qt(a,c)}var mh=null,Vc=null,By=!1,gh=!1,$y=!1,Gs=0;function vr(a){a!==Vc&&a.next===null&&(Vc===null?mh=Vc=a:Vc=Vc.next=a),gh=!0,By||(By=!0,H$())}function Pu(a,c){if(!$y&&gh){$y=!0;do for(var d=!1,m=mh;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var R=m.suspendedLanes,$=m.pingedLanes;x=(1<<31-ii(42|a)+1)-1,x&=y&~(R&~$),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,AC(m,x))}else x=Qe,x=_f(m,m===kt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Ql(m,x)||(d=!0,AC(m,x));m=m.next}while(d);$y=!1}}function V$(){MC()}function MC(){gh=By=!1;var a=0;Gs!==0&&ez()&&(a=Gs);for(var c=zt(),d=null,m=mh;m!==null;){var y=m.next,x=EC(m,c);x===0?(m.next=null,d===null?mh=y:d.next=y,y===null&&(Vc=d)):(d=m,(a!==0||(x&3)!==0)&&(gh=!0)),m=y}rn!==0&&rn!==5||Pu(a),Gs!==0&&(Gs=0)}function EC(a,c){for(var d=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var R=31-ii(x),$=1<<R,q=y[R];q===-1?(($&d)===0||($&m)!==0)&&(y[R]=gB($,c)):q<=c&&(a.expiredLanes|=$),x&=~$}if(c=kt,d=Qe,d=_f(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===c&&(vt===2||vt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ft(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Ql(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(m!==null&&Ft(m),ev(d)){case 2:case 8:d=vx;break;case 32:d=gf;break;case 268435456:d=yx;break;default:d=gf}return m=TC.bind(null,a),d=qt(d,m),a.callbackPriority=c,a.callbackNode=d,c}return m!==null&&m!==null&&Ft(m),a.callbackPriority=2,a.callbackNode=null,2}function TC(a,c){if(rn!==0&&rn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(ph()&&a.callbackNode!==d)return null;var m=Qe;return m=_f(a,a===kt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(lC(a,m,c),EC(a,zt()),a.callbackNode!=null&&a.callbackNode===d?TC.bind(null,a):null)}function AC(a,c){if(ph())return null;lC(a,c,!0)}function H$(){nz(function(){(ft&6)!==0?qt(lc,V$):MC()})}function zy(){if(Gs===0){var a=Tc;a===0&&(a=vf,vf<<=1,(vf&261888)===0&&(vf=256)),Gs=a}return Gs}function OC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:kf(""+a)}function RC(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function q$(a,c,d,m,y){if(c==="submit"&&d&&d.stateNode===y){var x=OC((y[qn]||null).action),R=m.submitter;R&&(c=(c=R[qn]||null)?OC(c.formAction):R.getAttribute("formAction"),c!==null&&(x=c,R=null));var $=new Tf("action","action",null,m,y);a.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gs!==0){var q=R?RC(y,R):new FormData(y);ay(d,{pending:!0,data:q,method:y.method,action:x},null,q)}}else typeof x=="function"&&($.preventDefault(),q=R?RC(y,R):new FormData(y),ay(d,{pending:!0,data:q,method:y.method,action:x},x,q))},currentTarget:y}]})}}for(var Fy=0;Fy<xv.length;Fy++){var Uy=xv[Fy],W$=Uy.toLowerCase(),G$=Uy[0].toUpperCase()+Uy.slice(1);Gi(W$,"on"+G$)}Gi(ck,"onAnimationEnd"),Gi(lk,"onAnimationIteration"),Gi(uk,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(l$,"onTransitionRun"),Gi(u$,"onTransitionStart"),Gi(d$,"onTransitionCancel"),Gi(dk,"onTransitionEnd"),pc("onMouseEnter",["mouseout","mouseover"]),pc("onMouseLeave",["mouseout","mouseover"]),pc("onPointerEnter",["pointerout","pointerover"]),pc("onPointerLeave",["pointerout","pointerover"]),za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),za("onBeforeInput",["compositionend","keypress","textInput","paste"]),za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function DC(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],y=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var R=m.length-1;0<=R;R--){var $=m[R],q=$.instance,ne=$.currentTarget;if($=$.listener,q!==x&&y.isPropagationStopped())break e;x=$,y.currentTarget=ne;try{x(y)}catch(ce){Rf(ce)}y.currentTarget=null,x=q}else for(R=0;R<m.length;R++){if($=m[R],q=$.instance,ne=$.currentTarget,$=$.listener,q!==x&&y.isPropagationStopped())break e;x=$,y.currentTarget=ne;try{x(y)}catch(ce){Rf(ce)}y.currentTarget=null,x=q}}}}function Ye(a,c){var d=c[tv];d===void 0&&(d=c[tv]=new Set);var m=a+"__bubble";d.has(m)||(PC(c,a,2,!1),d.add(m))}function Vy(a,c,d){var m=0;c&&(m|=4),PC(d,a,m,c)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Hy(a){if(!a[vh]){a[vh]=!0,Mx.forEach(function(d){d!=="selectionchange"&&(J$.has(d)||Vy(d,!1,a),Vy(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[vh]||(c[vh]=!0,Vy("selectionchange",!1,c))}}function PC(a,c,d,m){switch(cM(c)){case 2:var y=Sz;break;case 8:y=xz;break;default:y=sb}d=y.bind(null,c,d,a),y=void 0,!uv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(c,d,{capture:!0,passive:y}):a.addEventListener(c,d,!0):y!==void 0?a.addEventListener(c,d,{passive:y}):a.addEventListener(c,d,!1)}function qy(a,c,d,m,y){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var $=m.stateNode.containerInfo;if($===y)break;if(R===4)for(R=m.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;$!==null;){if(R=dc($),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){m=x=R;continue e}$=$.parentNode}}m=m.return}Bx(function(){var ne=x,ce=cv(d),de=[];e:{var ie=fk.get(a);if(ie!==void 0){var ae=Tf,xe=a;switch(a){case"keypress":if(Mf(d)===0)break e;case"keydown":case"keyup":ae=FB;break;case"focusin":xe="focus",ae=pv;break;case"focusout":xe="blur",ae=pv;break;case"beforeblur":case"afterblur":ae=pv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=AB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=HB;break;case ck:case lk:case uk:ae=DB;break;case dk:ae=WB;break;case"scroll":case"scrollend":ae=EB;break;case"wheel":ae=JB;break;case"copy":case"cut":case"paste":ae=NB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Vx;break;case"toggle":case"beforetoggle":ae=KB}var Ne=(c&4)!==0,St=!Ne&&(a==="scroll"||a==="scrollend"),X=Ne?ie!==null?ie+"Capture":null:ie;Ne=[];for(var G=ne,ee;G!==null;){var le=G;if(ee=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||ee===null||X===null||(le=nu(G,X),le!=null&&Ne.push(ju(G,le,ee))),St)break;G=G.return}0<Ne.length&&(ie=new ae(ie,xe,null,d,ce),de.push({event:ie,listeners:Ne}))}}if((c&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ie&&d!==ov&&(xe=d.relatedTarget||d.fromElement)&&(dc(xe)||xe[uc]))break e;if((ae||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(xe=d.relatedTarget||d.toElement,ae=ne,xe=xe?dc(xe):null,xe!==null&&(St=s(xe),Ne=xe.tag,xe!==St||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(ae=null,xe=ne),ae!==xe)){if(Ne=Fx,le="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Vx,le="onPointerLeave",X="onPointerEnter",G="pointer"),St=ae==null?ie:tu(ae),ee=xe==null?ie:tu(xe),ie=new Ne(le,G+"leave",ae,d,ce),ie.target=St,ie.relatedTarget=ee,le=null,dc(ce)===ne&&(Ne=new Ne(X,G+"enter",xe,d,ce),Ne.target=ee,Ne.relatedTarget=St,le=Ne),St=le,ae&&xe)t:{for(Ne=Y$,X=ae,G=xe,ee=0,le=X;le;le=Ne(le))ee++;le=0;for(var De=G;De;De=Ne(De))le++;for(;0<ee-le;)X=Ne(X),ee--;for(;0<le-ee;)G=Ne(G),le--;for(;ee--;){if(X===G||G!==null&&X===G.alternate){Ne=X;break t}X=Ne(X),G=Ne(G)}Ne=null}else Ne=null;ae!==null&&NC(de,ie,ae,Ne,!1),xe!==null&&St!==null&&NC(de,St,xe,Ne,!0)}}e:{if(ie=ne?tu(ne):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var ut=Xx;else if(Yx(ie))if(Qx)ut=a$;else{ut=r$;var Ee=i$}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&av(ne.elementType)&&(ut=Xx):ut=s$;if(ut&&(ut=ut(a,ne))){Kx(de,ut,d,ce);break e}Ee&&Ee(a,ie,ne),a==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&sv(ie,"number",ie.value)}switch(Ee=ne?tu(ne):window,a){case"focusin":(Yx(Ee)||Ee.contentEditable==="true")&&(_c=Ee,_v=ne,uu=null);break;case"focusout":uu=_v=_c=null;break;case"mousedown":wv=!0;break;case"contextmenu":case"mouseup":case"dragend":wv=!1,ak(de,d,ce);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":ak(de,d,ce)}var Ue;if(gv)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else bc?Gx(a,d)&&(Ze="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ze="onCompositionStart");Ze&&(Hx&&d.locale!=="ko"&&(bc||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&bc&&(Ue=$x()):(Rs=ce,dv="value"in Rs?Rs.value:Rs.textContent,bc=!0)),Ee=yh(ne,Ze),0<Ee.length&&(Ze=new Ux(Ze,a,null,d,ce),de.push({event:Ze,listeners:Ee}),Ue?Ze.data=Ue:(Ue=Jx(d),Ue!==null&&(Ze.data=Ue)))),(Ue=QB?ZB(a,d):e$(a,d))&&(Ze=yh(ne,"onBeforeInput"),0<Ze.length&&(Ee=new Ux("onBeforeInput","beforeinput",null,d,ce),de.push({event:Ee,listeners:Ze}),Ee.data=Ue)),q$(de,a,ne,d,ce)}DC(de,c)})}function ju(a,c,d){return{instance:a,listener:c,currentTarget:d}}function yh(a,c){for(var d=c+"Capture",m=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=nu(a,d),y!=null&&m.unshift(ju(a,y,x)),y=nu(a,c),y!=null&&m.push(ju(a,y,x))),a.tag===3)return m;a=a.return}return[]}function Y$(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function NC(a,c,d,m,y){for(var x=c._reactName,R=[];d!==null&&d!==m;){var $=d,q=$.alternate,ne=$.stateNode;if($=$.tag,q!==null&&q===m)break;$!==5&&$!==26&&$!==27||ne===null||(q=ne,y?(ne=nu(d,x),ne!=null&&R.unshift(ju(d,ne,q))):y||(ne=nu(d,x),ne!=null&&R.push(ju(d,ne,q)))),d=d.return}R.length!==0&&a.push({event:c,listeners:R})}var K$=/\r\n?/g,X$=/\u0000|\uFFFD/g;function jC(a){return(typeof a=="string"?a:""+a).replace(K$,`
`).replace(X$,"")}function LC(a,c){return c=jC(c),jC(a)===c}function wt(a,c,d,m,y,x){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||gc(a,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&gc(a,""+m);break;case"className":Sf(a,"class",m);break;case"tabIndex":Sf(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Sf(a,d,m);break;case"style":Lx(a,m,x);break;case"data":if(c!=="object"){Sf(a,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=kf(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(c!=="input"&&wt(a,c,"name",y.name,y,null),wt(a,c,"formEncType",y.formEncType,y,null),wt(a,c,"formMethod",y.formMethod,y,null),wt(a,c,"formTarget",y.formTarget,y,null)):(wt(a,c,"encType",y.encType,y,null),wt(a,c,"method",y.method,y,null),wt(a,c,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=kf(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Fr);break;case"onScroll":m!=null&&Ye("scroll",a);break;case"onScrollEnd":m!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=kf(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),wf(a,"popover",m);break;case"xlinkActuate":zr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":zr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":zr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":zr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":zr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":zr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":zr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":zr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":zr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":wf(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=CB.get(d)||d,wf(a,d,m))}}function Wy(a,c,d,m,y,x){switch(d){case"style":Lx(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof m=="string"?gc(a,m):(typeof m=="number"||typeof m=="bigint")&&gc(a,""+m);break;case"onScroll":m!=null&&Ye("scroll",a);break;case"onScrollEnd":m!=null&&Ye("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ex.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),c=d.slice(2,y?d.length-7:void 0),x=a[qn]||null,x=x!=null?x[d]:null,typeof x=="function"&&a.removeEventListener(c,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,m,y);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):wf(a,d,m)}}}function bn(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var m=!1,y=!1,x;for(x in d)if(d.hasOwnProperty(x)){var R=d[x];if(R!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:wt(a,c,x,R,d,null)}}y&&wt(a,c,"srcSet",d.srcSet,d,null),m&&wt(a,c,"src",d.src,d,null);return;case"input":Ye("invalid",a);var $=x=R=y=null,q=null,ne=null;for(m in d)if(d.hasOwnProperty(m)){var ce=d[m];if(ce!=null)switch(m){case"name":y=ce;break;case"type":R=ce;break;case"checked":q=ce;break;case"defaultChecked":ne=ce;break;case"value":x=ce;break;case"defaultValue":$=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,c));break;default:wt(a,c,m,ce,d,null)}}Dx(a,x,$,q,ne,R,y,!1);return;case"select":Ye("invalid",a),m=R=x=null;for(y in d)if(d.hasOwnProperty(y)&&($=d[y],$!=null))switch(y){case"value":x=$;break;case"defaultValue":R=$;break;case"multiple":m=$;default:wt(a,c,y,$,d,null)}c=x,d=R,a.multiple=!!m,c!=null?mc(a,!!m,c,!1):d!=null&&mc(a,!!m,d,!0);return;case"textarea":Ye("invalid",a),x=y=m=null;for(R in d)if(d.hasOwnProperty(R)&&($=d[R],$!=null))switch(R){case"value":m=$;break;case"defaultValue":y=$;break;case"children":x=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:wt(a,c,R,$,d,null)}Nx(a,m,y,x);return;case"option":for(q in d)if(d.hasOwnProperty(q)&&(m=d[q],m!=null))switch(q){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:wt(a,c,q,m,d,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(m=0;m<Nu.length;m++)Ye(Nu[m],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(m=d[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:wt(a,c,ne,m,d,null)}return;default:if(av(c)){for(ce in d)d.hasOwnProperty(ce)&&(m=d[ce],m!==void 0&&Wy(a,c,ce,m,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(m=d[$],m!=null&&wt(a,c,$,m,d,null))}function Q$(a,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,R=null,$=null,q=null,ne=null,ce=null;for(ae in d){var de=d[ae];if(d.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=de;default:m.hasOwnProperty(ae)||wt(a,c,ae,null,m,de)}}for(var ie in m){var ae=m[ie];if(de=d[ie],m.hasOwnProperty(ie)&&(ae!=null||de!=null))switch(ie){case"type":x=ae;break;case"name":y=ae;break;case"checked":ne=ae;break;case"defaultChecked":ce=ae;break;case"value":R=ae;break;case"defaultValue":$=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,c));break;default:ae!==de&&wt(a,c,ie,ae,m,de)}}rv(a,R,$,q,ne,ce,x,y);return;case"select":ae=R=$=ie=null;for(x in d)if(q=d[x],d.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":ae=q;default:m.hasOwnProperty(x)||wt(a,c,x,null,m,q)}for(y in m)if(x=m[y],q=d[y],m.hasOwnProperty(y)&&(x!=null||q!=null))switch(y){case"value":ie=x;break;case"defaultValue":$=x;break;case"multiple":R=x;default:x!==q&&wt(a,c,y,x,m,q)}c=$,d=R,m=ae,ie!=null?mc(a,!!d,ie,!1):!!m!=!!d&&(c!=null?mc(a,!!d,c,!0):mc(a,!!d,d?[]:"",!1));return;case"textarea":ae=ie=null;for($ in d)if(y=d[$],d.hasOwnProperty($)&&y!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:wt(a,c,$,null,m,y)}for(R in m)if(y=m[R],x=d[R],m.hasOwnProperty(R)&&(y!=null||x!=null))switch(R){case"value":ie=y;break;case"defaultValue":ae=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&wt(a,c,R,y,m,x)}Px(a,ie,ae);return;case"option":for(var xe in d)if(ie=d[xe],d.hasOwnProperty(xe)&&ie!=null&&!m.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:wt(a,c,xe,null,m,ie)}for(q in m)if(ie=m[q],ae=d[q],m.hasOwnProperty(q)&&ie!==ae&&(ie!=null||ae!=null))switch(q){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:wt(a,c,q,ie,m,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in d)ie=d[Ne],d.hasOwnProperty(Ne)&&ie!=null&&!m.hasOwnProperty(Ne)&&wt(a,c,Ne,null,m,ie);for(ne in m)if(ie=m[ne],ae=d[ne],m.hasOwnProperty(ne)&&ie!==ae&&(ie!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,c));break;default:wt(a,c,ne,ie,m,ae)}return;default:if(av(c)){for(var St in d)ie=d[St],d.hasOwnProperty(St)&&ie!==void 0&&!m.hasOwnProperty(St)&&Wy(a,c,St,void 0,m,ie);for(ce in m)ie=m[ce],ae=d[ce],!m.hasOwnProperty(ce)||ie===ae||ie===void 0&&ae===void 0||Wy(a,c,ce,ie,m,ae);return}}for(var X in d)ie=d[X],d.hasOwnProperty(X)&&ie!=null&&!m.hasOwnProperty(X)&&wt(a,c,X,null,m,ie);for(de in m)ie=m[de],ae=d[de],!m.hasOwnProperty(de)||ie===ae||ie==null&&ae==null||wt(a,c,de,ie,m,ae)}function IC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z$(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var y=d[m],x=y.transferSize,R=y.initiatorType,$=y.duration;if(x&&$&&IC(R)){for(R=0,$=y.responseEnd,m+=1;m<d.length;m++){var q=d[m],ne=q.startTime;if(ne>$)break;var ce=q.transferSize,de=q.initiatorType;ce&&IC(de)&&(q=q.responseEnd,R+=ce*(q<$?1:($-ne)/(q-ne)))}if(--m,c+=8*(x+R)/(y.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Gy=null,Jy=null;function bh(a){return a.nodeType===9?a:a.ownerDocument}function BC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Yy(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ky=null;function ez(){var a=window.event;return a&&a.type==="popstate"?a===Ky?!1:(Ky=a,!0):(Ky=null,!1)}var zC=typeof setTimeout=="function"?setTimeout:void 0,tz=typeof clearTimeout=="function"?clearTimeout:void 0,FC=typeof Promise=="function"?Promise:void 0,nz=typeof queueMicrotask=="function"?queueMicrotask:typeof FC<"u"?function(a){return FC.resolve(null).then(a).catch(iz)}:zC;function iz(a){setTimeout(function(){throw a})}function Js(a){return a==="head"}function UC(a,c){var d=c,m=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(y),Gc(c);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Lu(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Lu(d);for(var x=d.firstChild;x;){var R=x.nextSibling,$=x.nodeName;x[eu]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=R}}else d==="body"&&Lu(a.ownerDocument.body);d=y}while(d);Gc(c)}function VC(a,c){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function Xy(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Xy(d),nv(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function rz(a,c,d,m){for(;a.nodeType===1;){var y=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[eu])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function sz(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Di(a.nextSibling),a===null))return null;return a}function HC(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Di(a.nextSibling),a===null))return null;return a}function Qy(a){return a.data==="$?"||a.data==="$~"}function Zy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function az(a,c){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||d.readyState!=="loading")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Di(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var eb=null;function qC(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(c===0)return Di(a.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}a=a.nextSibling}return null}function WC(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return a;c--}else d!=="/$"&&d!=="/&"||c++}a=a.previousSibling}return null}function GC(a,c,d){switch(c=bh(d),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Lu(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);nv(a)}var Pi=new Map,JC=new Set;function _h(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var is=te.d;te.d={f:oz,r:cz,D:lz,C:uz,L:dz,m:fz,X:pz,S:hz,M:mz};function oz(){var a=is.f(),c=dh();return a||c}function cz(a){var c=fc(a);c!==null&&c.tag===5&&c.type==="form"?d1(c):is.r(a)}var Hc=typeof document>"u"?null:document;function YC(a,c,d){var m=Hc;if(m&&typeof c=="string"&&c){var y=Ci(c);y='link[rel="'+a+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),JC.has(y)||(JC.add(y),a={rel:a,crossOrigin:d,href:c},m.querySelector(y)===null&&(c=m.createElement("link"),bn(c,"link",a),on(c),m.head.appendChild(c)))}}function lz(a){is.D(a),YC("dns-prefetch",a,null)}function uz(a,c){is.C(a,c),YC("preconnect",a,c)}function dz(a,c,d){is.L(a,c,d);var m=Hc;if(m&&a&&c){var y='link[rel="preload"][as="'+Ci(c)+'"]';c==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+Ci(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+Ci(d.imageSizes)+'"]')):y+='[href="'+Ci(a)+'"]';var x=y;switch(c){case"style":x=qc(a);break;case"script":x=Wc(a)}Pi.has(x)||(a=g({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),Pi.set(x,a),m.querySelector(y)!==null||c==="style"&&m.querySelector(Iu(x))||c==="script"&&m.querySelector(Bu(x))||(c=m.createElement("link"),bn(c,"link",a),on(c),m.head.appendChild(c)))}}function fz(a,c){is.m(a,c);var d=Hc;if(d&&a){var m=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+Ci(m)+'"][href="'+Ci(a)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Wc(a)}if(!Pi.has(x)&&(a=g({rel:"modulepreload",href:a},c),Pi.set(x,a),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Bu(x)))return}m=d.createElement("link"),bn(m,"link",a),on(m),d.head.appendChild(m)}}}function hz(a,c,d){is.S(a,c,d);var m=Hc;if(m&&a){var y=hc(m).hoistableStyles,x=qc(a);c=c||"default";var R=y.get(x);if(!R){var $={loading:0,preload:null};if(R=m.querySelector(Iu(x)))$.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":c},d),(d=Pi.get(x))&&tb(a,d);var q=R=m.createElement("link");on(q),bn(q,"link",a),q._p=new Promise(function(ne,ce){q.onload=ne,q.onerror=ce}),q.addEventListener("load",function(){$.loading|=1}),q.addEventListener("error",function(){$.loading|=2}),$.loading|=4,wh(R,c,m)}R={type:"stylesheet",instance:R,count:1,state:$},y.set(x,R)}}}function pz(a,c){is.X(a,c);var d=Hc;if(d&&a){var m=hc(d).hoistableScripts,y=Wc(a),x=m.get(y);x||(x=d.querySelector(Bu(y)),x||(a=g({src:a,async:!0},c),(c=Pi.get(y))&&nb(a,c),x=d.createElement("script"),on(x),bn(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function mz(a,c){is.M(a,c);var d=Hc;if(d&&a){var m=hc(d).hoistableScripts,y=Wc(a),x=m.get(y);x||(x=d.querySelector(Bu(y)),x||(a=g({src:a,async:!0,type:"module"},c),(c=Pi.get(y))&&nb(a,c),x=d.createElement("script"),on(x),bn(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function KC(a,c,d,m){var y=(y=O.current)?_h(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=qc(d.href),d=hc(y).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=qc(d.href);var x=hc(y).hoistableStyles,R=x.get(a);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,R),(x=y.querySelector(Iu(a)))&&!x._p&&(R.instance=x,R.state.loading=5),Pi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Pi.set(a,d),x||gz(y,a,d,R.state))),c&&m===null)throw Error(i(528,""));return R}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wc(d),d=hc(y).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function qc(a){return'href="'+Ci(a)+'"'}function Iu(a){return'link[rel="stylesheet"]['+a+"]"}function XC(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function gz(a,c,d,m){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=a.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),bn(c,"link",d),on(c),a.head.appendChild(c))}function Wc(a){return'[src="'+Ci(a)+'"]'}function Bu(a){return"script[async]"+a}function QC(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=a.querySelector('style[data-href~="'+Ci(d.href)+'"]');if(m)return c.instance=m,on(m),m;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),on(m),bn(m,"style",y),wh(m,d.precedence,a),c.instance=m;case"stylesheet":y=qc(d.href);var x=a.querySelector(Iu(y));if(x)return c.state.loading|=4,c.instance=x,on(x),x;m=XC(d),(y=Pi.get(y))&&tb(m,y),x=(a.ownerDocument||a).createElement("link"),on(x);var R=x;return R._p=new Promise(function($,q){R.onload=$,R.onerror=q}),bn(x,"link",m),c.state.loading|=4,wh(x,d.precedence,a),c.instance=x;case"script":return x=Wc(d.src),(y=a.querySelector(Bu(x)))?(c.instance=y,on(y),y):(m=d,(y=Pi.get(x))&&(m=g({},d),nb(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),on(y),bn(y,"link",m),a.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,wh(m,d.precedence,a));return c.instance}function wh(a,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,R=0;R<m.length;R++){var $=m[R];if($.dataset.precedence===c)x=$;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function tb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function nb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Sh=null;function ZC(a,c,d){if(Sh===null){var m=new Map,y=Sh=new Map;y.set(d,m)}else y=Sh,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),y=0;y<d.length;y++){var x=d[y];if(!(x[eu]||x[mn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var R=x.getAttribute(c)||"";R=a+R;var $=m.get(R);$?$.push(x):m.set(R,[x])}}return m}function eM(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function vz(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function tM(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function yz(a,c,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=qc(m.href),x=c.querySelector(Iu(y));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=xh.bind(a),c.then(a,a)),d.state.loading|=4,d.instance=x,on(x);return}x=c.ownerDocument||c,m=XC(m),(y=Pi.get(y))&&tb(m,y),x=x.createElement("link"),on(x);var R=x;R._p=new Promise(function($,q){R.onload=$,R.onerror=q}),bn(x,"link",m),d.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=xh.bind(a),c.addEventListener("load",d),c.addEventListener("error",d))}}var ib=0;function bz(a,c){return a.stylesheets&&a.count===0&&Ch(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Ch(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+c);0<a.imgBytes&&ib===0&&(ib=62500*Z$());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ch(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>ib?50:800)+c);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var kh=null;function Ch(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,kh=new Map,c.forEach(_z,a),kh=null,xh.call(a))}function _z(a,c){if(!(c.state.loading&4)){var d=kh.get(a);if(d)var m=d.get(null);else{d=new Map,kh.set(a,d);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var R=y[x];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),m=R)}m&&d.set(null,m)}y=c.instance,R=y.getAttribute("data-precedence"),x=d.get(R)||m,x===m&&d.set(null,y),d.set(R,y),this.count++,m=xh.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),c.state.loading|=4}}var $u={$$typeof:P,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function wz(a,c,d,m,y,x,R,$,q){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.hiddenUpdates=Qg(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function nM(a,c,d,m,y,x,R,$,q,ne,ce,de){return a=new wz(a,c,d,R,q,ne,ce,de,$),c=1,x===!0&&(c|=24),x=si(3,null,null,c),a.current=x,x.stateNode=a,c=Lv(),c.refCount++,a.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:d,cache:c},zv(x),a}function iM(a){return a?(a=xc,a):xc}function rM(a,c,d,m,y,x){y=iM(y),m.context===null?m.context=y:m.pendingContext=y,m=Is(c),m.payload={element:d},x=x===void 0?null:x,x!==null&&(m.callback=x),d=Bs(a,m,c),d!==null&&(Xn(d,a,c),vu(d,a,c))}function sM(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function rb(a,c){sM(a,c),(a=a.alternate)&&sM(a,c)}function aM(a){if(a.tag===13||a.tag===31){var c=Ha(a,67108864);c!==null&&Xn(c,a,67108864),rb(a,67108864)}}function oM(a){if(a.tag===13||a.tag===31){var c=ui();c=Zg(c);var d=Ha(a,c);d!==null&&Xn(d,a,c),rb(a,c)}}var Mh=!0;function Sz(a,c,d,m){var y=H.T;H.T=null;var x=te.p;try{te.p=2,sb(a,c,d,m)}finally{te.p=x,H.T=y}}function xz(a,c,d,m){var y=H.T;H.T=null;var x=te.p;try{te.p=8,sb(a,c,d,m)}finally{te.p=x,H.T=y}}function sb(a,c,d,m){if(Mh){var y=ab(m);if(y===null)qy(a,c,m,Eh,d),lM(a,m);else if(Cz(y,a,c,d,m))m.stopPropagation();else if(lM(a,m),c&4&&-1<kz.indexOf(a)){for(;y!==null;){var x=fc(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var R=$a(x.pendingLanes);if(R!==0){var $=x;for($.pendingLanes|=2,$.entangledLanes|=2;R;){var q=1<<31-ii(R);$.entanglements[1]|=q,R&=~q}vr(x),(ft&6)===0&&(lh=zt()+500,Pu(0))}}break;case 31:case 13:$=Ha(x,2),$!==null&&Xn($,x,2),dh(),rb(x,2)}if(x=ab(m),x===null&&qy(a,c,m,Eh,d),x===y)break;y=x}y!==null&&m.stopPropagation()}else qy(a,c,m,null,d)}}function ab(a){return a=cv(a),ob(a)}var Eh=null;function ob(a){if(Eh=null,a=dc(a),a!==null){var c=s(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=o(c),a!==null)return a;a=null}else if(d===31){if(a=l(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Eh=a,null}function cM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kl()){case lc:return 2;case vx:return 8;case gf:case uB:return 32;case yx:return 268435456;default:return 32}default:return 32}}var cb=!1,Ys=null,Ks=null,Xs=null,zu=new Map,Fu=new Map,Qs=[],kz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lM(a,c){switch(a){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":zu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(c.pointerId)}}function Uu(a,c,d,m,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},c!==null&&(c=fc(c),c!==null&&aM(c)),a):(a.eventSystemFlags|=m,c=a.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),a)}function Cz(a,c,d,m,y){switch(c){case"focusin":return Ys=Uu(Ys,a,c,d,m,y),!0;case"dragenter":return Ks=Uu(Ks,a,c,d,m,y),!0;case"mouseover":return Xs=Uu(Xs,a,c,d,m,y),!0;case"pointerover":var x=y.pointerId;return zu.set(x,Uu(zu.get(x)||null,a,c,d,m,y)),!0;case"gotpointercapture":return x=y.pointerId,Fu.set(x,Uu(Fu.get(x)||null,a,c,d,m,y)),!0}return!1}function uM(a){var c=dc(a.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){a.blockedOn=c,kx(a.priority,function(){oM(d)});return}}else if(c===31){if(c=l(d),c!==null){a.blockedOn=c,kx(a.priority,function(){oM(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Th(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=ab(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);ov=m,d.target.dispatchEvent(m),ov=null}else return c=fc(d),c!==null&&aM(c),a.blockedOn=d,!1;c.shift()}return!0}function dM(a,c,d){Th(a)&&d.delete(c)}function Mz(){cb=!1,Ys!==null&&Th(Ys)&&(Ys=null),Ks!==null&&Th(Ks)&&(Ks=null),Xs!==null&&Th(Xs)&&(Xs=null),zu.forEach(dM),Fu.forEach(dM)}function Ah(a,c){a.blockedOn===c&&(a.blockedOn=null,cb||(cb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Mz)))}var Oh=null;function fM(a){Oh!==a&&(Oh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Oh===a&&(Oh=null);for(var c=0;c<a.length;c+=3){var d=a[c],m=a[c+1],y=a[c+2];if(typeof m!="function"){if(ob(m||d)===null)continue;break}var x=fc(d);x!==null&&(a.splice(c,3),c-=3,ay(x,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function Gc(a){function c(q){return Ah(q,a)}Ys!==null&&Ah(Ys,a),Ks!==null&&Ah(Ks,a),Xs!==null&&Ah(Xs,a),zu.forEach(c),Fu.forEach(c);for(var d=0;d<Qs.length;d++){var m=Qs[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Qs.length&&(d=Qs[0],d.blockedOn===null);)uM(d),d.blockedOn===null&&Qs.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],x=d[m+1],R=y[qn]||null;if(typeof x=="function")R||fM(d);else if(R){var $=null;if(x&&x.hasAttribute("formAction")){if(y=x,R=x[qn]||null)$=R.formAction;else if(ob(y)!==null)continue}else $=R.action;typeof $=="function"?d[m+1]=$:(d.splice(m,3),m-=3),fM(d)}}}function hM(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function c(){y!==null&&(y(),y=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),y!==null&&(y(),y=null)}}}function lb(a){this._internalRoot=a}Rh.prototype.render=lb.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var d=c.current,m=ui();rM(d,m,a,c,null,null)},Rh.prototype.unmount=lb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;rM(a.current,2,null,a,null,null),dh(),c[uc]=null}};function Rh(a){this._internalRoot=a}Rh.prototype.unstable_scheduleHydration=function(a){if(a){var c=xx();a={blockedOn:null,target:a,priority:c};for(var d=0;d<Qs.length&&c!==0&&c<Qs[d].priority;d++);Qs.splice(d,0,a),d===0&&uM(a)}};var pM=e.version;if(pM!=="19.2.1")throw Error(i(527,pM,"19.2.1"));te.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(c),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var Ez={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{Xl=Dh.inject(Ez),ni=Dh}catch{}}return Gu.createRoot=function(a,c){if(!r(a))throw Error(i(299));var d=!1,m="",y=w1,x=S1,R=x1;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=nM(a,1,!1,null,null,d,m,null,y,x,R,hM),a[uc]=c.current,Hy(a),new lb(c)},Gu.hydrateRoot=function(a,c,d){if(!r(a))throw Error(i(299));var m=!1,y="",x=w1,R=S1,$=x1,q=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),c=nM(a,1,!0,c,d??null,m,y,q,x,R,$,hM),c.context=iM(null),d=c.current,m=ui(),m=Zg(m),y=Is(m),y.callback=null,Bs(d,y,m),d=m,c.current.lanes=d,Zl(c,d),vr(c),a[uc]=c.current,Hy(a),new Rh(c)},Gu.version="19.2.1",Gu}var LT;function hU(){if(LT)return Ib.exports;LT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ib.exports=fU(),Ib.exports}var pU=hU();const mU="modulepreload",gU=function(t){return"/AstraVoiceTest/"+t},IT={},BT=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(f=>{if(f=gU(f),f in IT)return;IT[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":mU,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((S,k)=>{v.addEventListener("load",S),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function RP(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=RP(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function DP(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=RP(t))&&(i&&(i+=" "),i+=e);return i}const vU=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},yU=(t,e)=>({classGroupId:t,validator:e}),PP=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ym="-",$T=[],bU="arbitrary..",_U=t=>{const e=SU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return wU(o);const l=o.split(ym),u=l[0]===""&&l.length>1?1:0;return NP(l,u,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=i[o],f=n[o];return u?f?vU(f,u):u:f||$T}return n[o]||$T}}},NP=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const r=t[e],s=n.nextPart.get(r);if(s){const f=NP(t,e+1,s);if(f)return f}const o=n.validators;if(o===null)return;const l=e===0?t.join(ym):t.slice(e).join(ym),u=o.length;for(let f=0;f<u;f++){const p=o[f];if(p.validator(l))return p.classGroupId}},wU=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?bU+i:void 0})(),SU=t=>{const{theme:e,classGroups:n}=t;return xU(n,e)},xU=(t,e)=>{const n=PP();for(const i in t){const r=t[i];cS(r,n,i,e)}return n},cS=(t,e,n,i)=>{const r=t.length;for(let s=0;s<r;s++){const o=t[s];kU(o,e,n,i)}},kU=(t,e,n,i)=>{if(typeof t=="string"){CU(t,e,n);return}if(typeof t=="function"){MU(t,e,n,i);return}EU(t,e,n,i)},CU=(t,e,n)=>{const i=t===""?e:jP(e,t);i.classGroupId=n},MU=(t,e,n,i)=>{if(TU(t)){cS(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(yU(n,t))},EU=(t,e,n,i)=>{const r=Object.entries(t),s=r.length;for(let o=0;o<s;o++){const[l,u]=r[o];cS(u,jP(e,l),n,i)}},jP=(t,e)=>{let n=t;const i=e.split(ym),r=i.length;for(let s=0;s<r;s++){const o=i[s];let l=n.nextPart.get(o);l||(l=PP(),n.nextPart.set(o,l)),n=l}return n},TU=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,AU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const r=(s,o)=>{n[s]=o,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=i[s])!==void 0)return r(s,o),o},set(s,o){s in n?n[s]=o:r(s,o)}}},C_="!",zT=":",OU=[],FT=(t,e,n,i,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:r}),RU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=r=>{const s=[];let o=0,l=0,u=0,f;const p=r.length;for(let w=0;w<p;w++){const C=r[w];if(o===0&&l===0){if(C===zT){s.push(r.slice(u,w)),u=w+1;continue}if(C==="/"){f=w;continue}}C==="["?o++:C==="]"?o--:C==="("?l++:C===")"&&l--}const g=s.length===0?r:r.slice(u);let v=g,S=!1;g.endsWith(C_)?(v=g.slice(0,-1),S=!0):g.startsWith(C_)&&(v=g.slice(1),S=!0);const k=f&&f>u?f-u:void 0;return FT(s,S,v,k)};if(e){const r=e+zT,s=i;i=o=>o.startsWith(r)?s(o.slice(r.length)):FT(OU,!1,o,void 0,!0)}if(n){const r=i;i=s=>n({className:s,parseClassName:r})}return i},DU=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let r=[];for(let s=0;s<n.length;s++){const o=n[s],l=o[0]==="[",u=e.has(o);l||u?(r.length>0&&(r.sort(),i.push(...r),r=[]),i.push(o)):r.push(o)}return r.length>0&&(r.sort(),i.push(...r)),i}},PU=t=>({cache:AU(t.cacheSize),parseClassName:RU(t),sortModifiers:DU(t),..._U(t)}),NU=/\s+/,jU=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],l=t.trim().split(NU);let u="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:w}=n(p);if(g){u=p+(u.length>0?" "+u:u);continue}let C=!!w,T=i(C?k.substring(0,w):k);if(!T){if(!C){u=p+(u.length>0?" "+u:u);continue}if(T=i(k),!T){u=p+(u.length>0?" "+u:u);continue}C=!1}const D=v.length===0?"":v.length===1?v[0]:s(v).join(":"),P=S?D+C_:D,j=P+T;if(o.indexOf(j)>-1)continue;o.push(j);const N=r(T,C);for(let B=0;B<N.length;++B){const L=N[B];o.push(P+L)}u=p+(u.length>0?" "+u:u)}return u},LU=(...t)=>{let e=0,n,i,r="";for(;e<t.length;)(n=t[e++])&&(i=LP(n))&&(r&&(r+=" "),r+=i);return r},LP=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=LP(t[i]))&&(n&&(n+=" "),n+=e);return n},UT=(t,...e)=>{let n,i,r,s;const o=u=>{const f=e.reduce((p,g)=>g(p),t());return n=PU(f),i=n.cache.get,r=n.cache.set,s=l,l(u)},l=u=>{const f=i(u);if(f)return f;const p=jU(u,n);return r(u,p),p};return s=o,(...u)=>s(LU(...u))},IU=[],sn=t=>{const e=n=>n[t]||IU;return e.isThemeGetter=!0,e},IP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BU=/^\d+\/\d+$/,$U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yc=t=>BU.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),ra=t=>!!t&&Number.isInteger(Number(t)),Fb=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),rs=t=>$U.test(t),HU=()=>!0,qU=t=>zU.test(t)&&!FU.test(t),$P=()=>!1,WU=t=>UU.test(t),GU=t=>VU.test(t),JU=t=>!Ce(t)&&!Me(t),YU=t=>Ul(t,UP,$P),Ce=t=>IP.test(t),lo=t=>Ul(t,VP,qU),Ub=t=>Ul(t,eV,Ge),VT=t=>Ul(t,zP,$P),KU=t=>Ul(t,FP,GU),Zh=t=>Ul(t,HP,WU),Me=t=>BP.test(t),Ju=t=>Vl(t,VP),XU=t=>Vl(t,tV),HT=t=>Vl(t,zP),QU=t=>Vl(t,UP),ZU=t=>Vl(t,FP),ep=t=>Vl(t,HP,!0),Ul=(t,e,n)=>{const i=IP.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Vl=(t,e,n=!1)=>{const i=BP.exec(t);return i?i[1]?e(i[1]):n:!1},zP=t=>t==="position"||t==="percentage",FP=t=>t==="image"||t==="url",UP=t=>t==="length"||t==="size"||t==="bg-size",VP=t=>t==="length",eV=t=>t==="number",tV=t=>t==="family-name",HP=t=>t==="shadow",qT=()=>{const t=sn("color"),e=sn("font"),n=sn("text"),i=sn("font-weight"),r=sn("tracking"),s=sn("leading"),o=sn("breakpoint"),l=sn("container"),u=sn("spacing"),f=sn("radius"),p=sn("shadow"),g=sn("inset-shadow"),v=sn("text-shadow"),S=sn("drop-shadow"),k=sn("blur"),w=sn("perspective"),C=sn("aspect"),T=sn("ease"),D=sn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),Me,Ce],B=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],z=()=>[Me,Ce,u],W=()=>[Yc,"full","auto",...z()],J=()=>[ra,"none","subgrid",Me,Ce],Z=()=>["auto",{span:["full",ra,Me,Ce]},ra,Me,Ce],re=()=>[ra,"auto",Me,Ce],ye=()=>["auto","min","max","fr",Me,Ce],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...z()],te=()=>[Yc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],Y=()=>[t,Me,Ce],se=()=>[...j(),HT,VT,{position:[Me,Ce]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",QU,YU,{size:[Me,Ce]}],Q=()=>[Fb,Ju,lo],h=()=>["","none","full",f,Me,Ce],b=()=>["",Ge,Ju,lo],_=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>[Ge,Fb,HT,VT],I=()=>["","none",k,Me,Ce],F=()=>["none",Ge,Me,Ce],U=()=>["none",Ge,Me,Ce],K=()=>[Ge,Me,Ce],oe=()=>[Yc,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rs],breakpoint:[rs],color:[HU],container:[rs],"drop-shadow":[rs],ease:["in","out","in-out"],font:[JU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rs],shadow:[rs],spacing:["px",Ge],text:[rs],"text-shadow":[rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yc,Ce,Me,C]}],container:["container"],columns:[{columns:[Ge,Ce,Me,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[ra,"auto",Me,Ce]}],basis:[{basis:[Yc,"full","auto",l,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Yc,"auto","initial","none",Ce]}],grow:[{grow:["",Ge,Me,Ce]}],shrink:[{shrink:["",Ge,Me,Ce]}],order:[{order:[ra,"first","last","none",Me,Ce]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[l,"screen",...te()]}],"min-w":[{"min-w":[l,"screen","none",...te()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Ju,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Me,Ub]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fb,Ce]}],"font-family":[{font:[XU,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Me,Ce]}],"line-clamp":[{"line-clamp":[Ge,"none",Me,Ub]}],leading:[{leading:[s,...z()]}],"list-image":[{"list-image":["none",Me,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Me,lo]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ge,"auto",Me,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ra,Me,Ce],radial:["",Me,Ce],conic:[ra,Me,Ce]},ZU,KU]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:h()}],"rounded-s":[{"rounded-s":h()}],"rounded-e":[{"rounded-e":h()}],"rounded-t":[{"rounded-t":h()}],"rounded-r":[{"rounded-r":h()}],"rounded-b":[{"rounded-b":h()}],"rounded-l":[{"rounded-l":h()}],"rounded-ss":[{"rounded-ss":h()}],"rounded-se":[{"rounded-se":h()}],"rounded-ee":[{"rounded-ee":h()}],"rounded-es":[{"rounded-es":h()}],"rounded-tl":[{"rounded-tl":h()}],"rounded-tr":[{"rounded-tr":h()}],"rounded-br":[{"rounded-br":h()}],"rounded-bl":[{"rounded-bl":h()}],"border-w":[{border:b()}],"border-w-x":[{"border-x":b()}],"border-w-y":[{"border-y":b()}],"border-w-s":[{"border-s":b()}],"border-w-e":[{"border-e":b()}],"border-w-t":[{"border-t":b()}],"border-w-r":[{"border-r":b()}],"border-w-b":[{"border-b":b()}],"border-w-l":[{"border-l":b()}],"divide-x":[{"divide-x":b()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":b()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._(),"hidden","none"]}],"divide-style":[{divide:[..._(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[..._(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Me,Ce]}],"outline-w":[{outline:["",Ge,Ju,lo]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",p,ep,Zh]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",g,ep,Zh]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ge,lo]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":b()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",v,ep,Zh]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ge,Me,Ce]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":A()}],"mask-image-linear-to-pos":[{"mask-linear-to":A()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":A()}],"mask-image-t-to-pos":[{"mask-t-to":A()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":A()}],"mask-image-r-to-pos":[{"mask-r-to":A()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":A()}],"mask-image-b-to-pos":[{"mask-b-to":A()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":A()}],"mask-image-l-to-pos":[{"mask-l-to":A()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":A()}],"mask-image-x-to-pos":[{"mask-x-to":A()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":A()}],"mask-image-y-to-pos":[{"mask-y-to":A()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Me,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":A()}],"mask-image-radial-to-pos":[{"mask-radial-to":A()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":A()}],"mask-image-conic-to-pos":[{"mask-conic-to":A()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Ce]}],filter:[{filter:["","none",Me,Ce]}],blur:[{blur:I()}],brightness:[{brightness:[Ge,Me,Ce]}],contrast:[{contrast:[Ge,Me,Ce]}],"drop-shadow":[{"drop-shadow":["","none",S,ep,Zh]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ge,Me,Ce]}],"hue-rotate":[{"hue-rotate":[Ge,Me,Ce]}],invert:[{invert:["",Ge,Me,Ce]}],saturate:[{saturate:[Ge,Me,Ce]}],sepia:[{sepia:["",Ge,Me,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Ce]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Me,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Me,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Me,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Me,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Me,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Me,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Me,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Me,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Me,Ce]}],ease:[{ease:["linear","initial",T,Me,Ce]}],delay:[{delay:[Ge,Me,Ce]}],animate:[{animate:["none",D,Me,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Me,Ce]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:F()}],"rotate-x":[{"rotate-x":F()}],"rotate-y":[{"rotate-y":F()}],"rotate-z":[{"rotate-z":F()}],scale:[{scale:U()}],"scale-x":[{"scale-x":U()}],"scale-y":[{"scale-y":U()}],"scale-z":[{"scale-z":U()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[Me,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Ce]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ge,Ju,lo,Ub]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nV=(t,{cacheSize:e,prefix:n,experimentalParseClassName:i,extend:r={},override:s={}})=>(od(t,"cacheSize",e),od(t,"prefix",n),od(t,"experimentalParseClassName",i),tp(t.theme,s.theme),tp(t.classGroups,s.classGroups),tp(t.conflictingClassGroups,s.conflictingClassGroups),tp(t.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),od(t,"orderSensitiveModifiers",s.orderSensitiveModifiers),np(t.theme,r.theme),np(t.classGroups,r.classGroups),np(t.conflictingClassGroups,r.conflictingClassGroups),np(t.conflictingClassGroupModifiers,r.conflictingClassGroupModifiers),qP(t,r,"orderSensitiveModifiers"),t),od=(t,e,n)=>{n!==void 0&&(t[e]=n)},tp=(t,e)=>{if(e)for(const n in e)od(t,n,e[n])},np=(t,e)=>{if(e)for(const n in e)qP(t,e,n)},qP=(t,e,n)=>{const i=e[n];i!==void 0&&(t[n]=t[n]?t[n].concat(i):i)},iV=(t,...e)=>typeof t=="function"?UT(qT,t,...e):UT(()=>nV(qT(),t),...e),bs={BASE_URL:"/AstraVoiceTest/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function WP(t){return"init"in t}function M_(t){return!!t.write}function WT(t){return"v"in t||"e"in t}function bm(t){if("e"in t)throw t.e;if((bs?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v}const _m=new WeakMap;function GP(t){var e;return wm(t)&&!!((e=_m.get(t))!=null&&e[0])}function rV(t){const e=_m.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))}function E_(t,e){let n=_m.get(t);if(!n){n=[!0,new Set],_m.set(t,n);const i=()=>{n[0]=!1};t.then(i,i)}n[1].add(e)}function wm(t){return typeof(t==null?void 0:t.then)=="function"}function JP(t,e,n){if(!n.p.has(t)){n.p.add(t);const i=()=>n.p.delete(t);e.then(i,i)}}function YP(t,e,n){var i;const r=new Set;for(const s of((i=n.get(t))==null?void 0:i.t)||[])n.has(s)&&r.add(s);for(const s of e.p)r.add(s);return r}const sV=(t,e,...n)=>e.read(...n),aV=(t,e,...n)=>e.write(...n),oV=(t,e)=>{var n;return(n=e.unstable_onInit)==null?void 0:n.call(e,t)},cV=(t,e,n)=>{var i;return(i=e.onMount)==null?void 0:i.call(e,n)},lV=(t,e)=>{var n;const i=Rn(t),r=i[0],s=i[6],o=i[9];if((bs?"production":void 0)!=="production"&&!e)throw new Error("Atom is undefined or null");let l=r.get(e);return l||(l={d:new Map,p:new Set,n:0},r.set(e,l),(n=s.i)==null||n.call(s,e),o==null||o(t,e)),l},uV=t=>{const e=Rn(t),n=e[1],i=e[3],r=e[4],s=e[5],o=e[6],l=e[13],u=[],f=p=>{try{p()}catch(g){u.push(g)}};do{o.f&&f(o.f);const p=new Set,g=p.add.bind(p);i.forEach(v=>{var S;return(S=n.get(v))==null?void 0:S.l.forEach(g)}),i.clear(),s.forEach(g),s.clear(),r.forEach(g),r.clear(),p.forEach(f),i.size&&l(t)}while(i.size||s.size||r.size);if(u.length)throw new AggregateError(u)},dV=t=>{const e=Rn(t),n=e[1],i=e[2],r=e[3],s=e[11],o=e[14],l=e[17],u=[],f=new WeakSet,p=new WeakSet,g=Array.from(r);for(;g.length;){const v=g[g.length-1],S=s(t,v);if(p.has(v)){g.pop();continue}if(f.has(v)){if(i.get(v)===S.n)u.push([v,S]);else if((bs?"production":void 0)!=="production"&&i.has(v))throw new Error("[Bug] invalidated atom exists");p.add(v),g.pop();continue}f.add(v);for(const k of YP(v,S,n))f.has(k)||g.push(k)}for(let v=u.length-1;v>=0;--v){const[S,k]=u[v];let w=!1;for(const C of k.d.keys())if(C!==S&&r.has(C)){w=!0;break}w&&(o(t,S),l(t,S)),i.delete(S)}},T_=new WeakSet,fV=(t,e)=>{var n,i;const r=Rn(t),s=r[1],o=r[2],l=r[3],u=r[6],f=r[7],p=r[11],g=r[12],v=r[13],S=r[14],k=r[16],w=r[17],C=p(t,e);if(WT(C)&&(s.has(e)&&o.get(e)!==C.n||Array.from(C.d).every(([z,W])=>S(t,z).n===W)))return C;C.d.clear();let T=!0;function D(){s.has(e)&&(w(t,e),v(t),g(t))}function P(z){var W;if(z===e){const Z=p(t,z);if(!WT(Z))if(WP(z))Sm(t,z,z.init);else throw new Error("no atom init");return bm(Z)}const J=S(t,z);try{return bm(J)}finally{C.d.set(z,J.n),GP(C.v)&&JP(e,C.v,J),(W=s.get(z))==null||W.t.add(e),T||D()}}let j,N;const B={get signal(){return j||(j=new AbortController),j.signal},get setSelf(){return(bs?"production":void 0)!=="production"&&!M_(e)&&console.warn("setSelf function cannot be used with read-only atom"),!N&&M_(e)&&(N=(...z)=>{if((bs?"production":void 0)!=="production"&&T&&console.warn("setSelf function cannot be called in sync"),!T)try{return k(t,e,...z)}finally{v(t),g(t)}}),N}},L=C.n;try{(bs?"production":void 0)!=="production"&&T_.delete(t);const z=f(t,e,P,B);return(bs?"production":void 0)!=="production"&&T_.has(t)&&console.warn("Detected store mutation during atom read. This is not supported."),Sm(t,e,z),wm(z)&&(E_(z,()=>j==null?void 0:j.abort()),z.then(D,D)),(n=u.r)==null||n.call(u,e),C}catch(z){return delete C.v,C.e=z,++C.n,C}finally{T=!1,L!==C.n&&o.get(e)===L&&(o.set(e,C.n),l.add(e),(i=u.c)==null||i.call(u,e))}},hV=(t,e)=>{const n=Rn(t),i=n[1],r=n[2],s=n[11],o=[e];for(;o.length;){const l=o.pop(),u=s(t,l);for(const f of YP(l,u,i)){const p=s(t,f);r.set(f,p.n),o.push(f)}}},KP=(t,e,...n)=>{const i=Rn(t),r=i[3],s=i[6],o=i[8],l=i[11],u=i[12],f=i[13],p=i[14],g=i[15],v=i[17];let S=!0;const k=C=>bm(p(t,C)),w=(C,...T)=>{var D;const P=l(t,C);try{if(C===e){if(!WP(C))throw new Error("atom not writable");(bs?"production":void 0)!=="production"&&T_.add(t);const j=P.n,N=T[0];Sm(t,C,N),v(t,C),j!==P.n&&(r.add(C),(D=s.c)==null||D.call(s,C),g(t,C));return}else return KP(t,C,...T)}finally{S||(f(t),u(t))}};try{return o(t,e,k,w,...n)}finally{S=!1}},pV=(t,e)=>{var n;const i=Rn(t),r=i[1],s=i[3],o=i[6],l=i[11],u=i[15],f=i[18],p=i[19],g=l(t,e),v=r.get(e);if(v&&!GP(g.v)){for(const[S,k]of g.d)if(!v.d.has(S)){const w=l(t,S);f(t,S).t.add(e),v.d.add(S),k!==w.n&&(s.add(S),(n=o.c)==null||n.call(o,S),u(t,S))}for(const S of v.d||[])if(!g.d.has(S)){v.d.delete(S);const k=p(t,S);k==null||k.t.delete(e)}}},XP=(t,e)=>{var n;const i=Rn(t),r=i[1],s=i[4],o=i[6],l=i[10],u=i[11],f=i[12],p=i[13],g=i[14],v=i[16],S=u(t,e);let k=r.get(e);if(!k){g(t,e);for(const w of S.d.keys())XP(t,w).t.add(e);if(k={l:new Set,d:new Set(S.d.keys()),t:new Set},r.set(e,k),(n=o.m)==null||n.call(o,e),M_(e)){const w=()=>{let C=!0;const T=(...D)=>{try{return v(t,e,...D)}finally{C||(p(t),f(t))}};try{const D=l(t,e,T);D&&(k.u=()=>{C=!0;try{D()}finally{C=!1}})}finally{C=!1}};s.add(w)}}return k},mV=(t,e)=>{var n;const i=Rn(t),r=i[1],s=i[5],o=i[6],l=i[11],u=i[19],f=l(t,e);let p=r.get(e);if(p&&!p.l.size&&!Array.from(p.t).some(g=>{var v;return(v=r.get(g))==null?void 0:v.d.has(e)})){p.u&&s.add(p.u),p=void 0,r.delete(e),(n=o.u)==null||n.call(o,e);for(const g of f.d.keys()){const v=u(t,g);v==null||v.t.delete(e)}return}return p},Sm=(t,e,n)=>{const i=Rn(t)[11],r=i(t,e),s="v"in r,o=r.v;if(wm(n))for(const l of r.d.keys())JP(e,n,i(t,l));r.v=n,delete r.e,(!s||!Object.is(o,r.v))&&(++r.n,wm(o)&&rV(o))},gV=(t,e)=>{const n=Rn(t)[14];return bm(n(t,e))},vV=(t,e,...n)=>{const i=Rn(t),r=i[12],s=i[13],o=i[16];try{return o(t,e,...n)}finally{s(t),r(t)}},yV=(t,e,n)=>{const i=Rn(t),r=i[12],s=i[18],o=i[19],u=s(t,e).l;return u.add(n),r(t),()=>{u.delete(n),o(t,e),r(t)}},QP=new WeakMap,Rn=t=>{const e=QP.get(t);if((bs?"production":void 0)!=="production"&&!e)throw new Error("Store must be created by buildStore to read its building blocks");return e};function bV(...t){const e={get(i){const r=Rn(e)[21];return r(e,i)},set(i,...r){const s=Rn(e)[22];return s(e,i,...r)},sub(i,r){const s=Rn(e)[23];return s(e,i,r)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},sV,aV,oV,cV,lV,uV,dV,fV,hV,KP,pV,XP,mV,Sm,gV,vV,yV,void 0].map((i,r)=>t[r]||i);return QP.set(e,Object.freeze(n)),e}const ZP={};let _V=0;function wi(t,e){const n=`atom${++_V}`,i={toString(){return(ZP?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?i.read=t:(i.init=t,i.read=wV,i.write=SV),e&&(i.write=e),i}function wV(t){return t(this)}function SV(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}function lS(){return bV()}let Yu;function xV(){return Yu||(Yu=lS(),(ZP?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Yu),globalThis.__JOTAI_DEFAULT_STORE__!==Yu&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Yu}const kV={},A_=M.createContext(void 0);function eN(t){const e=M.useContext(A_);return(t==null?void 0:t.store)||e||xV()}function CV({children:t,store:e}){const n=M.useRef(null);return e?M.createElement(A_.Provider,{value:e},t):(n.current===null&&(n.current=lS()),M.createElement(A_.Provider,{value:n.current},t))}const O_=t=>typeof(t==null?void 0:t.then)=="function",R_=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},MV=un.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(R_(t),t)}),Vb=new WeakMap,GT=(t,e)=>{let n=Vb.get(t);return n||(n=new Promise((i,r)=>{let s=t;const o=f=>p=>{s===f&&i(p)},l=f=>p=>{s===f&&r(p)},u=()=>{try{const f=e();O_(f)?(Vb.set(f,n),s=f,f.then(o(f),l(f)),E_(f,u)):i(f)}catch(f){r(f)}};t.then(o(t),l(t)),E_(t,u)}),Vb.set(t,n)),n};function _o(t,e){const{delay:n,unstable_promiseStatus:i=!un.use}=e||{},r=eN(e),[[s,o,l],u]=M.useReducer(p=>{const g=r.get(t);return Object.is(p[0],g)&&p[1]===r&&p[2]===t?p:[g,r,t]},void 0,()=>[r.get(t),r,t]);let f=s;if((o!==r||l!==t)&&(u(),f=r.get(t)),M.useEffect(()=>{const p=r.sub(t,()=>{if(i)try{const g=r.get(t);O_(g)&&R_(GT(g,()=>r.get(t)))}catch{}if(typeof n=="number"){setTimeout(u,n);return}u()});return u(),p},[r,t,n,i]),M.useDebugValue(f),O_(f)){const p=GT(f,()=>r.get(t));return i&&R_(p),MV(p)}return f}function EV(t,e){const n=eN(e);return M.useCallback((...r)=>{if((kV?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...r)},[n,t])}const TV={};function AV(t,e){let n=null;const i=new Map,r=new Set,s=l=>{let u;if(e===void 0)u=i.get(l);else for(const[p,g]of i)if(e(p,l)){u=g;break}if(u!==void 0)if(n!=null&&n(u[1],l))s.remove(l);else return u[0];const f=t(l);return i.set(l,[f,Date.now()]),o("CREATE",l,f),f},o=(l,u,f)=>{for(const p of r)p({type:l,param:u,atom:f})};return s.unstable_listen=l=>(r.add(l),()=>{r.delete(l)}),s.getParams=()=>i.keys(),s.remove=l=>{if(e===void 0){if(!i.has(l))return;const[u]=i.get(l);i.delete(l),o("REMOVE",l,u)}else for(const[u,[f]]of i)if(e(u,l)){i.delete(u),o("REMOVE",u,f);break}},s.setShouldRemove=l=>{if(n=l,!!n)for(const[u,[f,p]]of i)n(p,u)&&(i.delete(u),o("REMOVE",u,f))},s}const OV=t=>typeof(t==null?void 0:t.then)=="function";function RV(t=()=>{try{return window.localStorage}catch(n){(TV?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let i,r;const s={getItem:(u,f)=>{var p,g;const v=k=>{if(k=k||"",i!==k){try{r=JSON.parse(k,e==null?void 0:e.reviver)}catch{return f}i=k}return r},S=(g=(p=t())==null?void 0:p.getItem(u))!=null?g:null;return OV(S)?S.then(v):v(S)},setItem:(u,f)=>{var p;return(p=t())==null?void 0:p.setItem(u,JSON.stringify(f,void 0))},removeItem:u=>{var f;return(f=t())==null?void 0:f.removeItem(u)}},o=u=>(f,p,g)=>u(f,v=>{let S;try{S=JSON.parse(v||"")}catch{S=g}p(S)});let l;try{l=(n=t())==null?void 0:n.subscribe}catch{}return!l&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(l=(u,f)=>{if(!(t()instanceof window.Storage))return()=>{};const p=g=>{g.storageArea===t()&&g.key===u&&f(g.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),l&&(s.subscribe=o(l)),s}RV();function ua(t,e){const n=M.useMemo(()=>wi(null,(i,r,...s)=>t(i,r,...s)),[t]);return EV(n,e)}var D_={};D_=JSON.parse(`{"name":"@pipecat-ai/client-react","version":"1.1.0","license":"BSD-2-Clause","main":"dist/index.js","module":"dist/index.module.js","types":"dist/index.d.ts","source":"src/index.ts","repository":{"type":"git","url":"git+https://github.com/pipecat-ai/pipecat-client-web.git"},"files":["dist","package.json","README.md"],"scripts":{"build":"parcel build --no-cache","dev":"parcel watch","lint":"eslint . --report-unused-disable-directives --max-warnings 0 --ignore-pattern 'dist/'"},"devDependencies":{"@pipecat-ai/client-js":"*","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^8.32.0","eslint":"^9.11.1","eslint-config-prettier":"^9.1.0","eslint-plugin-react-hooks":"^5.2.0","eslint-plugin-simple-import-sort":"^12.1.1","parcel":"^2.12.0","react":"^18.3.1","react-dom":"^18.3.1","typescript":"^5.2.2"},"peerDependencies":{"@pipecat-ai/client-js":"*","react":">=18","react-dom":">=18"},"dependencies":{"jotai":"^2.9.0"}}`);const tN=M.createContext({on:()=>{},off:()=>{}}),je=(t,e)=>{const{on:n,off:i}=M.useContext(tN);M.useEffect(()=>(n(t,e),()=>{i(t,e)}),[t,e,n,i])},nN=M.createContext({enableCam:()=>{throw new Error("PipecatClientCamStateContext: enableCam() called outside of provider")},isCamEnabled:!1}),iN=M.createContext({enableMic:()=>{throw new Error("PipecatClientMicStateContext: enableMic() called outside of provider")},isMicEnabled:!1}),rN=M.createContext({enableScreenShare:()=>{throw new Error("PipecatClientScreenShareStateContext: enableScreenShare() called outside of provider")},isScreenShareEnabled:!1}),sN=M.createContext("disconnected"),DV=({children:t})=>{const e=tc(),[n,i]=M.useState(!1),[r,s]=M.useState(!1),[o,l]=M.useState(!1),[u,f]=M.useState("disconnected");je(fe.TransportStateChanged,S=>{f(S),S==="initialized"&&e&&(i(e.isCamEnabled??!1),s(e.isMicEnabled??!1),l(e.isSharingScreen??!1))});const p=M.useCallback(S=>{var k;i(S),(k=e==null?void 0:e.enableCam)==null||k.call(e,S)},[e]),g=M.useCallback(S=>{var k;s(S),(k=e==null?void 0:e.enableMic)==null||k.call(e,S)},[e]),v=M.useCallback(S=>{var k;(k=e==null?void 0:e.enableScreenShare)==null||k.call(e,S)},[e]);return je(fe.ScreenTrackStarted,(S,k)=>{k!=null&&k.local&&l(!0)}),je(fe.ScreenTrackStopped,(S,k)=>{k!=null&&k.local&&l(!1)}),E.jsx(sN.Provider,{value:u,children:E.jsx(nN.Provider,{value:{enableCam:p,isCamEnabled:n},children:E.jsx(iN.Provider,{value:{enableMic:g,isMicEnabled:r},children:E.jsx(rN.Provider,{value:{enableScreenShare:v,isScreenShareEnabled:o},children:t})})})})},PV=lS(),aN=M.createContext({}),oN=({children:t,client:e,jotaiStore:n=PV})=>{M.useEffect(()=>{Rw({library:D_.name,library_version:D_.version})},[]);const i=M.useRef({});M.useEffect(()=>{if(!e)return;const o=Object.values(fe).filter(u=>isNaN(Number(u))),l={};return o.forEach(u=>{const f=(...p)=>{const g=i.current[u];g&&g.forEach(v=>{v(...p)})};l[u]=f,e.on(u,f)}),()=>{o.forEach(u=>{e.off(u,l[u])})}},[e]);const r=M.useCallback((o,l)=>{i.current[o]||(i.current[o]=new Set),i.current[o].add(l)},[]),s=M.useCallback((o,l)=>{var u;(u=i.current[o])==null||u.delete(l)},[]);return E.jsx(CV,{store:n,children:E.jsx(aN.Provider,{value:{client:e},children:E.jsx(tN.Provider,{value:{on:r,off:s},children:E.jsx(DV,{children:t})})})})};oN.displayName="PipecatClientProvider";const tc=()=>{const{client:t}=M.useContext(aN);return t},NV=wi(null),jV=wi(null),LV=wi(null),IV=wi(null),BV=wi(null),$V=wi(null),JT=AV(({local:t,trackType:e})=>{if(t)switch(e){case"audio":return NV;case"screenAudio":return LV;case"screenVideo":return IV;case"video":return jV}return e==="audio"?BV:$V}),Hl=(t,e)=>{const n=tc(),i=_o(JT({local:e==="local",trackType:t})),r=ua(M.useCallback((s,o,l,u,f)=>{const p=JT({local:f,trackType:u}),g=s(p);(g==null?void 0:g.id)!==l.id&&o(p,l)},[]));return je(fe.TrackStarted,M.useCallback((s,o)=>{r(s,s.kind,!!(o!=null&&o.local))},[r])),je(fe.ScreenTrackStarted,M.useCallback((s,o)=>{const l=s.kind==="audio"?"screenAudio":"screenVideo";r(s,l,!!(o!=null&&o.local))},[r])),M.useEffect(()=>{var l;if(!n)return;const s=n.tracks(),o=(l=s==null?void 0:s[e])==null?void 0:l[t];o&&r(o,t,e==="local")},[e,t,r,n]),i},cN=()=>{const t=M.useRef(null),e=Hl("audio","bot");return M.useEffect(()=>{!t.current||!e||t.current.srcObject&&t.current.srcObject.getAudioTracks()[0].id===e.id||(t.current.srcObject=new MediaStream([e]))},[e]),je(fe.SpeakerUpdated,M.useCallback(n=>{t.current&&typeof t.current.setSinkId=="function"&&t.current.setSinkId(n.deviceId)},[])),E.jsx(E.Fragment,{children:E.jsx("audio",{ref:t,autoPlay:!0})})};cN.displayName="PipecatClientAudio";const uS=()=>M.useContext(nN),zV=({onCamEnabledChanged:t,disabled:e=!1,children:n})=>{const{isCamEnabled:i,enableCam:r}=uS(),s=M.useCallback(()=>{if(e)return;const o=!i;r(o),t==null||t(o)},[e,r,i,t]);return E.jsx(E.Fragment,{children:n({isCamEnabled:i,onClick:s,disabled:e})})},FV=()=>M.useContext(iN),UV=({onMicEnabledChanged:t,disabled:e=!1,children:n})=>{const{enableMic:i,isMicEnabled:r}=FV(),s=M.useCallback(()=>{if(e)return;const o=!r;i(o),t==null||t(o)},[e,i,r,t]);return E.jsx(E.Fragment,{children:n({isMicEnabled:r,onClick:s,disabled:e})})},VV=()=>M.useContext(rN),HV=({onScreenShareEnabledChanged:t,disabled:e=!1,children:n})=>{const{enableScreenShare:i,isScreenShareEnabled:r}=VV(),s=M.useCallback(()=>{e||i(!r)},[e,i,r]);return M.useEffect(()=>{t==null||t(r)},[r,t]),E.jsx(E.Fragment,{children:n({isScreenShareEnabled:r,onClick:s,disabled:e})})};function qV(...t){return M.useCallback(e=>{for(let n=0;n<t.length;n++){const i=t[n];typeof i=="function"?i(e):i&&typeof i=="object"&&(i.current=e)}},t)}var WV=qV;const dg=M.forwardRef(function({participant:e="local",fit:n="contain",mirror:i,onResize:r,style:s={},trackType:o="video",...l},u){const f=Hl(o,e),p=M.useRef(null),g=WV(p,u);return M.useEffect(function(){const S=p.current;if(!S)return;const k=()=>{const P=S.play();P!==void 0&&P.then(()=>{S.controls=!1}).catch(j=>{S.controls=!0,console.warn("Failed to play video",j)})},w=()=>{S.paused&&k()},C=()=>{S.style.transform="scale(1)"},T=()=>{S.style.transform="",setTimeout(()=>{S.paused&&k()},100)},D=()=>{document.visibilityState!=="hidden"&&S.paused&&k()};return S.addEventListener("canplay",w),S.addEventListener("enterpictureinpicture",C),S.addEventListener("leavepictureinpicture",T),document.addEventListener("visibilitychange",D),()=>{S.removeEventListener("canplay",w),S.removeEventListener("enterpictureinpicture",C),S.removeEventListener("leavepictureinpicture",T),document.removeEventListener("visibilitychange",D)}},[]),M.useEffect(function(){const S=p.current;if(!(!S||!f))return S.srcObject=new MediaStream([f]),S.load(),()=>{S.srcObject=null,S.load()}},[f,f==null?void 0:f.id]),M.useEffect(function(){const S=p.current;if(!r||!S)return;let k;function w(){k&&cancelAnimationFrame(k),k=requestAnimationFrame(()=>{const C=p.current;if(!C||document.hidden)return;const T=C.videoWidth,D=C.videoHeight;T&&D&&(r==null||r({aspectRatio:T/D,height:D,width:T}))})}return w(),S.addEventListener("loadedmetadata",w),S.addEventListener("resize",w),()=>{k&&cancelAnimationFrame(k),S.removeEventListener("loadedmetadata",w),S.removeEventListener("resize",w)}},[r]),E.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,ref:g,style:{objectFit:n,transform:i?"scale(-1, 1)":"",...s},...l})});dg.displayName="PipecatClientVideo";const Hb=wi([]),qb=wi([]),Wb=wi([]),Gb=wi({}),Jb=wi({}),Yb=wi({}),dS=()=>{const t=tc(),e=_o(qb),n=_o(Hb),i=_o(Wb),r=_o(Jb),s=_o(Gb),o=_o(Yb),l=ua(M.useCallback(async(g,v)=>{if(!t)return;const S=await t.getAllCams(),k=await t.getAllMics(),w=await t.getAllSpeakers();v(qb,S),v(Hb,k),v(Wb,w),v(Jb,t.selectedCam),v(Gb,t.selectedMic),v(Yb,t.selectedSpeaker)},[t]));M.useEffect(()=>{l()},[l]),je(fe.AvailableCamsUpdated,ua(M.useCallback((g,v,S)=>{v(qb,S)},[]))),je(fe.AvailableMicsUpdated,ua(M.useCallback((g,v,S)=>{v(Hb,S)},[]))),je(fe.AvailableSpeakersUpdated,ua(M.useCallback((g,v,S)=>{v(Wb,S)},[]))),je(fe.CamUpdated,ua(M.useCallback((g,v,S)=>{v(Jb,S)},[]))),je(fe.MicUpdated,ua(M.useCallback((g,v,S)=>{v(Gb,S)},[]))),je(fe.SpeakerUpdated,ua(M.useCallback((g,v,S)=>{v(Yb,S)},[])));const u=M.useCallback(g=>{t==null||t.updateCam(g)},[t]),f=M.useCallback(g=>{t==null||t.updateMic(g)},[t]),p=M.useCallback(g=>{t==null||t.updateSpeaker(g)},[t]);return{availableCams:e,availableMics:n,availableSpeakers:i,selectedCam:r,selectedMic:s,selectedSpeaker:o,updateCam:u,updateMic:f,updateSpeaker:p}},nc=()=>M.useContext(sN),GV=un.memo(({backgroundColor:t="transparent",barColor:e="black",barCount:n=5,barGap:i=12,barLineCap:r="round",barMaxHeight:s=120,barOrigin:o="center",barWidth:l=30,participantType:u})=>{const f=M.useRef(null),p=Hl("audio",u);return M.useEffect(()=>{if(!f.current)return;const g=n*l+(n-1)*i,v=s,S=f.current,k=2,w=()=>{S.width=g*k,S.height=v*k,S.style.width=`${g}px`,S.style.height=`${v}px`,C.lineCap=r,C.scale(k,k)},C=S.getContext("2d");if(w(),!p)return;const T=new AudioContext,D=T.createMediaStreamSource(new MediaStream([p])),P=T.createAnalyser();P.fftSize=1024,D.connect(P);const j=new Uint8Array(P.frequencyBinCount);C.lineCap=r;const N=Array.from({length:n},(J,Z)=>{const re=n>20?200:80,ye=1e4,ue=2595*Math.log10(1+re/700),H=(2595*Math.log10(1+ye/700)-ue)/n,te=ue+Z*H,Y=700*(Math.pow(10,te/2595)-1),se=700*(Math.pow(10,(te+H)/2595)-1);return{startFreq:Y,endFreq:se,smoothValue:0}}),B=J=>{const Z=T.sampleRate/2;return Math.round(J/Z*(P.frequencyBinCount-1))};function L(){P.getByteFrequencyData(j),C.clearRect(0,0,S.width/k,S.height/k),C.fillStyle=t,C.fillRect(0,0,S.width/k,S.height/k);let J=!1;const Z=N.length*l+(N.length-1)*i,re=(S.width/k-Z)/2,ye=l/2;N.forEach((ue,he)=>{const H=B(ue.startFreq),te=B(ue.endFreq),Y=j.slice(H,te),se=Y.reduce((A,I)=>A+I,0)/Y.length,we=.2;se<1?ue.smoothValue=Math.max(ue.smoothValue-we*5,0):(ue.smoothValue=ue.smoothValue+(se-ue.smoothValue)*we,J=!0);const V=re+he*(l+i),h=Math.max(0,Math.min(ue.smoothValue/255*s,s));let b,_;const O=S.height/k;switch(o){case"top":b=ye,_=Math.min(ye+h,O-ye);break;case"bottom":_=O-ye,b=Math.max(_-h,ye);break;case"center":default:b=Math.max(O/2-h/2,ye),_=Math.min(O/2+h/2,O-ye);break}ue.smoothValue>0?(C.beginPath(),C.moveTo(V+l/2,b),C.lineTo(V+l/2,_),C.lineWidth=l,C.strokeStyle=e,C.stroke()):z(ye,e,V,b)}),J||W(ye,e),requestAnimationFrame(L)}function z(J,Z,re,ye){switch(r){case"square":C.fillStyle=Z,C.fillRect(re+l/2-J,ye-J,J*2,J*2);break;case"round":default:C.beginPath(),C.arc(re+l/2,ye,J,0,2*Math.PI),C.fillStyle=Z,C.fill(),C.closePath();break}}function W(J,Z){const re=N.length*l+(N.length-1)*i,ye=(S.width/k-re)/2,ue=S.height/k;let he;switch(o){case"top":he=J;break;case"bottom":he=ue-J;break;case"center":default:he=ue/2;break}N.forEach((H,te)=>{const Y=ye+te*(l+i);z(J,Z,Y,he)})}return L(),window.addEventListener("resize",w),()=>{T.close(),window.removeEventListener("resize",w)}},[t,e,n,i,r,s,o,l,p]),E.jsx("canvas",{ref:f,style:{display:"block",width:"100%",height:"100%"}})});GV.displayName="VoiceVisualizer";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),YT=t=>{const e=YV(t);return e.charAt(0).toUpperCase()+e.slice(1)},lN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),KV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},u)=>M.createElement("svg",{ref:u,...XV,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:lN("lucide",r),...!s&&!KV(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,p])=>M.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(t,e)=>{const n=M.forwardRef(({className:i,...r},s)=>M.createElement(QV,{ref:s,iconNode:e,className:lN(`lucide-${JV(YT(t))}`,`lucide-${t}`,i),...r}));return n.displayName=YT(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],e7=Rt("bot",ZV);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],n7=Rt("chart-line",t7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uN=Rt("check",i7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fS=Rt("chevron-down",r7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a7=Rt("chevron-up",s7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"m17 7 5 5-5 5",key:"1xlxn0"}],["path",{d:"m7 7-5 5 5 5",key:"19njba"}],["path",{d:"M8 12h.01",key:"czm47f"}]],KT=Rt("chevrons-left-right-ellipsis",o7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],l7=Rt("chevrons-up-down",c7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d7=Rt("circle-alert",u7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h7=Rt("copy-check",f7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],m7=Rt("copy",p7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],v7=Rt("ellipsis-vertical",g7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],b7=Rt("funnel",y7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XT=Rt("info",_7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fg=Rt("loader-circle",w7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],x7=Rt("loader",S7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],dN=Rt("messages-square",k7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],P_=Rt("mic-off",C7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],fN=Rt("mic",M7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],QT=Rt("monitor-off",E7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],A7=Rt("monitor",T7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],R7=Rt("moon",O7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],P7=Rt("panel-left-close",D7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],j7=Rt("panel-right-close",N7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],I7=Rt("sun",L7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N_=Rt("video-off",B7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],z7=Rt("video",$7);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U7=Rt("x",F7),ZT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eA=DP,Na=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return eA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(f=>{const p=n==null?void 0:n[f],g=s==null?void 0:s[f];if(p===null)return null;const v=ZT(p)||ZT(g);return r[f][v]}),l=n&&Object.entries(n).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),u=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((f,p)=>{let{class:g,className:v,...S}=p;return Object.entries(S).every(k=>{let[w,C]=k;return Array.isArray(C)?C.includes({...s,...l}[w]):{...s,...l}[w]===C})?[...f,g,v]:f},[]);return eA(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};function tA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Es(...t){return e=>{let n=!1;const i=t.map(r=>{const s=tA(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():tA(t[r],null)}}}}function xt(...t){return M.useCallback(Es(...t),t)}var V7=Symbol.for("react.lazy"),xm=ug[" use ".trim().toString()];function H7(t){return typeof t=="object"&&t!==null&&"then"in t}function hN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===V7&&"_payload"in t&&H7(t._payload)}function pN(t){const e=W7(t),n=M.forwardRef((i,r)=>{let{children:s,...o}=i;hN(s)&&typeof xm=="function"&&(s=xm(s._payload));const l=M.Children.toArray(s),u=l.find(J7);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var q7=pN("Slot");function W7(t){const e=M.forwardRef((n,i)=>{let{children:r,...s}=n;if(hN(r)&&typeof xm=="function"&&(r=xm(r._payload)),M.isValidElement(r)){const o=K7(r),l=Y7(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var G7=Symbol("radix.slottable");function J7(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===G7}function Y7(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function K7(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dn=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},X7=ug[" useInsertionEffect ".trim().toString()]||Dn;function Ea({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=Q7({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:r;{const p=M.useRef(t!==void 0);M.useEffect(()=>{const g=p.current;g!==l&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,i])}const f=M.useCallback(p=>{var g;if(l){const v=Z7(p)?p(t):p;v!==t&&((g=o.current)==null||g.call(o,v))}else s(p)},[l,t,s,o]);return[u,f]}function Q7({defaultProp:t,onChange:e}){const[n,i]=M.useState(t),r=M.useRef(n),s=M.useRef(e);return X7(()=>{s.current=e},[e]),M.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function Z7(t){return typeof t=="function"}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Ts(t,e=[]){let n=[];function i(s,o){const l=M.createContext(o),u=n.length;n=[...n,o];const f=g=>{var T;const{scope:v,children:S,...k}=g,w=((T=v==null?void 0:v[t])==null?void 0:T[u])||l,C=M.useMemo(()=>k,Object.values(k));return E.jsx(w.Provider,{value:C,children:S})};f.displayName=s+"Provider";function p(g,v){var w;const S=((w=v==null?void 0:v[t])==null?void 0:w[u])||l,k=M.useContext(S);if(k)return k;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,p]}const r=()=>{const s=n.map(o=>M.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[i,e8(r,...e)]}function e8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:u,scopeName:f})=>{const g=u(s)[`__scope${f}`];return{...l,...g}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zd=OP();const t8=Ow(Zd);function n8(t){const e=i8(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,l=M.Children.toArray(s),u=l.find(s8);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function i8(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=o8(r),l=a8(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var r8=Symbol("radix.slottable");function s8(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===r8}function a8(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function o8(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=c8.reduce((t,e)=>{const n=n8(`Primitive.${e}`),i=M.forwardRef((r,s)=>{const{asChild:o,...l}=r,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function mN(t,e){t&&Zd.flushSync(()=>t.dispatchEvent(e))}function nA(t){const e=l8(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,l=M.Children.toArray(s),u=l.find(d8);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function l8(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=h8(r),l=f8(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var u8=Symbol("radix.slottable");function d8(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===u8}function f8(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function h8(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hS(t){const e=t+"CollectionProvider",[n,i]=Ts(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:T}=w,D=un.useRef(null),P=un.useRef(new Map).current;return E.jsx(r,{scope:C,itemMap:P,collectionRef:D,children:T})};o.displayName=e;const l=t+"CollectionSlot",u=nA(l),f=un.forwardRef((w,C)=>{const{scope:T,children:D}=w,P=s(l,T),j=xt(C,P.collectionRef);return E.jsx(u,{ref:j,children:D})});f.displayName=l;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=nA(p),S=un.forwardRef((w,C)=>{const{scope:T,children:D,...P}=w,j=un.useRef(null),N=xt(C,j),B=s(p,T);return un.useEffect(()=>(B.itemMap.set(j,{ref:j,...P}),()=>void B.itemMap.delete(j))),E.jsx(v,{[g]:"",ref:N,children:D})});S.displayName=p;function k(w){const C=s(t+"CollectionConsumer",w);return un.useCallback(()=>{const D=C.collectionRef.current;if(!D)return[];const P=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((B,L)=>P.indexOf(B.ref.current)-P.indexOf(L.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:f,ItemSlot:S},k,i]}var p8=M.createContext(void 0);function hg(t){const e=M.useContext(p8);return t||e||"ltr"}function Nr(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function m8(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t);M.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var g8="DismissableLayer",j_="dismissableLayer.update",v8="dismissableLayer.pointerDownOutside",y8="dismissableLayer.focusOutside",iA,gN=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,f=M.useContext(gN),[p,g]=M.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=M.useState({}),k=xt(e,L=>g(L)),w=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(C),D=p?w.indexOf(p):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,j=D>=T,N=w8(L=>{const z=L.target,W=[...f.branches].some(J=>J.contains(z));!j||W||(r==null||r(L),o==null||o(L),L.defaultPrevented||l==null||l())},v),B=S8(L=>{const z=L.target;[...f.branches].some(J=>J.contains(z))||(s==null||s(L),o==null||o(L),L.defaultPrevented||l==null||l())},v);return m8(L=>{D===f.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},v),M.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(iA=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),rA(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=iA)}},[p,v,n,f]),M.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),rA())},[p,f]),M.useEffect(()=>{const L=()=>S({});return document.addEventListener(j_,L),()=>document.removeEventListener(j_,L)},[]),E.jsx(et.div,{...u,ref:k,style:{pointerEvents:P?j?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,B.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,N.onPointerDownCapture)})});ef.displayName=g8;var b8="DismissableLayerBranch",_8=M.forwardRef((t,e)=>{const n=M.useContext(gN),i=M.useRef(null),r=xt(e,i);return M.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(et.div,{...t,ref:r})});_8.displayName=b8;function w8(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),i=M.useRef(!1),r=M.useRef(()=>{});return M.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let u=function(){vN(v8,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function S8(t,e=globalThis==null?void 0:globalThis.document){const n=Nr(t),i=M.useRef(!1);return M.useEffect(()=>{const r=s=>{s.target&&!i.current&&vN(y8,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function rA(){const t=new CustomEvent(j_);document.dispatchEvent(t)}function vN(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?mN(r,s):r.dispatchEvent(s)}var Kb=0;function pS(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sA()),document.body.insertAdjacentElement("beforeend",t[1]??sA()),Kb++,()=>{Kb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kb--}},[])}function sA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xb="focusScope.autoFocusOnMount",Qb="focusScope.autoFocusOnUnmount",aA={bubbles:!1,cancelable:!0},x8="FocusScope",pg=M.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[l,u]=M.useState(null),f=Nr(r),p=Nr(s),g=M.useRef(null),v=xt(e,w=>u(w)),S=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(i){let w=function(P){if(S.paused||!l)return;const j=P.target;l.contains(j)?g.current=j:da(g.current,{select:!0})},C=function(P){if(S.paused||!l)return;const j=P.relatedTarget;j!==null&&(l.contains(j)||da(g.current,{select:!0}))},T=function(P){if(document.activeElement===document.body)for(const N of P)N.removedNodes.length>0&&da(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const D=new MutationObserver(T);return l&&D.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),D.disconnect()}}},[i,l,S.paused]),M.useEffect(()=>{if(l){cA.add(S);const w=document.activeElement;if(!l.contains(w)){const T=new CustomEvent(Xb,aA);l.addEventListener(Xb,f),l.dispatchEvent(T),T.defaultPrevented||(k8(A8(yN(l)),{select:!0}),document.activeElement===w&&da(l))}return()=>{l.removeEventListener(Xb,f),setTimeout(()=>{const T=new CustomEvent(Qb,aA);l.addEventListener(Qb,p),l.dispatchEvent(T),T.defaultPrevented||da(w??document.body,{select:!0}),l.removeEventListener(Qb,p),cA.remove(S)},0)}}},[l,f,p,S]);const k=M.useCallback(w=>{if(!n&&!i||S.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(C&&T){const D=w.currentTarget,[P,j]=C8(D);P&&j?!w.shiftKey&&T===j?(w.preventDefault(),n&&da(P,{select:!0})):w.shiftKey&&T===P&&(w.preventDefault(),n&&da(j,{select:!0})):T===D&&w.preventDefault()}},[n,i,S.paused]);return E.jsx(et.div,{tabIndex:-1,...o,ref:v,onKeyDown:k})});pg.displayName=x8;function k8(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(da(i,{select:e}),document.activeElement!==n)return}function C8(t){const e=yN(t),n=oA(e,t),i=oA(e.reverse(),t);return[n,i]}function yN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oA(t,e){for(const n of t)if(!M8(n,{upTo:e}))return n}function M8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E8(t){return t instanceof HTMLInputElement&&"select"in t}function da(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&E8(t)&&e&&t.select()}}var cA=T8();function T8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lA(t,e),t.unshift(e)},remove(e){var n;t=lA(t,e),(n=t[0])==null||n.resume()}}}function lA(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function A8(t){return t.filter(e=>e.tagName!=="A")}var O8=ug[" useId ".trim().toString()]||(()=>{}),R8=0;function ks(t){const[e,n]=M.useState(O8());return Dn(()=>{n(i=>i??String(R8++))},[t]),t||(e?`radix-${e}`:"")}const D8=["top","right","bottom","left"],Ta=Math.min,pi=Math.max,km=Math.round,ip=Math.floor,Dr=t=>({x:t,y:t}),P8={left:"right",right:"left",bottom:"top",top:"bottom"},N8={start:"end",end:"start"};function L_(t,e,n){return pi(t,Ta(e,n))}function Cs(t,e){return typeof t=="function"?t(e):t}function Ms(t){return t.split("-")[0]}function ql(t){return t.split("-")[1]}function mS(t){return t==="x"?"y":"x"}function gS(t){return t==="y"?"height":"width"}const j8=new Set(["top","bottom"]);function Or(t){return j8.has(Ms(t))?"y":"x"}function vS(t){return mS(Or(t))}function L8(t,e,n){n===void 0&&(n=!1);const i=ql(t),r=vS(t),s=gS(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Cm(o)),[o,Cm(o)]}function I8(t){const e=Cm(t);return[I_(t),e,I_(e)]}function I_(t){return t.replace(/start|end/g,e=>N8[e])}const uA=["left","right"],dA=["right","left"],B8=["top","bottom"],$8=["bottom","top"];function z8(t,e,n){switch(t){case"top":case"bottom":return n?e?dA:uA:e?uA:dA;case"left":case"right":return e?B8:$8;default:return[]}}function F8(t,e,n,i){const r=ql(t);let s=z8(Ms(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(I_)))),s}function Cm(t){return t.replace(/left|right|bottom|top/g,e=>P8[e])}function U8(t){return{top:0,right:0,bottom:0,left:0,...t}}function bN(t){return typeof t!="number"?U8(t):{top:t,right:t,bottom:t,left:t}}function Mm(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function fA(t,e,n){let{reference:i,floating:r}=t;const s=Or(e),o=vS(e),l=gS(o),u=Ms(e),f=s==="y",p=i.x+i.width/2-r.width/2,g=i.y+i.height/2-r.height/2,v=i[l]/2-r[l]/2;let S;switch(u){case"top":S={x:p,y:i.y-r.height};break;case"bottom":S={x:p,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:g};break;case"left":S={x:i.x-r.width,y:g};break;default:S={x:i.x,y:i.y}}switch(ql(e)){case"start":S[o]-=v*(n&&f?-1:1);break;case"end":S[o]+=v*(n&&f?-1:1);break}return S}const V8=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:p,y:g}=fA(f,i,u),v=i,S={},k=0;for(let w=0;w<l.length;w++){const{name:C,fn:T}=l[w],{x:D,y:P,data:j,reset:N}=await T({x:p,y:g,initialPlacement:i,placement:v,strategy:r,middlewareData:S,rects:f,platform:o,elements:{reference:t,floating:e}});p=D??p,g=P??g,S={...S,[C]:{...S[C],...j}},N&&k<=50&&(k++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(f=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):N.rects),{x:p,y:g}=fA(f,v,u)),w=-1)}return{x:p,y:g,placement:v,strategy:r,middlewareData:S}};async function Dd(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Cs(e,t),k=bN(S),C=l[v?g==="floating"?"reference":"floating":g],T=Mm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:u})),D=g==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},N=Mm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:D,offsetParent:P,strategy:u}):D);return{top:(T.top-N.top+k.top)/j.y,bottom:(N.bottom-T.bottom+k.bottom)/j.y,left:(T.left-N.left+k.left)/j.x,right:(N.right-T.right+k.right)/j.x}}const H8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:f,padding:p=0}=Cs(t,e)||{};if(f==null)return{};const g=bN(p),v={x:n,y:i},S=vS(r),k=gS(S),w=await o.getDimensions(f),C=S==="y",T=C?"top":"left",D=C?"bottom":"right",P=C?"clientHeight":"clientWidth",j=s.reference[k]+s.reference[S]-v[S]-s.floating[k],N=v[S]-s.reference[S],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let L=B?B[P]:0;(!L||!await(o.isElement==null?void 0:o.isElement(B)))&&(L=l.floating[P]||s.floating[k]);const z=j/2-N/2,W=L/2-w[k]/2-1,J=Ta(g[T],W),Z=Ta(g[D],W),re=J,ye=L-w[k]-Z,ue=L/2-w[k]/2+z,he=L_(re,ue,ye),H=!u.arrow&&ql(r)!=null&&ue!==he&&s.reference[k]/2-(ue<re?J:Z)-w[k]/2<0,te=H?ue<re?ue-re:ue-ye:0;return{[S]:v[S]+te,data:{[S]:he,centerOffset:ue-he-te,...H&&{alignmentOffset:te}},reset:H}}}),q8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,...C}=Cs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Ms(r),D=Or(l),P=Ms(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(f.floating)),N=v||(P||!w?[Cm(l)]:I8(l)),B=k!=="none";!v&&B&&N.push(...F8(l,w,k,j));const L=[l,...N],z=await Dd(e,C),W=[];let J=((i=s.flip)==null?void 0:i.overflows)||[];if(p&&W.push(z[T]),g){const ue=L8(r,o,j);W.push(z[ue[0]],z[ue[1]])}if(J=[...J,{placement:r,overflows:W}],!W.every(ue=>ue<=0)){var Z,re;const ue=(((Z=s.flip)==null?void 0:Z.index)||0)+1,he=L[ue];if(he&&(!(g==="alignment"?D!==Or(he):!1)||J.every(Y=>Or(Y.placement)===D?Y.overflows[0]>0:!0)))return{data:{index:ue,overflows:J},reset:{placement:he}};let H=(re=J.filter(te=>te.overflows[0]<=0).sort((te,Y)=>te.overflows[1]-Y.overflows[1])[0])==null?void 0:re.placement;if(!H)switch(S){case"bestFit":{var ye;const te=(ye=J.filter(Y=>{if(B){const se=Or(Y.placement);return se===D||se==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(se=>se>0).reduce((se,we)=>se+we,0)]).sort((Y,se)=>Y[1]-se[1])[0])==null?void 0:ye[0];te&&(H=te);break}case"initialPlacement":H=l;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function hA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pA(t){return D8.some(e=>t[e]>=0)}const W8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Cs(t,e);switch(i){case"referenceHidden":{const s=await Dd(e,{...r,elementContext:"reference"}),o=hA(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pA(o)}}}case"escaped":{const s=await Dd(e,{...r,altBoundary:!0}),o=hA(s,n.floating);return{data:{escapedOffsets:o,escaped:pA(o)}}}default:return{}}}}},_N=new Set(["left","top"]);async function G8(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Ms(n),l=ql(n),u=Or(n)==="y",f=_N.has(o)?-1:1,p=s&&u?-1:1,g=Cs(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:k}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof k=="number"&&(S=l==="end"?k*-1:k),u?{x:S*p,y:v*f}:{x:v*f,y:S*p}}const J8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:l}=e,u=await G8(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:o}}}}},Y8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:T,y:D}=C;return{x:T,y:D}}},...u}=Cs(t,e),f={x:n,y:i},p=await Dd(e,u),g=Or(Ms(r)),v=mS(g);let S=f[v],k=f[g];if(s){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",D=S+p[C],P=S-p[T];S=L_(D,S,P)}if(o){const C=g==="y"?"top":"left",T=g==="y"?"bottom":"right",D=k+p[C],P=k-p[T];k=L_(D,k,P)}const w=l.fn({...e,[v]:S,[g]:k});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[v]:s,[g]:o}}}}}},K8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=Cs(t,e),p={x:n,y:i},g=Or(r),v=mS(g);let S=p[v],k=p[g];const w=Cs(l,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const P=v==="y"?"height":"width",j=s.reference[v]-s.floating[P]+C.mainAxis,N=s.reference[v]+s.reference[P]-C.mainAxis;S<j?S=j:S>N&&(S=N)}if(f){var T,D;const P=v==="y"?"width":"height",j=_N.has(Ms(r)),N=s.reference[g]-s.floating[P]+(j&&((T=o.offset)==null?void 0:T[g])||0)+(j?0:C.crossAxis),B=s.reference[g]+s.reference[P]+(j?0:((D=o.offset)==null?void 0:D[g])||0)-(j?C.crossAxis:0);k<N?k=N:k>B&&(k=B)}return{[v]:S,[g]:k}}}},X8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...f}=Cs(t,e),p=await Dd(e,f),g=Ms(r),v=ql(r),S=Or(r)==="y",{width:k,height:w}=s.floating;let C,T;g==="top"||g==="bottom"?(C=g,T=v===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(T=g,C=v==="end"?"top":"bottom");const D=w-p.top-p.bottom,P=k-p.left-p.right,j=Ta(w-p[C],D),N=Ta(k-p[T],P),B=!e.middlewareData.shift;let L=j,z=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=P),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(L=D),B&&!v){const J=pi(p.left,0),Z=pi(p.right,0),re=pi(p.top,0),ye=pi(p.bottom,0);S?z=k-2*(J!==0||Z!==0?J+Z:pi(p.left,p.right)):L=w-2*(re!==0||ye!==0?re+ye:pi(p.top,p.bottom))}await u({...e,availableWidth:z,availableHeight:L});const W=await o.getDimensions(l.floating);return k!==W.width||w!==W.height?{reset:{rects:!0}}:{}}}};function mg(){return typeof window<"u"}function Wl(t){return wN(t)?(t.nodeName||"").toLowerCase():"#document"}function yi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Br(t){var e;return(e=(wN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wN(t){return mg()?t instanceof Node||t instanceof yi(t).Node:!1}function ur(t){return mg()?t instanceof Element||t instanceof yi(t).Element:!1}function jr(t){return mg()?t instanceof HTMLElement||t instanceof yi(t).HTMLElement:!1}function mA(t){return!mg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yi(t).ShadowRoot}const Q8=new Set(["inline","contents"]);function tf(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!Q8.has(r)}const Z8=new Set(["table","td","th"]);function e9(t){return Z8.has(Wl(t))}const t9=[":popover-open",":modal"];function gg(t){return t9.some(e=>{try{return t.matches(e)}catch{return!1}})}const n9=["transform","translate","scale","rotate","perspective"],i9=["transform","translate","scale","rotate","perspective","filter"],r9=["paint","layout","strict","content"];function yS(t){const e=bS(),n=ur(t)?dr(t):t;return n9.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||i9.some(i=>(n.willChange||"").includes(i))||r9.some(i=>(n.contain||"").includes(i))}function s9(t){let e=Aa(t);for(;jr(e)&&!Tl(e);){if(yS(e))return e;if(gg(e))return null;e=Aa(e)}return null}function bS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const a9=new Set(["html","body","#document"]);function Tl(t){return a9.has(Wl(t))}function dr(t){return yi(t).getComputedStyle(t)}function vg(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Aa(t){if(Wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mA(t)&&t.host||Br(t);return mA(e)?e.host:e}function SN(t){const e=Aa(t);return Tl(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&tf(e)?e:SN(e)}function Pd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=SN(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=yi(r);if(s){const l=B_(o);return e.concat(o,o.visualViewport||[],tf(r)?r:[],l&&n?Pd(l):[])}return e.concat(r,Pd(r,[],n))}function B_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xN(t){const e=dr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=jr(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,l=km(n)!==s||km(i)!==o;return l&&(n=s,i=o),{width:n,height:i,$:l}}function _S(t){return ur(t)?t:t.contextElement}function pl(t){const e=_S(t);if(!jr(e))return Dr(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=xN(e);let o=(s?km(n.width):n.width)/i,l=(s?km(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const o9=Dr(0);function kN(t){const e=yi(t);return!bS()||!e.visualViewport?o9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yi(t)?!1:e}function Vo(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=_S(t);let o=Dr(1);e&&(i?ur(i)&&(o=pl(i)):o=pl(t));const l=c9(s,n,i)?kN(s):Dr(0);let u=(r.left+l.x)/o.x,f=(r.top+l.y)/o.y,p=r.width/o.x,g=r.height/o.y;if(s){const v=yi(s),S=i&&ur(i)?yi(i):i;let k=v,w=B_(k);for(;w&&i&&S!==k;){const C=pl(w),T=w.getBoundingClientRect(),D=dr(w),P=T.left+(w.clientLeft+parseFloat(D.paddingLeft))*C.x,j=T.top+(w.clientTop+parseFloat(D.paddingTop))*C.y;u*=C.x,f*=C.y,p*=C.x,g*=C.y,u+=P,f+=j,k=yi(w),w=B_(k)}}return Mm({width:p,height:g,x:u,y:f})}function yg(t,e){const n=vg(t).scrollLeft;return e?e.left+n:Vo(Br(t)).left+n}function CN(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-yg(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function l9(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=Br(i),l=e?gg(e.floating):!1;if(i===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},f=Dr(1);const p=Dr(0),g=jr(i);if((g||!g&&!s)&&((Wl(i)!=="body"||tf(o))&&(u=vg(i)),jr(i))){const S=Vo(i);f=pl(i),p.x=S.x+i.clientLeft,p.y=S.y+i.clientTop}const v=o&&!g&&!s?CN(o,u):Dr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-u.scrollTop*f.y+p.y+v.y}}function u9(t){return Array.from(t.getClientRects())}function d9(t){const e=Br(t),n=vg(t),i=t.ownerDocument.body,r=pi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=pi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+yg(t);const l=-n.scrollTop;return dr(i).direction==="rtl"&&(o+=pi(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:l}}const gA=25;function f9(t,e){const n=yi(t),i=Br(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,u=0;if(r){s=r.width,o=r.height;const p=bS();(!p||p&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const f=yg(i);if(f<=0){const p=i.ownerDocument,g=p.body,v=getComputedStyle(g),S=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,k=Math.abs(i.clientWidth-g.clientWidth-S);k<=gA&&(s-=k)}else f<=gA&&(s+=f);return{width:s,height:o,x:l,y:u}}const h9=new Set(["absolute","fixed"]);function p9(t,e){const n=Vo(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=jr(t)?pl(t):Dr(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=r*s.x,f=i*s.y;return{width:o,height:l,x:u,y:f}}function vA(t,e,n){let i;if(e==="viewport")i=f9(t,n);else if(e==="document")i=d9(Br(t));else if(ur(e))i=p9(e,n);else{const r=kN(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Mm(i)}function MN(t,e){const n=Aa(t);return n===e||!ur(n)||Tl(n)?!1:dr(n).position==="fixed"||MN(n,e)}function m9(t,e){const n=e.get(t);if(n)return n;let i=Pd(t,[],!1).filter(l=>ur(l)&&Wl(l)!=="body"),r=null;const s=dr(t).position==="fixed";let o=s?Aa(t):t;for(;ur(o)&&!Tl(o);){const l=dr(o),u=yS(o);!u&&l.position==="fixed"&&(r=null),(s?!u&&!r:!u&&l.position==="static"&&!!r&&h9.has(r.position)||tf(o)&&!u&&MN(t,o))?i=i.filter(p=>p!==o):r=l,o=Aa(o)}return e.set(t,i),i}function g9(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?gg(e)?[]:m9(e,this._c):[].concat(n),i],l=o[0],u=o.reduce((f,p)=>{const g=vA(e,p,r);return f.top=pi(g.top,f.top),f.right=Ta(g.right,f.right),f.bottom=Ta(g.bottom,f.bottom),f.left=pi(g.left,f.left),f},vA(e,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function v9(t){const{width:e,height:n}=xN(t);return{width:e,height:n}}function y9(t,e,n){const i=jr(e),r=Br(e),s=n==="fixed",o=Vo(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Dr(0);function f(){u.x=yg(r)}if(i||!i&&!s)if((Wl(e)!=="body"||tf(r))&&(l=vg(e)),i){const S=Vo(e,!0,s,e);u.x=S.x+e.clientLeft,u.y=S.y+e.clientTop}else r&&f();s&&!i&&r&&f();const p=r&&!i&&!s?CN(r,l):Dr(0),g=o.left+l.scrollLeft-u.x-p.x,v=o.top+l.scrollTop-u.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function Zb(t){return dr(t).position==="static"}function yA(t,e){if(!jr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Br(t)===n&&(n=n.ownerDocument.body),n}function EN(t,e){const n=yi(t);if(gg(t))return n;if(!jr(t)){let r=Aa(t);for(;r&&!Tl(r);){if(ur(r)&&!Zb(r))return r;r=Aa(r)}return n}let i=yA(t,e);for(;i&&e9(i)&&Zb(i);)i=yA(i,e);return i&&Tl(i)&&Zb(i)&&!yS(i)?n:i||s9(t)||n}const b9=async function(t){const e=this.getOffsetParent||EN,n=this.getDimensions,i=await n(t.floating);return{reference:y9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function _9(t){return dr(t).direction==="rtl"}const w9={convertOffsetParentRelativeRectToViewportRelativeRect:l9,getDocumentElement:Br,getClippingRect:g9,getOffsetParent:EN,getElementRects:b9,getClientRects:u9,getDimensions:v9,getScale:pl,isElement:ur,isRTL:_9};function TN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function S9(t,e){let n=null,i;const r=Br(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const f=t.getBoundingClientRect(),{left:p,top:g,width:v,height:S}=f;if(l||e(),!v||!S)return;const k=ip(g),w=ip(r.clientWidth-(p+v)),C=ip(r.clientHeight-(g+S)),T=ip(p),P={rootMargin:-k+"px "+-w+"px "+-C+"px "+-T+"px",threshold:pi(0,Ta(1,u))||1};let j=!0;function N(B){const L=B[0].intersectionRatio;if(L!==u){if(!j)return o();L?o(!1,L):i=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!TN(f,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...P,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,P)}n.observe(t)}return o(!0),s}function x9(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,f=_S(t),p=r||s?[...f?Pd(f):[],...Pd(e)]:[];p.forEach(T=>{r&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const g=f&&l?S9(f,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(T=>{let[D]=T;D&&D.target===f&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=S)==null||P.observe(e)})),n()}),f&&!u&&S.observe(f),S.observe(e));let k,w=u?Vo(t):null;u&&C();function C(){const T=Vo(t);w&&!TN(w,T)&&n(),w=T,k=requestAnimationFrame(C)}return n(),()=>{var T;p.forEach(D=>{r&&D.removeEventListener("scroll",n),s&&D.removeEventListener("resize",n)}),g==null||g(),(T=S)==null||T.disconnect(),S=null,u&&cancelAnimationFrame(k)}}const k9=J8,C9=Y8,M9=q8,E9=X8,T9=W8,bA=H8,A9=K8,O9=(t,e,n)=>{const i=new Map,r={platform:w9,...n},s={...r.platform,_c:i};return V8(t,e,{...r,platform:s})};var R9=typeof document<"u",D9=function(){},Wp=R9?M.useLayoutEffect:D9;function Em(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Em(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Em(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function AN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _A(t,e){const n=AN(t);return Math.round(e*n)/n}function e0(t){const e=M.useRef(t);return Wp(()=>{e.current=t}),e}function P9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:f}=t,[p,g]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=M.useState(i);Em(v,i)||S(i);const[k,w]=M.useState(null),[C,T]=M.useState(null),D=M.useCallback(Y=>{Y!==B.current&&(B.current=Y,w(Y))},[]),P=M.useCallback(Y=>{Y!==L.current&&(L.current=Y,T(Y))},[]),j=s||k,N=o||C,B=M.useRef(null),L=M.useRef(null),z=M.useRef(p),W=u!=null,J=e0(u),Z=e0(r),re=e0(f),ye=M.useCallback(()=>{if(!B.current||!L.current)return;const Y={placement:e,strategy:n,middleware:v};Z.current&&(Y.platform=Z.current),O9(B.current,L.current,Y).then(se=>{const we={...se,isPositioned:re.current!==!1};ue.current&&!Em(z.current,we)&&(z.current=we,Zd.flushSync(()=>{g(we)}))})},[v,e,n,Z,re]);Wp(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(Y=>({...Y,isPositioned:!1})))},[f]);const ue=M.useRef(!1);Wp(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Wp(()=>{if(j&&(B.current=j),N&&(L.current=N),j&&N){if(J.current)return J.current(j,N,ye);ye()}},[j,N,ye,J,W]);const he=M.useMemo(()=>({reference:B,floating:L,setReference:D,setFloating:P}),[D,P]),H=M.useMemo(()=>({reference:j,floating:N}),[j,N]),te=M.useMemo(()=>{const Y={position:n,left:0,top:0};if(!H.floating)return Y;const se=_A(H.floating,p.x),we=_A(H.floating,p.y);return l?{...Y,transform:"translate("+se+"px, "+we+"px)",...AN(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:we}},[n,l,H.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:ye,refs:he,elements:H,floatingStyles:te}),[p,ye,he,H,te])}const N9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?bA({element:i.current,padding:r}).fn(n):{}:i?bA({element:i,padding:r}).fn(n):{}}}},j9=(t,e)=>({...k9(t),options:[t,e]}),L9=(t,e)=>({...C9(t),options:[t,e]}),I9=(t,e)=>({...A9(t),options:[t,e]}),B9=(t,e)=>({...M9(t),options:[t,e]}),$9=(t,e)=>({...E9(t),options:[t,e]}),z9=(t,e)=>({...T9(t),options:[t,e]}),F9=(t,e)=>({...N9(t),options:[t,e]});var U9="Arrow",ON=M.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return E.jsx(et.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});ON.displayName=U9;var V9=ON;function H9(t){const[e,n]=M.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,l=f.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var wS="Popper",[RN,ja]=Ts(wS),[q9,DN]=RN(wS),PN=t=>{const{__scopePopper:e,children:n}=t,[i,r]=M.useState(null);return E.jsx(q9,{scope:e,anchor:i,onAnchorChange:r,children:n})};PN.displayName=wS;var NN="PopperAnchor",jN=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=DN(NN,n),o=M.useRef(null),l=xt(e,o),u=M.useRef(null);return M.useEffect(()=>{const f=u.current;u.current=(i==null?void 0:i.current)||o.current,f!==u.current&&s.onAnchorChange(u.current)}),i?null:E.jsx(et.div,{...r,ref:l})});jN.displayName=NN;var SS="PopperContent",[W9,G9]=RN(SS),LN=M.forwardRef((t,e)=>{var A,I,F,U,K,oe;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:k,...w}=t,C=DN(SS,n),[T,D]=M.useState(null),P=xt(e,pe=>D(pe)),[j,N]=M.useState(null),B=H9(j),L=(B==null?void 0:B.width)??0,z=(B==null?void 0:B.height)??0,W=i+(s!=="center"?"-"+s:""),J=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Z=Array.isArray(f)?f:[f],re=Z.length>0,ye={padding:J,boundary:Z.filter(Y9),altBoundary:re},{refs:ue,floatingStyles:he,placement:H,isPositioned:te,middlewareData:Y}=P9({strategy:"fixed",placement:W,whileElementsMounted:(...pe)=>x9(...pe,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[j9({mainAxis:r+z,alignmentAxis:o}),u&&L9({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?I9():void 0,...ye}),u&&B9({...ye}),$9({...ye,apply:({elements:pe,rects:Te,availableWidth:qe,availableHeight:ot})=>{const{width:Ae,height:Pe}=Te.reference,We=pe.floating.style;We.setProperty("--radix-popper-available-width",`${qe}px`),We.setProperty("--radix-popper-available-height",`${ot}px`),We.setProperty("--radix-popper-anchor-width",`${Ae}px`),We.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),j&&F9({element:j,padding:l}),K9({arrowWidth:L,arrowHeight:z}),v&&z9({strategy:"referenceHidden",...ye})]}),[se,we]=$N(H),V=Nr(k);Dn(()=>{te&&(V==null||V())},[te,V]);const Q=(A=Y.arrow)==null?void 0:A.x,h=(I=Y.arrow)==null?void 0:I.y,b=((F=Y.arrow)==null?void 0:F.centerOffset)!==0,[_,O]=M.useState();return Dn(()=>{T&&O(window.getComputedStyle(T).zIndex)},[T]),E.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:te?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[(U=Y.transformOrigin)==null?void 0:U.x,(K=Y.transformOrigin)==null?void 0:K.y].join(" "),...((oe=Y.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(W9,{scope:n,placedSide:se,onArrowChange:N,arrowX:Q,arrowY:h,shouldHideArrow:b,children:E.jsx(et.div,{"data-side":se,"data-align":we,...w,ref:P,style:{...w.style,animation:te?void 0:"none"}})})})});LN.displayName=SS;var IN="PopperArrow",J9={top:"bottom",right:"left",bottom:"top",left:"right"},BN=M.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=G9(IN,i),o=J9[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(V9,{...r,ref:n,style:{...r.style,display:"block"}})})});BN.displayName=IN;function Y9(t){return t!==null}var K9=t=>({name:"transformOrigin",options:t,fn(e){var C,T,D;const{placement:n,rects:i,middlewareData:r}=e,o=((C=r.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,p]=$N(n),g={start:"0%",center:"50%",end:"100%"}[p],v=(((T=r.arrow)==null?void 0:T.x)??0)+l/2,S=(((D=r.arrow)==null?void 0:D.y)??0)+u/2;let k="",w="";return f==="bottom"?(k=o?g:`${v}px`,w=`${-u}px`):f==="top"?(k=o?g:`${v}px`,w=`${i.floating.height+u}px`):f==="right"?(k=`${-u}px`,w=o?g:`${S}px`):f==="left"&&(k=`${i.floating.width+u}px`,w=o?g:`${S}px`),{data:{x:k,y:w}}}});function $N(t){const[e,n="center"]=t.split("-");return[e,n]}var bg=PN,nf=jN,_g=LN,wg=BN,X9="Portal",rf=M.forwardRef((t,e)=>{var l;const{container:n,...i}=t,[r,s]=M.useState(!1);Dn(()=>s(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?t8.createPortal(E.jsx(et.div,{...i,ref:e}),o):null});rf.displayName=X9;function Q9(t,e){return M.useReducer((n,i)=>e[n][i]??n,t)}var $r=t=>{const{present:e,children:n}=t,i=Z9(e),r=typeof n=="function"?n({present:i.isPresent}):M.Children.only(n),s=xt(i.ref,eH(r));return typeof n=="function"||i.isPresent?M.cloneElement(r,{ref:s}):null};$r.displayName="Presence";function Z9(t){const[e,n]=M.useState(),i=M.useRef(null),r=M.useRef(t),s=M.useRef("none"),o=t?"mounted":"unmounted",[l,u]=Q9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const f=rp(i.current);s.current=l==="mounted"?f:"none"},[l]),Dn(()=>{const f=i.current,p=r.current;if(p!==t){const v=s.current,S=rp(f);t?u("MOUNT"):S==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(p&&v!==S?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),Dn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=S=>{const w=rp(i.current).includes(CSS.escape(S.animationName));if(S.target===e&&w&&(u("ANIMATION_END"),!r.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=S=>{S.target===e&&(s.current=rp(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:M.useCallback(f=>{i.current=f?getComputedStyle(f):null,n(f)},[])}}function rp(t){return(t==null?void 0:t.animationName)||"none"}function eH(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var t0="rovingFocusGroup.onEntryFocus",tH={bubbles:!1,cancelable:!0},sf="RovingFocusGroup",[$_,zN,nH]=hS(sf),[iH,Sg]=Ts(sf,[nH]),[rH,sH]=iH(sf),FN=M.forwardRef((t,e)=>E.jsx($_.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx($_.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(aH,{...t,ref:e})})}));FN.displayName=sf;var aH=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=t,v=M.useRef(null),S=xt(e,v),k=hg(s),[w,C]=Ea({prop:o,defaultProp:l??null,onChange:u,caller:sf}),[T,D]=M.useState(!1),P=Nr(f),j=zN(n),N=M.useRef(!1),[B,L]=M.useState(0);return M.useEffect(()=>{const z=v.current;if(z)return z.addEventListener(t0,P),()=>z.removeEventListener(t0,P)},[P]),E.jsx(rH,{scope:n,orientation:i,dir:k,loop:r,currentTabStopId:w,onItemFocus:M.useCallback(z=>C(z),[C]),onItemShiftTab:M.useCallback(()=>D(!0),[]),onFocusableItemAdd:M.useCallback(()=>L(z=>z+1),[]),onFocusableItemRemove:M.useCallback(()=>L(z=>z-1),[]),children:E.jsx(et.div,{tabIndex:T||B===0?-1:0,"data-orientation":i,...g,ref:S,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{N.current=!0}),onFocus:ke(t.onFocus,z=>{const W=!N.current;if(z.target===z.currentTarget&&W&&!T){const J=new CustomEvent(t0,tH);if(z.currentTarget.dispatchEvent(J),!J.defaultPrevented){const Z=j().filter(H=>H.focusable),re=Z.find(H=>H.active),ye=Z.find(H=>H.id===w),he=[re,ye,...Z].filter(Boolean).map(H=>H.ref.current);HN(he,p)}}N.current=!1}),onBlur:ke(t.onBlur,()=>D(!1))})})}),UN="RovingFocusGroupItem",VN=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...l}=t,u=ks(),f=s||u,p=sH(UN,n),g=p.currentTabStopId===f,v=zN(n),{onFocusableItemAdd:S,onFocusableItemRemove:k,currentTabStopId:w}=p;return M.useEffect(()=>{if(i)return S(),()=>k()},[i,S,k]),E.jsx($_.ItemSlot,{scope:n,id:f,focusable:i,active:r,children:E.jsx(et.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:ke(t.onMouseDown,C=>{i?p.onItemFocus(f):C.preventDefault()}),onFocus:ke(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:ke(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const T=lH(C,p.orientation,p.dir);if(T!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let P=v().filter(j=>j.focusable).map(j=>j.ref.current);if(T==="last")P.reverse();else if(T==="prev"||T==="next"){T==="prev"&&P.reverse();const j=P.indexOf(C.currentTarget);P=p.loop?uH(P,j+1):P.slice(j+1)}setTimeout(()=>HN(P))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:w!=null}):o})})});VN.displayName=UN;var oH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lH(t,e,n){const i=cH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return oH[i]}function HN(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function uH(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var qN=FN,WN=VN;function dH(t){const e=fH(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,l=M.Children.toArray(s),u=l.find(pH);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function fH(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=gH(r),l=mH(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hH=Symbol("radix.slottable");function pH(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hH}function mH(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function gH(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Kc=new WeakMap,sp=new WeakMap,ap={},n0=0,GN=function(t){return t&&(t.host||GN(t.parentNode))},yH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=GN(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bH=function(t,e,n,i){var r=yH(e,Array.isArray(t)?t:[t]);ap[n]||(ap[n]=new WeakMap);var s=ap[n],o=[],l=new Set,u=new Set(r),f=function(g){!g||l.has(g)||(l.add(g),f(g.parentNode))};r.forEach(f);var p=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(v){if(l.has(v))p(v);else try{var S=v.getAttribute(i),k=S!==null&&S!=="false",w=(Kc.get(v)||0)+1,C=(s.get(v)||0)+1;Kc.set(v,w),s.set(v,C),o.push(v),w===1&&k&&sp.set(v,!0),C===1&&v.setAttribute(n,"true"),k||v.setAttribute(i,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return p(e),l.clear(),n0++,function(){o.forEach(function(g){var v=Kc.get(g)-1,S=s.get(g)-1;Kc.set(g,v),s.set(g,S),v||(sp.has(g)||g.removeAttribute(i),sp.delete(g)),S||g.removeAttribute(n)}),n0--,n0||(Kc=new WeakMap,Kc=new WeakMap,sp=new WeakMap,ap={})}},xS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=vH(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),bH(i,r,n,"aria-hidden")):function(){return null}},Ar=function(){return Ar=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ar.apply(this,arguments)};function JN(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function _H(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var Gp="right-scroll-bar-position",Jp="width-before-scroll-bar",wH="with-scroll-bars-hidden",SH="--removed-body-scroll-bar-size";function i0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xH(t,e){var n=M.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var kH=typeof window<"u"?M.useLayoutEffect:M.useEffect,wA=new WeakMap;function CH(t,e){var n=xH(null,function(i){return t.forEach(function(r){return i0(r,i)})});return kH(function(){var i=wA.get(n);if(i){var r=new Set(i),s=new Set(t),o=n.current;r.forEach(function(l){s.has(l)||i0(l,null)}),s.forEach(function(l){r.has(l)||i0(l,o)})}wA.set(n,t)},[t]),n}function MH(t){return t}function EH(t,e){e===void 0&&(e=MH);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,i);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(i=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var u=function(){var p=o;o=[],p.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){o.push(p),f()},filter:function(p){return o=o.filter(p),n}}}};return r}function TH(t){t===void 0&&(t={});var e=EH(null);return e.options=Ar({async:!0,ssr:!1},t),e}var YN=function(t){var e=t.sideCar,n=JN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return M.createElement(i,Ar({},n))};YN.isSideCarExport=!0;function AH(t,e){return t.useMedium(e),YN}var KN=TH(),r0=function(){},xg=M.forwardRef(function(t,e){var n=M.useRef(null),i=M.useState({onScrollCapture:r0,onWheelCapture:r0,onTouchMoveCapture:r0}),r=i[0],s=i[1],o=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,S=t.noRelative,k=t.noIsolation,w=t.inert,C=t.allowPinchZoom,T=t.as,D=T===void 0?"div":T,P=t.gapMode,j=JN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=v,B=CH([n,e]),L=Ar(Ar({},j),r);return M.createElement(M.Fragment,null,p&&M.createElement(N,{sideCar:KN,removeScrollBar:f,shards:g,noRelative:S,noIsolation:k,inert:w,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:P}),o?M.cloneElement(M.Children.only(l),Ar(Ar({},L),{ref:B})):M.createElement(D,Ar({},L,{className:u,ref:B}),l))});xg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xg.classNames={fullWidth:Jp,zeroRight:Gp};var OH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OH();return e&&t.setAttribute("nonce",e),t}function DH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=RH())&&(DH(e,n),PH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jH=function(){var t=NH();return function(e,n){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},XN=function(){var t=jH(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},LH={left:0,top:0,right:0,gap:0},s0=function(t){return parseInt(t||"",10)||0},IH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[s0(n),s0(i),s0(r)]},BH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return LH;var e=IH(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},$H=XN(),ml="data-scroll-locked",zH=function(t,e,n,i){var r=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wH,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gp,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Jp,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(Gp," .").concat(Gp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Jp," .").concat(Jp,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(SH,": ").concat(l,`px;
  }
`)},SA=function(){var t=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(t)?t:0},FH=function(){M.useEffect(function(){return document.body.setAttribute(ml,(SA()+1).toString()),function(){var t=SA()-1;t<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,t.toString())}},[])},UH=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;FH();var s=M.useMemo(function(){return BH(r)},[r]);return M.createElement($H,{styles:zH(s,!e,r,n?"":"!important")})},z_=!1;if(typeof window<"u")try{var op=Object.defineProperty({},"passive",{get:function(){return z_=!0,!0}});window.addEventListener("test",op,op),window.removeEventListener("test",op,op)}catch{z_=!1}var Xc=z_?{passive:!1}:!1,VH=function(t){return t.tagName==="TEXTAREA"},QN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VH(t)&&n[e]==="visible")},HH=function(t){return QN(t,"overflowY")},qH=function(t){return QN(t,"overflowX")},xA=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=ZN(t,i);if(r){var s=ej(t,i),o=s[1],l=s[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},WH=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},GH=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},ZN=function(t,e){return t==="v"?HH(e):qH(e)},ej=function(t,e){return t==="v"?WH(e):GH(e)},JH=function(t,e){return t==="h"&&e==="rtl"?-1:1},YH=function(t,e,n,i,r){var s=JH(t,window.getComputedStyle(e).direction),o=s*i,l=n.target,u=e.contains(l),f=!1,p=o>0,g=0,v=0;do{if(!l)break;var S=ej(t,l),k=S[0],w=S[1],C=S[2],T=w-C-s*k;(k||T)&&ZN(t,l)&&(g+=T,v+=k);var D=l.parentNode;l=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kA=function(t){return[t.deltaX,t.deltaY]},CA=function(t){return t&&"current"in t?t.current:t},KH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QH=0,Qc=[];function ZH(t){var e=M.useRef([]),n=M.useRef([0,0]),i=M.useRef(),r=M.useState(QH++)[0],s=M.useState(XN)[0],o=M.useRef(t);M.useEffect(function(){o.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var w=_H([t.lockRef.current],(t.shards||[]).map(CA),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=M.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var T=cp(w),D=n.current,P="deltaX"in w?w.deltaX:D[0]-T[0],j="deltaY"in w?w.deltaY:D[1]-T[1],N,B=w.target,L=Math.abs(P)>Math.abs(j)?"h":"v";if("touches"in w&&L==="h"&&B.type==="range")return!1;var z=window.getSelection(),W=z&&z.anchorNode,J=W?W===B||W.contains(B):!1;if(J)return!1;var Z=xA(L,B);if(!Z)return!0;if(Z?N=L:(N=L==="v"?"h":"v",Z=xA(L,B)),!Z)return!1;if(!i.current&&"changedTouches"in w&&(P||j)&&(i.current=N),!N)return!0;var re=i.current||N;return YH(re,C,w,re==="h"?P:j)},[]),u=M.useCallback(function(w){var C=w;if(!(!Qc.length||Qc[Qc.length-1]!==s)){var T="deltaY"in C?kA(C):cp(C),D=e.current.filter(function(N){return N.name===C.type&&(N.target===C.target||C.target===N.shadowParent)&&KH(N.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var P=(o.current.shards||[]).map(CA).filter(Boolean).filter(function(N){return N.contains(C.target)}),j=P.length>0?l(C,P[0]):!o.current.noIsolation;j&&C.cancelable&&C.preventDefault()}}},[]),f=M.useCallback(function(w,C,T,D){var P={name:w,delta:C,target:T,should:D,shadowParent:eq(T)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(j){return j!==P})},1)},[]),p=M.useCallback(function(w){n.current=cp(w),i.current=void 0},[]),g=M.useCallback(function(w){f(w.type,kA(w),w.target,l(w,t.lockRef.current))},[]),v=M.useCallback(function(w){f(w.type,cp(w),w.target,l(w,t.lockRef.current))},[]);M.useEffect(function(){return Qc.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Xc),document.addEventListener("touchmove",u,Xc),document.addEventListener("touchstart",p,Xc),function(){Qc=Qc.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,Xc),document.removeEventListener("touchmove",u,Xc),document.removeEventListener("touchstart",p,Xc)}},[]);var S=t.removeScrollBar,k=t.inert;return M.createElement(M.Fragment,null,k?M.createElement(s,{styles:XH(r)}):null,S?M.createElement(UH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function eq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tq=AH(KN,ZH);var kg=M.forwardRef(function(t,e){return M.createElement(xg,Ar({},t,{ref:e,sideCar:tq}))});kg.classNames=xg.classNames;var F_=["Enter"," "],nq=["ArrowDown","PageUp","Home"],tj=["ArrowUp","PageDown","End"],iq=[...nq,...tj],rq={ltr:[...F_,"ArrowRight"],rtl:[...F_,"ArrowLeft"]},sq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},af="Menu",[Nd,aq,oq]=hS(af),[ic,nj]=Ts(af,[oq,ja,Sg]),Cg=ja(),ij=Sg(),[cq,rc]=ic(af),[lq,of]=ic(af),rj=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=t,l=Cg(e),[u,f]=M.useState(null),p=M.useRef(!1),g=Nr(s),v=hg(r);return M.useEffect(()=>{const S=()=>{p.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>p.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),E.jsx(bg,{...l,children:E.jsx(cq,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:f,children:E.jsx(lq,{scope:e,onClose:M.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:o,children:i})})})};rj.displayName=af;var uq="MenuAnchor",kS=M.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Cg(n);return E.jsx(nf,{...r,...i,ref:e})});kS.displayName=uq;var CS="MenuPortal",[dq,sj]=ic(CS,{forceMount:void 0}),aj=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:r}=t,s=rc(CS,e);return E.jsx(dq,{scope:e,forceMount:n,children:E.jsx($r,{present:n||s.open,children:E.jsx(rf,{asChild:!0,container:r,children:i})})})};aj.displayName=CS;var Fi="MenuContent",[fq,MS]=ic(Fi),oj=M.forwardRef((t,e)=>{const n=sj(Fi,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=rc(Fi,t.__scopeMenu),o=of(Fi,t.__scopeMenu);return E.jsx(Nd.Provider,{scope:t.__scopeMenu,children:E.jsx($r,{present:i||s.open,children:E.jsx(Nd.Slot,{scope:t.__scopeMenu,children:o.modal?E.jsx(hq,{...r,ref:e}):E.jsx(pq,{...r,ref:e})})})})}),hq=M.forwardRef((t,e)=>{const n=rc(Fi,t.__scopeMenu),i=M.useRef(null),r=xt(e,i);return M.useEffect(()=>{const s=i.current;if(s)return xS(s)},[]),E.jsx(ES,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pq=M.forwardRef((t,e)=>{const n=rc(Fi,t.__scopeMenu);return E.jsx(ES,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mq=dH("MenuContent.ScrollLock"),ES=M.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,disableOutsideScroll:k,...w}=t,C=rc(Fi,n),T=of(Fi,n),D=Cg(n),P=ij(n),j=aq(n),[N,B]=M.useState(null),L=M.useRef(null),z=xt(e,L,C.onContentChange),W=M.useRef(0),J=M.useRef(""),Z=M.useRef(0),re=M.useRef(null),ye=M.useRef("right"),ue=M.useRef(0),he=k?kg:M.Fragment,H=k?{as:mq,allowPinchZoom:!0}:void 0,te=se=>{var A,I;const we=J.current+se,V=j().filter(F=>!F.disabled),Q=document.activeElement,h=(A=V.find(F=>F.ref.current===Q))==null?void 0:A.textValue,b=V.map(F=>F.textValue),_=Eq(b,we,h),O=(I=V.find(F=>F.textValue===_))==null?void 0:I.ref.current;(function F(U){J.current=U,window.clearTimeout(W.current),U!==""&&(W.current=window.setTimeout(()=>F(""),1e3))})(we),O&&setTimeout(()=>O.focus())};M.useEffect(()=>()=>window.clearTimeout(W.current),[]),pS();const Y=M.useCallback(se=>{var V,Q;return ye.current===((V=re.current)==null?void 0:V.side)&&Aq(se,(Q=re.current)==null?void 0:Q.area)},[]);return E.jsx(fq,{scope:n,searchRef:J,onItemEnter:M.useCallback(se=>{Y(se)&&se.preventDefault()},[Y]),onItemLeave:M.useCallback(se=>{var we;Y(se)||((we=L.current)==null||we.focus(),B(null))},[Y]),onTriggerLeave:M.useCallback(se=>{Y(se)&&se.preventDefault()},[Y]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:M.useCallback(se=>{re.current=se},[]),children:E.jsx(he,{...H,children:E.jsx(pg,{asChild:!0,trapped:r,onMountAutoFocus:ke(s,se=>{var we;se.preventDefault(),(we=L.current)==null||we.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:E.jsx(ef,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,children:E.jsx(qN,{asChild:!0,...P,dir:T.dir,orientation:"vertical",loop:i,currentTabStopId:N,onCurrentTabStopIdChange:B,onEntryFocus:ke(u,se=>{T.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(_g,{role:"menu","aria-orientation":"vertical","data-state":xj(C.open),"data-radix-menu-content":"",dir:T.dir,...D,...w,ref:z,style:{outline:"none",...w.style},onKeyDown:ke(w.onKeyDown,se=>{const V=se.target.closest("[data-radix-menu-content]")===se.currentTarget,Q=se.ctrlKey||se.altKey||se.metaKey,h=se.key.length===1;V&&(se.key==="Tab"&&se.preventDefault(),!Q&&h&&te(se.key));const b=L.current;if(se.target!==b||!iq.includes(se.key))return;se.preventDefault();const O=j().filter(A=>!A.disabled).map(A=>A.ref.current);tj.includes(se.key)&&O.reverse(),Cq(O)}),onBlur:ke(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(W.current),J.current="")}),onPointerMove:ke(t.onPointerMove,jd(se=>{const we=se.target,V=ue.current!==se.clientX;if(se.currentTarget.contains(we)&&V){const Q=se.clientX>ue.current?"right":"left";ye.current=Q,ue.current=se.clientX}}))})})})})})})});oj.displayName=Fi;var gq="MenuGroup",TS=M.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(et.div,{role:"group",...i,ref:e})});TS.displayName=gq;var vq="MenuLabel",cj=M.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(et.div,{...i,ref:e})});cj.displayName=vq;var Tm="MenuItem",MA="menu.itemSelect",Mg=M.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...r}=t,s=M.useRef(null),o=of(Tm,t.__scopeMenu),l=MS(Tm,t.__scopeMenu),u=xt(e,s),f=M.useRef(!1),p=()=>{const g=s.current;if(!n&&g){const v=new CustomEvent(MA,{bubbles:!0,cancelable:!0});g.addEventListener(MA,S=>i==null?void 0:i(S),{once:!0}),mN(g,v),v.defaultPrevented?f.current=!1:o.onClose()}};return E.jsx(lj,{...r,ref:u,disabled:n,onClick:ke(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),f.current=!0},onPointerUp:ke(t.onPointerUp,g=>{var v;f.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:ke(t.onKeyDown,g=>{const v=l.searchRef.current!=="";n||v&&g.key===" "||F_.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Mg.displayName=Tm;var lj=M.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:r,...s}=t,o=MS(Tm,n),l=ij(n),u=M.useRef(null),f=xt(e,u),[p,g]=M.useState(!1),[v,S]=M.useState("");return M.useEffect(()=>{const k=u.current;k&&S((k.textContent??"").trim())},[s.children]),E.jsx(Nd.ItemSlot,{scope:n,disabled:i,textValue:r??v,children:E.jsx(WN,{asChild:!0,...l,focusable:!i,children:E.jsx(et.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:f,onPointerMove:ke(t.onPointerMove,jd(k=>{i?o.onItemLeave(k):(o.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(t.onPointerLeave,jd(k=>o.onItemLeave(k))),onFocus:ke(t.onFocus,()=>g(!0)),onBlur:ke(t.onBlur,()=>g(!1))})})})}),yq="MenuCheckboxItem",uj=M.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...r}=t;return E.jsx(mj,{scope:t.__scopeMenu,checked:n,children:E.jsx(Mg,{role:"menuitemcheckbox","aria-checked":Am(n)?"mixed":n,...r,ref:e,"data-state":OS(n),onSelect:ke(r.onSelect,()=>i==null?void 0:i(Am(n)?!0:!n),{checkForDefaultPrevented:!1})})})});uj.displayName=yq;var dj="MenuRadioGroup",[bq,_q]=ic(dj,{value:void 0,onValueChange:()=>{}}),fj=M.forwardRef((t,e)=>{const{value:n,onValueChange:i,...r}=t,s=Nr(i);return E.jsx(bq,{scope:t.__scopeMenu,value:n,onValueChange:s,children:E.jsx(TS,{...r,ref:e})})});fj.displayName=dj;var hj="MenuRadioItem",pj=M.forwardRef((t,e)=>{const{value:n,...i}=t,r=_q(hj,t.__scopeMenu),s=n===r.value;return E.jsx(mj,{scope:t.__scopeMenu,checked:s,children:E.jsx(Mg,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":OS(s),onSelect:ke(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});pj.displayName=hj;var AS="MenuItemIndicator",[mj,wq]=ic(AS,{checked:!1}),gj=M.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...r}=t,s=wq(AS,n);return E.jsx($r,{present:i||Am(s.checked)||s.checked===!0,children:E.jsx(et.span,{...r,ref:e,"data-state":OS(s.checked)})})});gj.displayName=AS;var Sq="MenuSeparator",vj=M.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return E.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});vj.displayName=Sq;var xq="MenuArrow",yj=M.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,r=Cg(n);return E.jsx(wg,{...r,...i,ref:e})});yj.displayName=xq;var kq="MenuSub",[Mie,bj]=ic(kq),cd="MenuSubTrigger",_j=M.forwardRef((t,e)=>{const n=rc(cd,t.__scopeMenu),i=of(cd,t.__scopeMenu),r=bj(cd,t.__scopeMenu),s=MS(cd,t.__scopeMenu),o=M.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,f={__scopeMenu:t.__scopeMenu},p=M.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return M.useEffect(()=>p,[p]),M.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),E.jsx(kS,{asChild:!0,...f,children:E.jsx(lj,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":xj(n.open),...t,ref:Es(e,r.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(t.onPointerMove,jd(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:ke(t.onPointerLeave,jd(g=>{var S,k;p();const v=(S=n.content)==null?void 0:S.getBoundingClientRect();if(v){const w=(k=n.content)==null?void 0:k.dataset.side,C=w==="right",T=C?-5:5,D=v[C?"left":"right"],P=v[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:D,y:v.top},{x:P,y:v.top},{x:P,y:v.bottom},{x:D,y:v.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ke(t.onKeyDown,g=>{var S;const v=s.searchRef.current!=="";t.disabled||v&&g.key===" "||rq[i.dir].includes(g.key)&&(n.onOpenChange(!0),(S=n.content)==null||S.focus(),g.preventDefault())})})})});_j.displayName=cd;var wj="MenuSubContent",Sj=M.forwardRef((t,e)=>{const n=sj(Fi,t.__scopeMenu),{forceMount:i=n.forceMount,...r}=t,s=rc(Fi,t.__scopeMenu),o=of(Fi,t.__scopeMenu),l=bj(wj,t.__scopeMenu),u=M.useRef(null),f=xt(e,u);return E.jsx(Nd.Provider,{scope:t.__scopeMenu,children:E.jsx($r,{present:i||s.open,children:E.jsx(Nd.Slot,{scope:t.__scopeMenu,children:E.jsx(ES,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;o.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ke(t.onFocusOutside,p=>{p.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ke(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:ke(t.onKeyDown,p=>{var S;const g=p.currentTarget.contains(p.target),v=sq[o.dir].includes(p.key);g&&v&&(s.onOpenChange(!1),(S=l.trigger)==null||S.focus(),p.preventDefault())})})})})})});Sj.displayName=wj;function xj(t){return t?"open":"closed"}function Am(t){return t==="indeterminate"}function OS(t){return Am(t)?"indeterminate":t?"checked":"unchecked"}function Cq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Mq(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function Eq(t,e,n){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Mq(t,Math.max(s,0));r.length===1&&(o=o.filter(f=>f!==n));const u=o.find(f=>f.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function Tq(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],f=l.x,p=l.y,g=u.x,v=u.y;p>i!=v>i&&n<(g-f)*(i-p)/(v-p)+f&&(r=!r)}return r}function Aq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Tq(n,e)}function jd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Oq=rj,Rq=kS,Dq=aj,Pq=oj,Nq=TS,jq=cj,Lq=Mg,Iq=uj,Bq=fj,$q=pj,zq=gj,Fq=vj,Uq=yj,Vq=_j,Hq=Sj,Eg="DropdownMenu",[qq,Eie]=Ts(Eg,[nj]),Hn=nj(),[Wq,kj]=qq(Eg),Cj=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=Hn(e),f=M.useRef(null),[p,g]=Ea({prop:r,defaultProp:s??!1,onChange:o,caller:Eg});return E.jsx(Wq,{scope:e,triggerId:ks(),triggerRef:f,contentId:ks(),open:p,onOpenChange:g,onOpenToggle:M.useCallback(()=>g(v=>!v),[g]),modal:l,children:E.jsx(Oq,{...u,open:p,onOpenChange:g,dir:i,modal:l,children:n})})};Cj.displayName=Eg;var Mj="DropdownMenuTrigger",Ej=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...r}=t,s=kj(Mj,n),o=Hn(n);return E.jsx(Rq,{asChild:!0,...o,children:E.jsx(et.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:Es(e,s.triggerRef),onPointerDown:ke(t.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:ke(t.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ej.displayName=Mj;var Gq="DropdownMenuPortal",Tj=t=>{const{__scopeDropdownMenu:e,...n}=t,i=Hn(e);return E.jsx(Dq,{...i,...n})};Tj.displayName=Gq;var Aj="DropdownMenuContent",Oj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=kj(Aj,n),s=Hn(n),o=M.useRef(!1);return E.jsx(Pq,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:ke(t.onCloseAutoFocus,l=>{var u;o.current||(u=r.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ke(t.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!r.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oj.displayName=Aj;var Jq="DropdownMenuGroup",Yq=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Nq,{...r,...i,ref:e})});Yq.displayName=Jq;var Kq="DropdownMenuLabel",Rj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(jq,{...r,...i,ref:e})});Rj.displayName=Kq;var Xq="DropdownMenuItem",Dj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Lq,{...r,...i,ref:e})});Dj.displayName=Xq;var Qq="DropdownMenuCheckboxItem",Pj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Iq,{...r,...i,ref:e})});Pj.displayName=Qq;var Zq="DropdownMenuRadioGroup",eW=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Bq,{...r,...i,ref:e})});eW.displayName=Zq;var tW="DropdownMenuRadioItem",nW=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx($q,{...r,...i,ref:e})});nW.displayName=tW;var iW="DropdownMenuItemIndicator",Nj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(zq,{...r,...i,ref:e})});Nj.displayName=iW;var rW="DropdownMenuSeparator",jj=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Fq,{...r,...i,ref:e})});jj.displayName=rW;var sW="DropdownMenuArrow",aW=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Uq,{...r,...i,ref:e})});aW.displayName=sW;var oW="DropdownMenuSubTrigger",cW=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Vq,{...r,...i,ref:e})});cW.displayName=oW;var lW="DropdownMenuSubContent",uW=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,r=Hn(n);return E.jsx(Hq,{...r,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uW.displayName=lW;var dW=Cj,fW=Ej,hW=Tj,pW=Oj,mW=Rj,gW=Dj,vW=Pj,yW=Nj,bW=jj;function _W(t){const e=wW(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,l=M.Children.toArray(s),u=l.find(xW);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function wW(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=CW(r),l=kW(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SW=Symbol("radix.slottable");function xW(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SW}function kW(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function CW(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Tg="Popover",[Lj,Tie]=Ts(Tg,[ja]),cf=ja(),[MW,La]=Lj(Tg),Ij=t=>{const{__scopePopover:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!1}=t,l=cf(e),u=M.useRef(null),[f,p]=M.useState(!1),[g,v]=Ea({prop:i,defaultProp:r??!1,onChange:s,caller:Tg});return E.jsx(bg,{...l,children:E.jsx(MW,{scope:e,contentId:ks(),triggerRef:u,open:g,onOpenChange:v,onOpenToggle:M.useCallback(()=>v(S=>!S),[v]),hasCustomAnchor:f,onCustomAnchorAdd:M.useCallback(()=>p(!0),[]),onCustomAnchorRemove:M.useCallback(()=>p(!1),[]),modal:o,children:n})})};Ij.displayName=Tg;var Bj="PopoverAnchor",EW=M.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=La(Bj,n),s=cf(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return M.useEffect(()=>(o(),()=>l()),[o,l]),E.jsx(nf,{...s,...i,ref:e})});EW.displayName=Bj;var $j="PopoverTrigger",zj=M.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=La($j,n),s=cf(n),o=xt(e,r.triggerRef),l=E.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":qj(r.open),...i,ref:o,onClick:ke(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:E.jsx(nf,{asChild:!0,...s,children:l})});zj.displayName=$j;var RS="PopoverPortal",[TW,AW]=Lj(RS,{forceMount:void 0}),Fj=t=>{const{__scopePopover:e,forceMount:n,children:i,container:r}=t,s=La(RS,e);return E.jsx(TW,{scope:e,forceMount:n,children:E.jsx($r,{present:n||s.open,children:E.jsx(rf,{asChild:!0,container:r,children:i})})})};Fj.displayName=RS;var Al="PopoverContent",Uj=M.forwardRef((t,e)=>{const n=AW(Al,t.__scopePopover),{forceMount:i=n.forceMount,...r}=t,s=La(Al,t.__scopePopover);return E.jsx($r,{present:i||s.open,children:s.modal?E.jsx(RW,{...r,ref:e}):E.jsx(DW,{...r,ref:e})})});Uj.displayName=Al;var OW=_W("PopoverContent.RemoveScroll"),RW=M.forwardRef((t,e)=>{const n=La(Al,t.__scopePopover),i=M.useRef(null),r=xt(e,i),s=M.useRef(!1);return M.useEffect(()=>{const o=i.current;if(o)return xS(o)},[]),E.jsx(kg,{as:OW,allowPinchZoom:!0,children:E.jsx(Vj,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ke(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),DW=M.forwardRef((t,e)=>{const n=La(Al,t.__scopePopover),i=M.useRef(!1),r=M.useRef(!1);return E.jsx(Vj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(i.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Vj=M.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,...g}=t,v=La(Al,n),S=cf(n);return pS(),E.jsx(pg,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:E.jsx(ef,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:E.jsx(_g,{"data-state":qj(v.open),role:"dialog",id:v.contentId,...S,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Hj="PopoverClose",PW=M.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=La(Hj,n);return E.jsx(et.button,{type:"button",...i,ref:e,onClick:ke(t.onClick,()=>r.onOpenChange(!1))})});PW.displayName=Hj;var NW="PopoverArrow",jW=M.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,r=cf(n);return E.jsx(wg,{...r,...i,ref:e})});jW.displayName=NW;function qj(t){return t?"open":"closed"}var LW=Ij,IW=zj,BW=Fj,$W=Uj;function zW(t,e=[]){let n=[];function i(s,o){const l=M.createContext(o);l.displayName=s+"Context";const u=n.length;n=[...n,o];const f=g=>{var T;const{scope:v,children:S,...k}=g,w=((T=v==null?void 0:v[t])==null?void 0:T[u])||l,C=M.useMemo(()=>k,Object.values(k));return E.jsx(w.Provider,{value:C,children:S})};f.displayName=s+"Provider";function p(g,v){var w;const S=((w=v==null?void 0:v[t])==null?void 0:w[u])||l,k=M.useContext(S);if(k)return k;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,p]}const r=()=>{const s=n.map(o=>M.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[i,FW(r,...e)]}function FW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:u,scopeName:f})=>{const g=u(s)[`__scope${f}`];return{...l,...g}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var UW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wj=UW.reduce((t,e)=>{const n=pN(`Primitive.${e}`),i=M.forwardRef((r,s)=>{const{asChild:o,...l}=r,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{}),DS="Progress",PS=100,[VW,Aie]=zW(DS),[HW,qW]=VW(DS),Gj=M.forwardRef((t,e)=>{const{__scopeProgress:n,value:i=null,max:r,getValueLabel:s=WW,...o}=t;(r||r===0)&&!EA(r)&&console.error(GW(`${r}`,"Progress"));const l=EA(r)?r:PS;i!==null&&!TA(i,l)&&console.error(JW(`${i}`,"Progress"));const u=TA(i,l)?i:null,f=Om(u)?s(u,l):void 0;return E.jsx(HW,{scope:n,value:u,max:l,children:E.jsx(Wj.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Om(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":Kj(u,l),"data-value":u??void 0,"data-max":l,...o,ref:e})})});Gj.displayName=DS;var Jj="ProgressIndicator",Yj=M.forwardRef((t,e)=>{const{__scopeProgress:n,...i}=t,r=qW(Jj,n);return E.jsx(Wj.div,{"data-state":Kj(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:e})});Yj.displayName=Jj;function WW(t,e){return`${Math.round(t/e*100)}%`}function Kj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Om(t){return typeof t=="number"}function EA(t){return Om(t)&&!isNaN(t)&&t>0}function TA(t,e){return Om(t)&&!isNaN(t)&&t<=e&&t>=0}function GW(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${PS}\`.`}function JW(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${PS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Xj=Gj,YW=Yj;const lf=M.createContext(null);lf.displayName="PanelGroupContext";const Ht={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},NS=10,Do=M.useLayoutEffect,AA=ug.useId,KW=typeof AA=="function"?AA:()=>null;let XW=0;function jS(t=null){const e=KW(),n=M.useRef(t||e||null);return n.current===null&&(n.current=""+XW++),t??n.current}function Qj({children:t,className:e="",collapsedSize:n,collapsible:i,defaultSize:r,forwardedRef:s,id:o,maxSize:l,minSize:u,onCollapse:f,onExpand:p,onResize:g,order:v,style:S,tagName:k="div",...w}){const C=M.useContext(lf);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:T,expandPanel:D,getPanelSize:P,getPanelStyle:j,groupId:N,isPanelCollapsed:B,reevaluatePanelConstraints:L,registerPanel:z,resizePanel:W,unregisterPanel:J}=C,Z=jS(o),re=M.useRef({callbacks:{onCollapse:f,onExpand:p,onResize:g},constraints:{collapsedSize:n,collapsible:i,defaultSize:r,maxSize:l,minSize:u},id:Z,idIsFromProps:o!==void 0,order:v});M.useRef({didLogMissingDefaultSizeWarning:!1}),Do(()=>{const{callbacks:ue,constraints:he}=re.current,H={...he};re.current.id=Z,re.current.idIsFromProps=o!==void 0,re.current.order=v,ue.onCollapse=f,ue.onExpand=p,ue.onResize=g,he.collapsedSize=n,he.collapsible=i,he.defaultSize=r,he.maxSize=l,he.minSize=u,(H.collapsedSize!==he.collapsedSize||H.collapsible!==he.collapsible||H.maxSize!==he.maxSize||H.minSize!==he.minSize)&&L(re.current,H)}),Do(()=>{const ue=re.current;return z(ue),()=>{J(ue)}},[v,Z,z,J]),M.useImperativeHandle(s,()=>({collapse:()=>{T(re.current)},expand:ue=>{D(re.current,ue)},getId(){return Z},getSize(){return P(re.current)},isCollapsed(){return B(re.current)},isExpanded(){return!B(re.current)},resize:ue=>{W(re.current,ue)}}),[T,D,P,B,Z,W]);const ye=j(re.current,r);return M.createElement(k,{...w,children:t,className:e,id:Z,style:{...ye,...S},[Ht.groupId]:N,[Ht.panel]:"",[Ht.panelCollapsible]:i||void 0,[Ht.panelId]:Z,[Ht.panelSize]:parseFloat(""+ye.flexGrow).toFixed(1)})}const Zj=M.forwardRef((t,e)=>M.createElement(Qj,{...t,forwardedRef:e}));Qj.displayName="Panel";Zj.displayName="forwardRef(Panel)";let U_=null,eL=!0,Yp=-1,va=null;function QW(){eL=!1}function ZW(t,e,n){const i=(e&sL)!==0,r=(e&aL)!==0,s=(e&oL)!==0,o=(e&cL)!==0;if(e){if(i)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function eG(){va!==null&&(document.head.removeChild(va),U_=null,va=null,Yp=-1)}function a0(t,e,n){var i,r;if(!eL)return;const s=ZW(t,e);if(U_!==s){if(U_=s,va===null&&(va=document.createElement("style"),document.head.appendChild(va)),Yp>=0){var o;(o=va.sheet)===null||o===void 0||o.removeRule(Yp)}Yp=(i=(r=va.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&i!==void 0?i:-1}}function tL(t){return t.type==="keydown"}function nL(t){return t.type.startsWith("pointer")}function iL(t){return t.type.startsWith("mouse")}function Ag(t){if(nL(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(iL(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function tG(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function nG(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function iG(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:DA(t),b:DA(e)};let i;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),i=t;He(i,"Stacking order can only be calculated for elements with a common ancestor");const r={a:RA(OA(n.a)),b:RA(OA(n.b))};if(r.a===r.b){const s=i.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let l=s.length;for(;l--;){const u=s[l];if(u===o.a)return 1;if(u===o.b)return-1}}return Math.sign(r.a-r.b)}const rG=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function sG(t){var e;const n=getComputedStyle((e=rL(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function aG(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||sG(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||rG.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function OA(t){let e=t.length;for(;e--;){const n=t[e];if(He(n,"Missing node"),aG(n))return n}return null}function RA(t){return t&&Number(getComputedStyle(t).zIndex)||0}function DA(t){const e=[];for(;t;)e.push(t),t=rL(t);return e}function rL(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const sL=1,aL=2,oL=4,cL=8,oG=tG()==="coarse";let or=[],gl=!1,ya=new Map,Og=new Map;const Ld=new Set;function cG(t,e,n,i,r){var s;const{ownerDocument:o}=e,l={direction:n,element:e,hitAreaMargins:i,setResizeHandlerState:r},u=(s=ya.get(o))!==null&&s!==void 0?s:0;return ya.set(o,u+1),Ld.add(l),Rm(),function(){var p;Og.delete(t),Ld.delete(l);const g=(p=ya.get(o))!==null&&p!==void 0?p:1;if(ya.set(o,g-1),Rm(),g===1&&ya.delete(o),or.includes(l)){const v=or.indexOf(l);v>=0&&or.splice(v,1),Rg(),r("up",!0,null)}}}function lG(t){const{target:e}=t,{x:n,y:i}=Ag(t);gl=!0,LS({target:e,x:n,y:i}),Rm(),or.length>0&&(Dm("down",t),Rg(),t.preventDefault(),lL(e)||t.stopImmediatePropagation())}function o0(t){const{x:e,y:n}=Ag(t);if(gl&&t.type!=="pointerleave"&&t.buttons===0&&(gl=!1,Dm("up",t)),!gl){const{target:i}=t;LS({target:i,x:e,y:n})}Dm("move",t),Rg(),or.length>0&&t.preventDefault()}function c0(t){const{target:e}=t,{x:n,y:i}=Ag(t);Og.clear(),gl=!1,or.length>0&&(t.preventDefault(),lL(e)||t.stopImmediatePropagation()),Dm("up",t),LS({target:e,x:n,y:i}),Rg(),Rm()}function lL(t){let e=t;for(;e;){if(e.hasAttribute(Ht.resizeHandle))return!0;e=e.parentElement}return!1}function LS({target:t,x:e,y:n}){or.splice(0);let i=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(i=t),Ld.forEach(r=>{const{element:s,hitAreaMargins:o}=r,l=s.getBoundingClientRect(),{bottom:u,left:f,right:p,top:g}=l,v=oG?o.coarse:o.fine;if(e>=f-v&&e<=p+v&&n>=g-v&&n<=u+v){if(i!==null&&document.contains(i)&&s!==i&&!s.contains(i)&&!i.contains(s)&&iG(i,s)>0){let k=i,w=!1;for(;k&&!k.contains(s);){if(nG(k.getBoundingClientRect(),l)){w=!0;break}k=k.parentElement}if(w)return}or.push(r)}})}function l0(t,e){Og.set(t,e)}function Rg(){let t=!1,e=!1;or.forEach(i=>{const{direction:r}=i;r==="horizontal"?t=!0:e=!0});let n=0;Og.forEach(i=>{n|=i}),t&&e?a0("intersection",n):t?a0("horizontal",n):e?a0("vertical",n):eG()}let u0;function Rm(){var t;(t=u0)===null||t===void 0||t.abort(),u0=new AbortController;const e={capture:!0,signal:u0.signal};Ld.size&&(gl?(or.length>0&&ya.forEach((n,i)=>{const{body:r}=i;n>0&&(r.addEventListener("contextmenu",c0,e),r.addEventListener("pointerleave",o0,e),r.addEventListener("pointermove",o0,e))}),ya.forEach((n,i)=>{const{body:r}=i;r.addEventListener("pointerup",c0,e),r.addEventListener("pointercancel",c0,e)})):ya.forEach((n,i)=>{const{body:r}=i;n>0&&(r.addEventListener("pointerdown",lG,e),r.addEventListener("pointermove",o0,e))}))}function Dm(t,e){Ld.forEach(n=>{const{setResizeHandlerState:i}=n,r=or.includes(n);i(t,r,e)})}function uG(){const[t,e]=M.useState(0);return M.useCallback(()=>e(n=>n+1),[])}function He(t,e){if(!t)throw console.error(e),Error(e)}function Ho(t,e,n=NS){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function gs(t,e,n=NS){return Ho(t,e,n)===0}function hi(t,e,n){return Ho(t,e,n)===0}function dG(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(!hi(r,s,n))return!1}return!0}function ol({panelConstraints:t,panelIndex:e,size:n}){const i=t[e];He(i!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:r=0,collapsible:s,maxSize:o=100,minSize:l=0}=i;if(Ho(n,l)<0)if(s){const u=(r+l)/2;Ho(n,u)<0?n=r:n=l}else n=l;return n=Math.min(o,n),n=parseFloat(n.toFixed(NS)),n}function ld({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:i,prevLayout:r,trigger:s}){if(hi(t,0))return e;const o=[...e],[l,u]=i;He(l!=null,"Invalid first pivot index"),He(u!=null,"Invalid second pivot index");let f=0;if(s==="keyboard"){{const g=t<0?u:l,v=n[g];He(v,`Panel constraints not found for index ${g}`);const{collapsedSize:S=0,collapsible:k,minSize:w=0}=v;if(k){const C=e[g];if(He(C!=null,`Previous layout not found for panel index ${g}`),hi(C,S)){const T=w-C;Ho(T,Math.abs(t))>0&&(t=t<0?0-T:T)}}}{const g=t<0?l:u,v=n[g];He(v,`No panel constraints found for index ${g}`);const{collapsedSize:S=0,collapsible:k,minSize:w=0}=v;if(k){const C=e[g];if(He(C!=null,`Previous layout not found for panel index ${g}`),hi(C,w)){const T=C-S;Ho(T,Math.abs(t))>0&&(t=t<0?0-T:T)}}}}{const g=t<0?1:-1;let v=t<0?u:l,S=0;for(;;){const w=e[v];He(w!=null,`Previous layout not found for panel index ${v}`);const T=ol({panelConstraints:n,panelIndex:v,size:100})-w;if(S+=T,v+=g,v<0||v>=n.length)break}const k=Math.min(Math.abs(t),Math.abs(S));t=t<0?0-k:k}{let v=t<0?l:u;for(;v>=0&&v<n.length;){const S=Math.abs(t)-Math.abs(f),k=e[v];He(k!=null,`Previous layout not found for panel index ${v}`);const w=k-S,C=ol({panelConstraints:n,panelIndex:v,size:w});if(!hi(k,C)&&(f+=k-C,o[v]=C,f.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?v--:v++}}if(dG(r,o))return r;{const g=t<0?u:l,v=e[g];He(v!=null,`Previous layout not found for panel index ${g}`);const S=v+f,k=ol({panelConstraints:n,panelIndex:g,size:S});if(o[g]=k,!hi(k,S)){let w=S-k,T=t<0?u:l;for(;T>=0&&T<n.length;){const D=o[T];He(D!=null,`Previous layout not found for panel index ${T}`);const P=D+w,j=ol({panelConstraints:n,panelIndex:T,size:P});if(hi(D,j)||(w-=j-D,o[T]=j),hi(w,0))break;t>0?T--:T++}}}const p=o.reduce((g,v)=>v+g,0);return hi(p,100)?o:r}function fG({layout:t,panelsArray:e,pivotIndices:n}){let i=0,r=100,s=0,o=0;const l=n[0];He(l!=null,"No pivot index found"),e.forEach((g,v)=>{const{constraints:S}=g,{maxSize:k=100,minSize:w=0}=S;v===l?(i=w,r=k):(s+=w,o+=k)});const u=Math.min(r,100-s),f=Math.max(i,100-o),p=t[l];return{valueMax:u,valueMin:f,valueNow:p}}function Id(t,e=document){return Array.from(e.querySelectorAll(`[${Ht.resizeHandleId}][data-panel-group-id="${t}"]`))}function uL(t,e,n=document){const r=Id(t,n).findIndex(s=>s.getAttribute(Ht.resizeHandleId)===e);return r??null}function dL(t,e,n){const i=uL(t,e,n);return i!=null?[i,i+1]:[-1,-1]}function hG(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function fL(t,e=document){if(hG(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Dg(t,e=document){const n=e.querySelector(`[${Ht.resizeHandleId}="${t}"]`);return n||null}function pG(t,e,n,i=document){var r,s,o,l;const u=Dg(e,i),f=Id(t,i),p=u?f.indexOf(u):-1,g=(r=(s=n[p])===null||s===void 0?void 0:s.id)!==null&&r!==void 0?r:null,v=(o=(l=n[p+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[g,v]}function mG({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:i,panelDataArray:r,panelGroupElement:s,setLayout:o}){M.useRef({didWarnAboutMissingResizeHandle:!1}),Do(()=>{if(!s)return;const l=Id(n,s);for(let u=0;u<r.length-1;u++){const{valueMax:f,valueMin:p,valueNow:g}=fG({layout:i,panelsArray:r,pivotIndices:[u,u+1]}),v=l[u];if(v!=null){const S=r[u];He(S,`No panel data found for index "${u}"`),v.setAttribute("aria-controls",S.id),v.setAttribute("aria-valuemax",""+Math.round(f)),v.setAttribute("aria-valuemin",""+Math.round(p)),v.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{l.forEach((u,f)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[n,i,r,s]),M.useEffect(()=>{if(!s)return;const l=e.current;He(l,"Eager values not found");const{panelDataArray:u}=l,f=fL(n,s);He(f!=null,`No group found for id "${n}"`);const p=Id(n,s);He(p,`No resize handles found for group id "${n}"`);const g=p.map(v=>{const S=v.getAttribute(Ht.resizeHandleId);He(S,"Resize handle element has no handle id attribute");const[k,w]=pG(n,S,u,s);if(k==null||w==null)return()=>{};const C=T=>{if(!T.defaultPrevented)switch(T.key){case"Enter":{T.preventDefault();const D=u.findIndex(P=>P.id===k);if(D>=0){const P=u[D];He(P,`No panel data found for index ${D}`);const j=i[D],{collapsedSize:N=0,collapsible:B,minSize:L=0}=P.constraints;if(j!=null&&B){const z=ld({delta:hi(j,N)?L-N:N-j,initialLayout:i,panelConstraints:u.map(W=>W.constraints),pivotIndices:dL(n,S,s),prevLayout:i,trigger:"keyboard"});i!==z&&o(z)}}break}}};return v.addEventListener("keydown",C),()=>{v.removeEventListener("keydown",C)}});return()=>{g.forEach(v=>v())}},[s,t,e,n,i,r,o])}function PA(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hL(t,e){const n=t==="horizontal",{x:i,y:r}=Ag(e);return n?i:r}function gG(t,e,n,i,r){const s=n==="horizontal",o=Dg(e,r);He(o,`No resize handle element found for id "${e}"`);const l=o.getAttribute(Ht.groupId);He(l,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=i;const f=hL(n,t),p=fL(l,r);He(p,`No group element found for id "${l}"`);const g=p.getBoundingClientRect(),v=s?g.width:g.height;return(f-u)/v*100}function vG(t,e,n,i,r,s){if(tL(t)){const o=n==="horizontal";let l=0;t.shiftKey?l=100:r!=null?l=r:l=10;let u=0;switch(t.key){case"ArrowDown":u=o?0:l;break;case"ArrowLeft":u=o?-l:0;break;case"ArrowRight":u=o?l:0;break;case"ArrowUp":u=o?0:-l;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return i==null?0:gG(t,e,n,i,s)}function yG({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let i=0,r=100;for(let s=0;s<t.length;s++){const o=n[s];He(o,`Panel constraints not found for index ${s}`);const{defaultSize:l}=o;l!=null&&(i++,e[s]=l,r-=l)}for(let s=0;s<t.length;s++){const o=n[s];He(o,`Panel constraints not found for index ${s}`);const{defaultSize:l}=o;if(l!=null)continue;const u=t.length-i,f=r/u;i++,e[s]=f,r-=f}return e}function Zc(t,e,n){e.forEach((i,r)=>{const s=t[r];He(s,`Panel data not found for index ${r}`);const{callbacks:o,constraints:l,id:u}=s,{collapsedSize:f=0,collapsible:p}=l,g=n[u];if(g==null||i!==g){n[u]=i;const{onCollapse:v,onExpand:S,onResize:k}=o;k&&k(i,g),p&&(v||S)&&(S&&(g==null||gs(g,f))&&!gs(i,f)&&S(),v&&(g==null||!gs(g,f))&&gs(i,f)&&v())}})}function lp(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function bG({defaultSize:t,dragState:e,layout:n,panelData:i,panelIndex:r,precision:s=3}){const o=n[r];let l;return o==null?l=t!=null?t.toFixed(s):"1":i.length===1?l="1":l=o.toFixed(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function _G(t,e=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}function NA(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function pL(t){return`react-resizable-panels:${t}`}function mL(t){return t.map(e=>{const{constraints:n,id:i,idIsFromProps:r,order:s}=e;return r?i:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function gL(t,e){try{const n=pL(t),i=e.getItem(n);if(i){const r=JSON.parse(i);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function wG(t,e,n){var i,r;const s=(i=gL(t,n))!==null&&i!==void 0?i:{},o=mL(e);return(r=s[o])!==null&&r!==void 0?r:null}function SG(t,e,n,i,r){var s;const o=pL(t),l=mL(e),u=(s=gL(t,r))!==null&&s!==void 0?s:{};u[l]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{r.setItem(o,JSON.stringify(u))}catch(f){console.error(f)}}function jA({layout:t,panelConstraints:e}){const n=[...t],i=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!hi(i,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];He(o!=null,`No layout data found for index ${s}`);const l=100/i*o;n[s]=l}let r=0;for(let s=0;s<e.length;s++){const o=n[s];He(o!=null,`No layout data found for index ${s}`);const l=ol({panelConstraints:e,panelIndex:s,size:o});o!=l&&(r+=o-l,n[s]=l)}if(!hi(r,0))for(let s=0;s<e.length;s++){const o=n[s];He(o!=null,`No layout data found for index ${s}`);const l=o+r,u=ol({panelConstraints:e,panelIndex:s,size:l});if(o!==u&&(r-=u-o,n[s]=u,hi(r,0)))break}return n}const xG=100,ud={getItem:t=>(NA(ud),ud.getItem(t)),setItem:(t,e)=>{NA(ud),ud.setItem(t,e)}},LA={};function vL({autoSaveId:t=null,children:e,className:n="",direction:i,forwardedRef:r,id:s=null,onLayout:o=null,keyboardResizeBy:l=null,storage:u=ud,style:f,tagName:p="div",...g}){const v=jS(s),S=M.useRef(null),[k,w]=M.useState(null),[C,T]=M.useState([]),D=uG(),P=M.useRef({}),j=M.useRef(new Map),N=M.useRef(0),B=M.useRef({autoSaveId:t,direction:i,dragState:k,id:v,keyboardResizeBy:l,onLayout:o,storage:u}),L=M.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});M.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),M.useImperativeHandle(r,()=>({getId:()=>B.current.id,getLayout:()=>{const{layout:h}=L.current;return h},setLayout:h=>{const{onLayout:b}=B.current,{layout:_,panelDataArray:O}=L.current,A=jA({layout:h,panelConstraints:O.map(I=>I.constraints)});PA(_,A)||(T(A),L.current.layout=A,b&&b(A),Zc(O,A,P.current))}}),[]),Do(()=>{B.current.autoSaveId=t,B.current.direction=i,B.current.dragState=k,B.current.id=v,B.current.onLayout=o,B.current.storage=u}),mG({committedValuesRef:B,eagerValuesRef:L,groupId:v,layout:C,panelDataArray:L.current.panelDataArray,setLayout:T,panelGroupElement:S.current}),M.useEffect(()=>{const{panelDataArray:h}=L.current;if(t){if(C.length===0||C.length!==h.length)return;let b=LA[t];b==null&&(b=_G(SG,xG),LA[t]=b);const _=[...h],O=new Map(j.current);b(t,_,O,C,u)}},[t,C,u]),M.useEffect(()=>{});const z=M.useCallback(h=>{const{onLayout:b}=B.current,{layout:_,panelDataArray:O}=L.current;if(h.constraints.collapsible){const A=O.map(K=>K.constraints),{collapsedSize:I=0,panelSize:F,pivotIndices:U}=uo(O,h,_);if(He(F!=null,`Panel size not found for panel "${h.id}"`),!gs(F,I)){j.current.set(h.id,F);const oe=rl(O,h)===O.length-1?F-I:I-F,pe=ld({delta:oe,initialLayout:_,panelConstraints:A,pivotIndices:U,prevLayout:_,trigger:"imperative-api"});lp(_,pe)||(T(pe),L.current.layout=pe,b&&b(pe),Zc(O,pe,P.current))}}},[]),W=M.useCallback((h,b)=>{const{onLayout:_}=B.current,{layout:O,panelDataArray:A}=L.current;if(h.constraints.collapsible){const I=A.map(Te=>Te.constraints),{collapsedSize:F=0,panelSize:U=0,minSize:K=0,pivotIndices:oe}=uo(A,h,O),pe=b??K;if(gs(U,F)){const Te=j.current.get(h.id),qe=Te!=null&&Te>=pe?Te:pe,Ae=rl(A,h)===A.length-1?U-qe:qe-U,Pe=ld({delta:Ae,initialLayout:O,panelConstraints:I,pivotIndices:oe,prevLayout:O,trigger:"imperative-api"});lp(O,Pe)||(T(Pe),L.current.layout=Pe,_&&_(Pe),Zc(A,Pe,P.current))}}},[]),J=M.useCallback(h=>{const{layout:b,panelDataArray:_}=L.current,{panelSize:O}=uo(_,h,b);return He(O!=null,`Panel size not found for panel "${h.id}"`),O},[]),Z=M.useCallback((h,b)=>{const{panelDataArray:_}=L.current,O=rl(_,h);return bG({defaultSize:b,dragState:k,layout:C,panelData:_,panelIndex:O})},[k,C]),re=M.useCallback(h=>{const{layout:b,panelDataArray:_}=L.current,{collapsedSize:O=0,collapsible:A,panelSize:I}=uo(_,h,b);return He(I!=null,`Panel size not found for panel "${h.id}"`),A===!0&&gs(I,O)},[]),ye=M.useCallback(h=>{const{layout:b,panelDataArray:_}=L.current,{collapsedSize:O=0,collapsible:A,panelSize:I}=uo(_,h,b);return He(I!=null,`Panel size not found for panel "${h.id}"`),!A||Ho(I,O)>0},[]),ue=M.useCallback(h=>{const{panelDataArray:b}=L.current;b.push(h),b.sort((_,O)=>{const A=_.order,I=O.order;return A==null&&I==null?0:A==null?-1:I==null?1:A-I}),L.current.panelDataArrayChanged=!0,D()},[D]);Do(()=>{if(L.current.panelDataArrayChanged){L.current.panelDataArrayChanged=!1;const{autoSaveId:h,onLayout:b,storage:_}=B.current,{layout:O,panelDataArray:A}=L.current;let I=null;if(h){const U=wG(h,A,_);U&&(j.current=new Map(Object.entries(U.expandToSizes)),I=U.layout)}I==null&&(I=yG({panelDataArray:A}));const F=jA({layout:I,panelConstraints:A.map(U=>U.constraints)});PA(O,F)||(T(F),L.current.layout=F,b&&b(F),Zc(A,F,P.current))}}),Do(()=>{const h=L.current;return()=>{h.layout=[]}},[]);const he=M.useCallback(h=>{let b=!1;const _=S.current;return _&&window.getComputedStyle(_,null).getPropertyValue("direction")==="rtl"&&(b=!0),function(A){A.preventDefault();const I=S.current;if(!I)return()=>null;const{direction:F,dragState:U,id:K,keyboardResizeBy:oe,onLayout:pe}=B.current,{layout:Te,panelDataArray:qe}=L.current,{initialLayout:ot}=U??{},Ae=dL(K,h,I);let Pe=vG(A,h,F,U,oe,I);const We=F==="horizontal";We&&b&&(Pe=-Pe);const qt=qe.map(pn=>pn.constraints),Ft=ld({delta:Pe,initialLayout:ot??Te,panelConstraints:qt,pivotIndices:Ae,prevLayout:Te,trigger:tL(A)?"keyboard":"mouse-or-touch"}),an=!lp(Te,Ft);(nL(A)||iL(A))&&N.current!=Pe&&(N.current=Pe,!an&&Pe!==0?We?l0(h,Pe<0?sL:aL):l0(h,Pe<0?oL:cL):l0(h,0)),an&&(T(Ft),L.current.layout=Ft,pe&&pe(Ft),Zc(qe,Ft,P.current))}},[]),H=M.useCallback((h,b)=>{const{onLayout:_}=B.current,{layout:O,panelDataArray:A}=L.current,I=A.map(Te=>Te.constraints),{panelSize:F,pivotIndices:U}=uo(A,h,O);He(F!=null,`Panel size not found for panel "${h.id}"`);const oe=rl(A,h)===A.length-1?F-b:b-F,pe=ld({delta:oe,initialLayout:O,panelConstraints:I,pivotIndices:U,prevLayout:O,trigger:"imperative-api"});lp(O,pe)||(T(pe),L.current.layout=pe,_&&_(pe),Zc(A,pe,P.current))},[]),te=M.useCallback((h,b)=>{const{layout:_,panelDataArray:O}=L.current,{collapsedSize:A=0,collapsible:I}=b,{collapsedSize:F=0,collapsible:U,maxSize:K=100,minSize:oe=0}=h.constraints,{panelSize:pe}=uo(O,h,_);pe!=null&&(I&&U&&gs(pe,A)?gs(A,F)||H(h,F):pe<oe?H(h,oe):pe>K&&H(h,K))},[H]),Y=M.useCallback((h,b)=>{const{direction:_}=B.current,{layout:O}=L.current;if(!S.current)return;const A=Dg(h,S.current);He(A,`Drag handle element not found for id "${h}"`);const I=hL(_,b);w({dragHandleId:h,dragHandleRect:A.getBoundingClientRect(),initialCursorPosition:I,initialLayout:O})},[]),se=M.useCallback(()=>{w(null)},[]),we=M.useCallback(h=>{const{panelDataArray:b}=L.current,_=rl(b,h);_>=0&&(b.splice(_,1),delete P.current[h.id],L.current.panelDataArrayChanged=!0,D())},[D]),V=M.useMemo(()=>({collapsePanel:z,direction:i,dragState:k,expandPanel:W,getPanelSize:J,getPanelStyle:Z,groupId:v,isPanelCollapsed:re,isPanelExpanded:ye,reevaluatePanelConstraints:te,registerPanel:ue,registerResizeHandle:he,resizePanel:H,startDragging:Y,stopDragging:se,unregisterPanel:we,panelGroupElement:S.current}),[z,k,i,W,J,Z,v,re,ye,te,ue,he,H,Y,se,we]),Q={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return M.createElement(lf.Provider,{value:V},M.createElement(p,{...g,children:e,className:n,id:s,ref:S,style:{...Q,...f},[Ht.group]:"",[Ht.groupDirection]:i,[Ht.groupId]:v}))}const yL=M.forwardRef((t,e)=>M.createElement(vL,{...t,forwardedRef:e}));vL.displayName="PanelGroup";yL.displayName="forwardRef(PanelGroup)";function rl(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function uo(t,e,n){const i=rl(t,e),s=i===t.length-1?[i-1,i]:[i,i+1],o=n[i];return{...e.constraints,panelSize:o,pivotIndices:s}}function kG({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:i}){M.useEffect(()=>{if(t||n==null||i==null)return;const r=Dg(e,i);if(r==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const l=r.getAttribute(Ht.groupId);He(l,`No group element found for id "${l}"`);const u=Id(l,i),f=uL(l,e,i);He(f!==null,`No resize element found for id "${e}"`);const p=o.shiftKey?f>0?f-1:u.length-1:f+1<u.length?f+1:0;u[p].focus();break}}};return r.addEventListener("keydown",s),()=>{r.removeEventListener("keydown",s)}},[i,t,e,n])}function bL({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:i,id:r,onBlur:s,onClick:o,onDragging:l,onFocus:u,onPointerDown:f,onPointerUp:p,style:g={},tabIndex:v=0,tagName:S="div",...k}){var w,C;const T=M.useRef(null),D=M.useRef({onClick:o,onDragging:l,onPointerDown:f,onPointerUp:p});M.useEffect(()=>{D.current.onClick=o,D.current.onDragging=l,D.current.onPointerDown=f,D.current.onPointerUp=p});const P=M.useContext(lf);if(P===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:N,registerResizeHandle:B,startDragging:L,stopDragging:z,panelGroupElement:W}=P,J=jS(r),[Z,re]=M.useState("inactive"),[ye,ue]=M.useState(!1),[he,H]=M.useState(null),te=M.useRef({state:Z});Do(()=>{te.current.state=Z}),M.useEffect(()=>{if(n)H(null);else{const V=B(J);H(()=>V)}},[n,J,B]);const Y=(w=i==null?void 0:i.coarse)!==null&&w!==void 0?w:15,se=(C=i==null?void 0:i.fine)!==null&&C!==void 0?C:5;M.useEffect(()=>{if(n||he==null)return;const V=T.current;He(V,"Element ref not attached");let Q=!1;return cG(J,V,j,{coarse:Y,fine:se},(b,_,O)=>{if(!_){re("inactive");return}switch(b){case"down":{re("drag"),Q=!1,He(O,'Expected event to be defined for "down" action'),L(J,O);const{onDragging:A,onPointerDown:I}=D.current;A==null||A(!0),I==null||I();break}case"move":{const{state:A}=te.current;Q=!0,A!=="drag"&&re("hover"),He(O,'Expected event to be defined for "move" action'),he(O);break}case"up":{re("hover"),z();const{onClick:A,onDragging:I,onPointerUp:F}=D.current;I==null||I(!1),F==null||F(),Q||A==null||A();break}}})},[Y,j,n,se,B,J,he,L,z]),kG({disabled:n,handleId:J,resizeHandler:he,panelGroupElement:W});const we={touchAction:"none",userSelect:"none"};return M.createElement(S,{...k,children:t,className:e,id:r,onBlur:()=>{ue(!1),s==null||s()},onFocus:()=>{ue(!0),u==null||u()},ref:T,role:"separator",style:{...we,...g},tabIndex:v,[Ht.groupDirection]:j,[Ht.groupId]:N,[Ht.resizeHandle]:"",[Ht.resizeHandleActive]:Z==="drag"?"pointer":ye?"keyboard":void 0,[Ht.resizeHandleEnabled]:!n,[Ht.resizeHandleId]:J,[Ht.resizeHandleState]:Z})}bL.displayName="PanelResizeHandle";function CG(){const t=M.useContext(lf);return{direction:t==null?void 0:t.direction,groupId:t==null?void 0:t.groupId}}function IA(t,[e,n]){return Math.min(n,Math.max(e,t))}function MG(t){const e=EG(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,l=M.Children.toArray(s),u=l.find(AG);if(u){const f=u.props.children,p=l.map(g=>g===u?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:g);return E.jsx(e,{...o,ref:r,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function EG(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=RG(r),l=OG(s,r.props);return r.type!==M.Fragment&&(l.ref=i?Es(i,o):o),M.cloneElement(r,l)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TG=Symbol("radix.slottable");function AG(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TG}function OG(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...l)=>{const u=s(...l);return r(...l),u}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function RG(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DG(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _L=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PG="VisuallyHidden",wL=M.forwardRef((t,e)=>E.jsx(et.span,{...t,ref:e,style:{..._L,...t.style}}));wL.displayName=PG;var NG=wL,jG=[" ","Enter","ArrowUp","ArrowDown"],LG=[" ","Enter"],qo="Select",[Pg,Ng,IG]=hS(qo),[Gl,Oie]=Ts(qo,[IG,ja]),jg=ja(),[BG,Ia]=Gl(qo),[$G,zG]=Gl(qo),SL=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:r,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:f,name:p,autoComplete:g,disabled:v,required:S,form:k}=t,w=jg(e),[C,T]=M.useState(null),[D,P]=M.useState(null),[j,N]=M.useState(!1),B=hg(f),[L,z]=Ea({prop:i,defaultProp:r??!1,onChange:s,caller:qo}),[W,J]=Ea({prop:o,defaultProp:l,onChange:u,caller:qo}),Z=M.useRef(null),re=C?k||!!C.closest("form"):!0,[ye,ue]=M.useState(new Set),he=Array.from(ye).map(H=>H.props.value).join(";");return E.jsx(bg,{...w,children:E.jsxs(BG,{required:S,scope:e,trigger:C,onTriggerChange:T,valueNode:D,onValueNodeChange:P,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:ks(),value:W,onValueChange:J,open:L,onOpenChange:z,dir:B,triggerPointerDownPosRef:Z,disabled:v,children:[E.jsx(Pg.Provider,{scope:e,children:E.jsx($G,{scope:t.__scopeSelect,onNativeOptionAdd:M.useCallback(H=>{ue(te=>new Set(te).add(H))},[]),onNativeOptionRemove:M.useCallback(H=>{ue(te=>{const Y=new Set(te);return Y.delete(H),Y})},[]),children:n})}),re?E.jsxs(HL,{"aria-hidden":!0,required:S,tabIndex:-1,name:p,autoComplete:g,value:W,onChange:H=>J(H.target.value),disabled:v,form:k,children:[W===void 0?E.jsx("option",{value:""}):null,Array.from(ye)]},he):null]})})};SL.displayName=qo;var xL="SelectTrigger",kL=M.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...r}=t,s=jg(n),o=Ia(xL,n),l=o.disabled||i,u=xt(e,o.onTriggerChange),f=Ng(n),p=M.useRef("touch"),[g,v,S]=WL(w=>{const C=f().filter(P=>!P.disabled),T=C.find(P=>P.value===o.value),D=GL(C,w,T);D!==void 0&&o.onValueChange(D.value)}),k=w=>{l||(o.onOpenChange(!0),S()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return E.jsx(nf,{asChild:!0,...s,children:E.jsx(et.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qL(o.value)?"":void 0,...r,ref:u,onClick:ke(r.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&k(w)}),onPointerDown:ke(r.onPointerDown,w=>{p.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(k(w),w.preventDefault())}),onKeyDown:ke(r.onKeyDown,w=>{const C=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(C&&w.key===" ")&&jG.includes(w.key)&&(k(),w.preventDefault())})})})});kL.displayName=xL;var CL="SelectValue",ML=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:o="",...l}=t,u=Ia(CL,n),{onValueNodeHasChildrenChange:f}=u,p=s!==void 0,g=xt(e,u.onValueNodeChange);return Dn(()=>{f(p)},[f,p]),E.jsx(et.span,{...l,ref:g,style:{pointerEvents:"none"},children:qL(u.value)?E.jsx(E.Fragment,{children:o}):s})});ML.displayName=CL;var FG="SelectIcon",EL=M.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...r}=t;return E.jsx(et.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});EL.displayName=FG;var UG="SelectPortal",TL=t=>E.jsx(rf,{asChild:!0,...t});TL.displayName=UG;var Wo="SelectContent",AL=M.forwardRef((t,e)=>{const n=Ia(Wo,t.__scopeSelect),[i,r]=M.useState();if(Dn(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?Zd.createPortal(E.jsx(OL,{scope:t.__scopeSelect,children:E.jsx(Pg.Slot,{scope:t.__scopeSelect,children:E.jsx("div",{children:t.children})})}),s):null}return E.jsx(RL,{...t,ref:e})});AL.displayName=Wo;var tr=10,[OL,Ba]=Gl(Wo),VG="SelectContentImpl",HG=MG("SelectContent.RemoveScroll"),RL=M.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:S,sticky:k,hideWhenDetached:w,avoidCollisions:C,...T}=t,D=Ia(Wo,n),[P,j]=M.useState(null),[N,B]=M.useState(null),L=xt(e,A=>j(A)),[z,W]=M.useState(null),[J,Z]=M.useState(null),re=Ng(n),[ye,ue]=M.useState(!1),he=M.useRef(!1);M.useEffect(()=>{if(P)return xS(P)},[P]),pS();const H=M.useCallback(A=>{const[I,...F]=re().map(oe=>oe.ref.current),[U]=F.slice(-1),K=document.activeElement;for(const oe of A)if(oe===K||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===I&&N&&(N.scrollTop=0),oe===U&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==K))return},[re,N]),te=M.useCallback(()=>H([z,P]),[H,z,P]);M.useEffect(()=>{ye&&te()},[ye,te]);const{onOpenChange:Y,triggerPointerDownPosRef:se}=D;M.useEffect(()=>{if(P){let A={x:0,y:0};const I=U=>{var K,oe;A={x:Math.abs(Math.round(U.pageX)-(((K=se.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(U.pageY)-(((oe=se.current)==null?void 0:oe.y)??0))}},F=U=>{A.x<=10&&A.y<=10?U.preventDefault():P.contains(U.target)||Y(!1),document.removeEventListener("pointermove",I),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",F,{capture:!0})}}},[P,Y,se]),M.useEffect(()=>{const A=()=>Y(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[Y]);const[we,V]=WL(A=>{const I=re().filter(K=>!K.disabled),F=I.find(K=>K.ref.current===document.activeElement),U=GL(I,A,F);U&&setTimeout(()=>U.ref.current.focus())}),Q=M.useCallback((A,I,F)=>{const U=!he.current&&!F;(D.value!==void 0&&D.value===I||U)&&(W(A),U&&(he.current=!0))},[D.value]),h=M.useCallback(()=>P==null?void 0:P.focus(),[P]),b=M.useCallback((A,I,F)=>{const U=!he.current&&!F;(D.value!==void 0&&D.value===I||U)&&Z(A)},[D.value]),_=i==="popper"?V_:DL,O=_===V_?{side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:S,sticky:k,hideWhenDetached:w,avoidCollisions:C}:{};return E.jsx(OL,{scope:n,content:P,viewport:N,onViewportChange:B,itemRefCallback:Q,selectedItem:z,onItemLeave:h,itemTextRefCallback:b,focusSelectedItem:te,selectedItemText:J,position:i,isPositioned:ye,searchRef:we,children:E.jsx(kg,{as:HG,allowPinchZoom:!0,children:E.jsx(pg,{asChild:!0,trapped:D.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:ke(r,A=>{var I;(I=D.trigger)==null||I.focus({preventScroll:!0}),A.preventDefault()}),children:E.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:E.jsx(_,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:A=>A.preventDefault(),...T,...O,onPlaced:()=>ue(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:ke(T.onKeyDown,A=>{const I=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!I&&A.key.length===1&&V(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let U=re().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(A.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const K=A.target,oe=U.indexOf(K);U=U.slice(oe+1)}setTimeout(()=>H(U)),A.preventDefault()}})})})})})})});RL.displayName=VG;var qG="SelectItemAlignedPosition",DL=M.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...r}=t,s=Ia(Wo,n),o=Ba(Wo,n),[l,u]=M.useState(null),[f,p]=M.useState(null),g=xt(e,L=>p(L)),v=Ng(n),S=M.useRef(!1),k=M.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:T,focusSelectedItem:D}=o,P=M.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&f&&w&&C&&T){const L=s.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),J=T.getBoundingClientRect();if(s.dir!=="rtl"){const K=J.left-z.left,oe=W.left-K,pe=L.left-oe,Te=L.width+pe,qe=Math.max(Te,z.width),ot=window.innerWidth-tr,Ae=IA(oe,[tr,Math.max(tr,ot-qe)]);l.style.minWidth=Te+"px",l.style.left=Ae+"px"}else{const K=z.right-J.right,oe=window.innerWidth-W.right-K,pe=window.innerWidth-L.right-oe,Te=L.width+pe,qe=Math.max(Te,z.width),ot=window.innerWidth-tr,Ae=IA(oe,[tr,Math.max(tr,ot-qe)]);l.style.minWidth=Te+"px",l.style.right=Ae+"px"}const Z=v(),re=window.innerHeight-tr*2,ye=w.scrollHeight,ue=window.getComputedStyle(f),he=parseInt(ue.borderTopWidth,10),H=parseInt(ue.paddingTop,10),te=parseInt(ue.borderBottomWidth,10),Y=parseInt(ue.paddingBottom,10),se=he+H+ye+Y+te,we=Math.min(C.offsetHeight*5,se),V=window.getComputedStyle(w),Q=parseInt(V.paddingTop,10),h=parseInt(V.paddingBottom,10),b=L.top+L.height/2-tr,_=re-b,O=C.offsetHeight/2,A=C.offsetTop+O,I=he+H+A,F=se-I;if(I<=b){const K=Z.length>0&&C===Z[Z.length-1].ref.current;l.style.bottom="0px";const oe=f.clientHeight-w.offsetTop-w.offsetHeight,pe=Math.max(_,O+(K?h:0)+oe+te),Te=I+pe;l.style.height=Te+"px"}else{const K=Z.length>0&&C===Z[0].ref.current;l.style.top="0px";const pe=Math.max(b,he+w.offsetTop+(K?Q:0)+O)+F;l.style.height=pe+"px",w.scrollTop=I-b+w.offsetTop}l.style.margin=`${tr}px 0`,l.style.minHeight=we+"px",l.style.maxHeight=re+"px",i==null||i(),requestAnimationFrame(()=>S.current=!0)}},[v,s.trigger,s.valueNode,l,f,w,C,T,s.dir,i]);Dn(()=>P(),[P]);const[j,N]=M.useState();Dn(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const B=M.useCallback(L=>{L&&k.current===!0&&(P(),D==null||D(),k.current=!1)},[P,D]);return E.jsx(GG,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:S,onScrollButtonChange:B,children:E.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:E.jsx(et.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});DL.displayName=qG;var WG="SelectPopperPosition",V_=M.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=tr,...s}=t,o=jg(n);return E.jsx(_g,{...o,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});V_.displayName=WG;var[GG,IS]=Gl(Wo,{}),H_="SelectViewport",PL=M.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...r}=t,s=Ba(H_,n),o=IS(H_,n),l=xt(e,s.onViewportChange),u=M.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(Pg.Slot,{scope:n,children:E.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ke(r.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&g){const S=Math.abs(u.current-p.scrollTop);if(S>0){const k=window.innerHeight-tr*2,w=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),T=Math.max(w,C);if(T<k){const D=T+S,P=Math.min(k,D),j=D-P;g.style.height=P+"px",g.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,g.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});PL.displayName=H_;var NL="SelectGroup",[JG,YG]=Gl(NL),KG=M.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=ks();return E.jsx(JG,{scope:n,id:r,children:E.jsx(et.div,{role:"group","aria-labelledby":r,...i,ref:e})})});KG.displayName=NL;var jL="SelectLabel",XG=M.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=YG(jL,n);return E.jsx(et.div,{id:r.id,...i,ref:e})});XG.displayName=jL;var Pm="SelectItem",[QG,LL]=Gl(Pm),IL=M.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...o}=t,l=Ia(Pm,n),u=Ba(Pm,n),f=l.value===i,[p,g]=M.useState(s??""),[v,S]=M.useState(!1),k=xt(e,D=>{var P;return(P=u.itemRefCallback)==null?void 0:P.call(u,D,i,r)}),w=ks(),C=M.useRef("touch"),T=()=>{r||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(QG,{scope:n,value:i,disabled:r,textId:w,isSelected:f,onItemTextChange:M.useCallback(D=>{g(P=>P||((D==null?void 0:D.textContent)??"").trim())},[]),children:E.jsx(Pg.ItemSlot,{scope:n,value:i,disabled:r,textValue:p,children:E.jsx(et.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:k,onFocus:ke(o.onFocus,()=>S(!0)),onBlur:ke(o.onBlur,()=>S(!1)),onClick:ke(o.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:ke(o.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:ke(o.onPointerDown,D=>{C.current=D.pointerType}),onPointerMove:ke(o.onPointerMove,D=>{var P;C.current=D.pointerType,r?(P=u.onItemLeave)==null||P.call(u):C.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,D=>{var P;D.currentTarget===document.activeElement&&((P=u.onItemLeave)==null||P.call(u))}),onKeyDown:ke(o.onKeyDown,D=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&D.key===" "||(LG.includes(D.key)&&T(),D.key===" "&&D.preventDefault())})})})})});IL.displayName=Pm;var dd="SelectItemText",BL=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,...s}=t,o=Ia(dd,n),l=Ba(dd,n),u=LL(dd,n),f=zG(dd,n),[p,g]=M.useState(null),v=xt(e,T=>g(T),u.onItemTextChange,T=>{var D;return(D=l.itemTextRefCallback)==null?void 0:D.call(l,T,u.value,u.disabled)}),S=p==null?void 0:p.textContent,k=M.useMemo(()=>E.jsx("option",{value:u.value,disabled:u.disabled,children:S},u.value),[u.disabled,u.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=f;return Dn(()=>(w(k),()=>C(k)),[w,C,k]),E.jsxs(E.Fragment,{children:[E.jsx(et.span,{id:u.textId,...s,ref:v}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zd.createPortal(s.children,o.valueNode):null]})});BL.displayName=dd;var $L="SelectItemIndicator",zL=M.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return LL($L,n).isSelected?E.jsx(et.span,{"aria-hidden":!0,...i,ref:e}):null});zL.displayName=$L;var q_="SelectScrollUpButton",FL=M.forwardRef((t,e)=>{const n=Ba(q_,t.__scopeSelect),i=IS(q_,t.__scopeSelect),[r,s]=M.useState(!1),o=xt(e,i.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=u.scrollTop>0;s(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?E.jsx(VL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});FL.displayName=q_;var W_="SelectScrollDownButton",UL=M.forwardRef((t,e)=>{const n=Ba(W_,t.__scopeSelect),i=IS(W_,t.__scopeSelect),[r,s]=M.useState(!1),o=xt(e,i.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;s(p)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?E.jsx(VL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});UL.displayName=W_;var VL=M.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=t,s=Ba("SelectScrollButton",n),o=M.useRef(null),l=Ng(n),u=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>u(),[u]),Dn(()=>{var p;const f=l().find(g=>g.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),E.jsx(et.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:ke(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:ke(r.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:ke(r.onPointerLeave,()=>{u()})})}),ZG="SelectSeparator",eJ=M.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return E.jsx(et.div,{"aria-hidden":!0,...i,ref:e})});eJ.displayName=ZG;var G_="SelectArrow",tJ=M.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=jg(n),s=Ia(G_,n),o=Ba(G_,n);return s.open&&o.position==="popper"?E.jsx(wg,{...r,...i,ref:e}):null});tJ.displayName=G_;var nJ="SelectBubbleInput",HL=M.forwardRef(({__scopeSelect:t,value:e,...n},i)=>{const r=M.useRef(null),s=xt(i,r),o=DG(e);return M.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&p){const g=new Event("change",{bubbles:!0});p.call(l,e),l.dispatchEvent(g)}},[o,e]),E.jsx(et.select,{...n,style:{..._L,...n.style},ref:s,defaultValue:e})});HL.displayName=nJ;function qL(t){return t===""||t===void 0}function WL(t){const e=Nr(t),n=M.useRef(""),i=M.useRef(0),r=M.useCallback(o=>{const l=n.current+o;e(l),function u(f){n.current=f,window.clearTimeout(i.current),f!==""&&(i.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=M.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function GL(t,e,n){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=iJ(t,Math.max(s,0));r.length===1&&(o=o.filter(f=>f!==n));const u=o.find(f=>f.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function iJ(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var rJ=SL,sJ=kL,aJ=ML,oJ=EL,cJ=TL,lJ=AL,uJ=PL,dJ=IL,fJ=BL,hJ=zL,pJ=FL,mJ=UL,Lg="Tabs",[gJ,Rie]=Ts(Lg,[Sg]),JL=Sg(),[vJ,BS]=gJ(Lg),YL=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...f}=t,p=hg(l),[g,v]=Ea({prop:i,onChange:r,defaultProp:s??"",caller:Lg});return E.jsx(vJ,{scope:n,baseId:ks(),value:g,onValueChange:v,orientation:o,dir:p,activationMode:u,children:E.jsx(et.div,{dir:p,"data-orientation":o,...f,ref:e})})});YL.displayName=Lg;var KL="TabsList",XL=M.forwardRef((t,e)=>{const{__scopeTabs:n,loop:i=!0,...r}=t,s=BS(KL,n),o=JL(n);return E.jsx(qN,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:E.jsx(et.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});XL.displayName=KL;var QL="TabsTrigger",ZL=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,disabled:r=!1,...s}=t,o=BS(QL,n),l=JL(n),u=nI(o.baseId,i),f=iI(o.baseId,i),p=i===o.value;return E.jsx(WN,{asChild:!0,...l,focusable:!r,active:p,children:E.jsx(et.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...s,ref:e,onMouseDown:ke(t.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?o.onValueChange(i):g.preventDefault()}),onKeyDown:ke(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(i)}),onFocus:ke(t.onFocus,()=>{const g=o.activationMode!=="manual";!p&&!r&&g&&o.onValueChange(i)})})})});ZL.displayName=QL;var eI="TabsContent",tI=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:i,forceMount:r,children:s,...o}=t,l=BS(eI,n),u=nI(l.baseId,i),f=iI(l.baseId,i),p=i===l.value,g=M.useRef(p);return M.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),E.jsx($r,{present:r||p,children:({present:v})=>E.jsx(et.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&s})})});tI.displayName=eI;function nI(t,e){return`${t}-trigger-${e}`}function iI(t,e){return`${t}-content-${e}`}var yJ=YL,bJ=XL,_J=ZL,wJ=tI,SJ=Symbol("radix.slottable");function xJ(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=SJ,e}var[Ig,Die]=Ts("Tooltip",[ja]),Bg=ja(),rI="TooltipProvider",kJ=700,J_="tooltip.open",[CJ,$S]=Ig(rI),sI=t=>{const{__scopeTooltip:e,delayDuration:n=kJ,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=M.useRef(!0),l=M.useRef(!1),u=M.useRef(0);return M.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),E.jsx(CJ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:M.useCallback(f=>{l.current=f},[]),disableHoverableContent:r,children:s})};sI.displayName=rI;var Bd="Tooltip",[MJ,uf]=Ig(Bd),aI=t=>{const{__scopeTooltip:e,children:n,open:i,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,u=$S(Bd,t.__scopeTooltip),f=Bg(e),[p,g]=M.useState(null),v=ks(),S=M.useRef(0),k=o??u.disableHoverableContent,w=l??u.delayDuration,C=M.useRef(!1),[T,D]=Ea({prop:i,defaultProp:r??!1,onChange:L=>{L?(u.onOpen(),document.dispatchEvent(new CustomEvent(J_))):u.onClose(),s==null||s(L)},caller:Bd}),P=M.useMemo(()=>T?C.current?"delayed-open":"instant-open":"closed",[T]),j=M.useCallback(()=>{window.clearTimeout(S.current),S.current=0,C.current=!1,D(!0)},[D]),N=M.useCallback(()=>{window.clearTimeout(S.current),S.current=0,D(!1)},[D]),B=M.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{C.current=!0,D(!0),S.current=0},w)},[w,D]);return M.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),E.jsx(bg,{...f,children:E.jsx(MJ,{scope:e,contentId:v,open:T,stateAttribute:P,trigger:p,onTriggerChange:g,onTriggerEnter:M.useCallback(()=>{u.isOpenDelayedRef.current?B():j()},[u.isOpenDelayedRef,B,j]),onTriggerLeave:M.useCallback(()=>{k?N():(window.clearTimeout(S.current),S.current=0)},[N,k]),onOpen:j,onClose:N,disableHoverableContent:k,children:n})})};aI.displayName=Bd;var Y_="TooltipTrigger",oI=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=uf(Y_,n),s=$S(Y_,n),o=Bg(n),l=M.useRef(null),u=xt(e,l,r.onTriggerChange),f=M.useRef(!1),p=M.useRef(!1),g=M.useCallback(()=>f.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),E.jsx(nf,{asChild:!0,...o,children:E.jsx(et.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:u,onPointerMove:ke(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ke(t.onFocus,()=>{f.current||r.onOpen()}),onBlur:ke(t.onBlur,r.onClose),onClick:ke(t.onClick,r.onClose)})})});oI.displayName=Y_;var zS="TooltipPortal",[EJ,TJ]=Ig(zS,{forceMount:void 0}),cI=t=>{const{__scopeTooltip:e,forceMount:n,children:i,container:r}=t,s=uf(zS,e);return E.jsx(EJ,{scope:e,forceMount:n,children:E.jsx($r,{present:n||s.open,children:E.jsx(rf,{asChild:!0,container:r,children:i})})})};cI.displayName=zS;var Ol="TooltipContent",lI=M.forwardRef((t,e)=>{const n=TJ(Ol,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=uf(Ol,t.__scopeTooltip);return E.jsx($r,{present:i||o.open,children:o.disableHoverableContent?E.jsx(uI,{side:r,...s,ref:e}):E.jsx(AJ,{side:r,...s,ref:e})})}),AJ=M.forwardRef((t,e)=>{const n=uf(Ol,t.__scopeTooltip),i=$S(Ol,t.__scopeTooltip),r=M.useRef(null),s=xt(e,r),[o,l]=M.useState(null),{trigger:u,onClose:f}=n,p=r.current,{onPointerInTransitChange:g}=i,v=M.useCallback(()=>{l(null),g(!1)},[g]),S=M.useCallback((k,w)=>{const C=k.currentTarget,T={x:k.clientX,y:k.clientY},D=PJ(T,C.getBoundingClientRect()),P=NJ(T,D),j=jJ(w.getBoundingClientRect()),N=IJ([...P,...j]);l(N),g(!0)},[g]);return M.useEffect(()=>()=>v(),[v]),M.useEffect(()=>{if(u&&p){const k=C=>S(C,p),w=C=>S(C,u);return u.addEventListener("pointerleave",k),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",k),p.removeEventListener("pointerleave",w)}}},[u,p,S,v]),M.useEffect(()=>{if(o){const k=w=>{const C=w.target,T={x:w.clientX,y:w.clientY},D=(u==null?void 0:u.contains(C))||(p==null?void 0:p.contains(C)),P=!LJ(T,o);D?v():P&&(v(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,p,o,f,v]),E.jsx(uI,{...t,ref:s})}),[OJ,RJ]=Ig(Bd,{isInside:!1}),DJ=xJ("TooltipContent"),uI=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,u=uf(Ol,n),f=Bg(n),{onClose:p}=u;return M.useEffect(()=>(document.addEventListener(J_,p),()=>document.removeEventListener(J_,p)),[p]),M.useEffect(()=>{if(u.trigger){const g=v=>{const S=v.target;S!=null&&S.contains(u.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,p]),E.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:E.jsxs(_g,{"data-state":u.stateAttribute,...f,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(DJ,{children:i}),E.jsx(OJ,{scope:n,isInside:!0,children:E.jsx(NG,{id:u.contentId,role:"tooltip",children:r||i})})]})})});lI.displayName=Ol;var dI="TooltipArrow",fI=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=Bg(n);return RJ(dI,n).isInside?null:E.jsx(wg,{...r,...i,ref:e})});fI.displayName=dI;function PJ(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function NJ(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function jJ(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function LJ(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],f=l.x,p=l.y,g=u.x,v=u.y;p>i!=v>i&&n<(g-f)*(i-p)/(v-p)+f&&(r=!r)}return r}function IJ(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),BJ(e)}function BJ(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $J=sI,zJ=aI,FJ=oI,UJ=cI,VJ=lI,HJ=fI;const BA=t=>{let e;const n=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(S=>S(e,v))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=t(i,r,l);return l},qJ=t=>t?BA(t):BA,WJ=t=>t;function GJ(t,e=WJ){const n=un.useSyncExternalStore(t.subscribe,un.useCallback(()=>e(t.getState()),[t,e]),un.useCallback(()=>e(t.getInitialState()),[t,e]));return un.useDebugValue(n),n}const JJ=t=>{const e=qJ(t),n=i=>GJ(e,i);return Object.assign(n,e),n},YJ=t=>JJ;function $A(t,e){if(t==null)return{};var n,i,r=function(o,l){if(o==null)return{};var u={};for(var f in o)if({}.hasOwnProperty.call(o,f)){if(l.indexOf(f)!==-1)continue;u[f]=o[f]}return u}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(t)}function hI(t){var e=function(n,i){if(lt(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,i);if(lt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return lt(e)=="symbol"?e:e+""}function zA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,hI(i.key),i)}}function xi(t,e,n){return e&&zA(t.prototype,e),n&&zA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $g(t,e){if(e&&(lt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(t)}function $d(t,e){return $d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$d(t,e)}function zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$d(t,e)}function Tr(t,e,n){return(e=hI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FA(t,e,n,i,r,s,o){try{var l=t[s](o),u=l.value}catch(f){return void n(f)}l.done?e(u):Promise.resolve(u).then(i,r)}function Ie(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var s=t.apply(e,n);function o(u){FA(s,i,r,o,l,"next",u)}function l(u){FA(s,i,r,o,l,"throw",u)}o(void 0)})}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Tn(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,i){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var s,o,l,u,f=[],p=!0,g=!1;try{if(l=(r=r.call(n)).next,i===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(s=l.call(r)).done)&&(f.push(s.value),f.length!==i);p=!0);}catch(v){g=!0,o=v}finally{try{if(!p&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(g)throw o}}return f}}(t,e)||function(n,i){if(n){if(typeof n=="string")return UA(n,i);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UA(n,i):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function KJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VA,up={exports:{}},K_=function(){if(VA)return up.exports;VA=1;var t,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(w,C,T){return Function.prototype.apply.call(w,C,T)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var i=Number.isNaN||function(w){return w!=w};function r(){r.init.call(this)}up.exports=r,up.exports.once=function(w,C){return new Promise(function(T,D){function P(N){w.removeListener(C,j),D(N)}function j(){typeof w.removeListener=="function"&&w.removeListener("error",P),T([].slice.call(arguments))}k(w,C,j,{once:!0}),C!=="error"&&function(N,B,L){typeof N.on=="function"&&k(N,"error",B,L)}(w,P,{once:!0})})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var s=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function l(w){return w._maxListeners===void 0?r.defaultMaxListeners:w._maxListeners}function u(w,C,T,D){var P,j,N,B;if(o(T),(j=w._events)===void 0?(j=w._events=Object.create(null),w._eventsCount=0):(j.newListener!==void 0&&(w.emit("newListener",C,T.listener?T.listener:T),j=w._events),N=j[C]),N===void 0)N=j[C]=T,++w._eventsCount;else if(typeof N=="function"?N=j[C]=D?[T,N]:[N,T]:D?N.unshift(T):N.push(T),(P=l(w))>0&&N.length>P&&!N.warned){N.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=w,L.type=C,L.count=N.length,B=L,console&&console.warn&&console.warn(B)}return w}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(w,C,T){var D={fired:!1,wrapFn:void 0,target:w,type:C,listener:T},P=f.bind(D);return P.listener=T,D.wrapFn=P,P}function g(w,C,T){var D=w._events;if(D===void 0)return[];var P=D[C];return P===void 0?[]:typeof P=="function"?T?[P.listener||P]:[P]:T?function(j){for(var N=new Array(j.length),B=0;B<N.length;++B)N[B]=j[B].listener||j[B];return N}(P):S(P,P.length)}function v(w){var C=this._events;if(C!==void 0){var T=C[w];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}function S(w,C){for(var T=new Array(C),D=0;D<C;++D)T[D]=w[D];return T}function k(w,C,T,D){if(typeof w.on=="function")D.once?w.once(C,T):w.on(C,T);else{if(typeof w.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w);w.addEventListener(C,function P(j){D.once&&w.removeEventListener(C,P),T(j)})}}return Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(w){for(var C=[],T=1;T<arguments.length;T++)C.push(arguments[T]);var D=w==="error",P=this._events;if(P!==void 0)D=D&&P.error===void 0;else if(!D)return!1;if(D){var j;if(C.length>0&&(j=C[0]),j instanceof Error)throw j;var N=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw N.context=j,N}var B=P[w];if(B===void 0)return!1;if(typeof B=="function")n(B,this,C);else{var L=B.length,z=S(B,L);for(T=0;T<L;++T)n(z[T],this,C)}return!0},r.prototype.addListener=function(w,C){return u(this,w,C,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(w,C){return u(this,w,C,!0)},r.prototype.once=function(w,C){return o(C),this.on(w,p(this,w,C)),this},r.prototype.prependOnceListener=function(w,C){return o(C),this.prependListener(w,p(this,w,C)),this},r.prototype.removeListener=function(w,C){var T,D,P,j,N;if(o(C),(D=this._events)===void 0)return this;if((T=D[w])===void 0)return this;if(T===C||T.listener===C)--this._eventsCount==0?this._events=Object.create(null):(delete D[w],D.removeListener&&this.emit("removeListener",w,T.listener||C));else if(typeof T!="function"){for(P=-1,j=T.length-1;j>=0;j--)if(T[j]===C||T[j].listener===C){N=T[j].listener,P=j;break}if(P<0)return this;P===0?T.shift():function(B,L){for(;L+1<B.length;L++)B[L]=B[L+1];B.pop()}(T,P),T.length===1&&(D[w]=T[0]),D.removeListener!==void 0&&this.emit("removeListener",w,N||C)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(w){var C,T,D;if((T=this._events)===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete T[w]),this;if(arguments.length===0){var P,j=Object.keys(T);for(D=0;D<j.length;++D)(P=j[D])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(C=T[w])=="function")this.removeListener(w,C);else if(C!==void 0)for(D=C.length-1;D>=0;D--)this.removeListener(w,C[D]);return this},r.prototype.listeners=function(w){return g(this,w,!0)},r.prototype.rawListeners=function(w){return g(this,w,!1)},r.listenerCount=function(w,C){return typeof w.listenerCount=="function"?w.listenerCount(C):v.call(w,C)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},up.exports}(),dp=KJ(K_),HA=Object.prototype.hasOwnProperty;function qA(t,e,n){for(n of t.keys())if($n(n,e))return n}function $n(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&$n(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if((r=i)&&typeof r=="object"&&!(r=qA(e,r))||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if((r=i[0])&&typeof r=="object"&&!(r=qA(e,r))||!$n(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){for(n in i=0,t)if(HA.call(t,n)&&++i&&!HA.call(e,n)||!(n in e)||!$n(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!=t&&e!=e}const XJ={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},pI={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Kt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ln={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},fa={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ve{static getFirstMatch(e,n){const i=n.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,n){const i=n.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,n,i){if(e.test(n))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,i=!1){const r=ve.getVersionPrecision(e),s=ve.getVersionPrecision(n);let o=Math.max(r,s),l=0;const u=ve.map([e,n],f=>{const p=o-ve.getVersionPrecision(f),g=f+new Array(p+1).join(".0");return ve.map(g.split("."),v=>new Array(20-v.length).join("0")+v).reverse()});for(i&&(l=o-Math.min(r,s)),o-=1;o>=l;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===l)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,n){const i=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(r=0;r<e.length;r+=1)i.push(n(e[r]));return i}static find(e,n){let i,r;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(i=0,r=e.length;i<r;i+=1){const s=e[i];if(n(s,i))return s}}static assign(e,...n){const i=e;let r,s;if(Object.assign)return Object.assign(e,...n);for(r=0,s=n.length;r<s;r+=1){const o=n[r];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{i[l]=o[l]})}return e}static getBrowserAlias(e){return XJ[e]}static getBrowserTypeByAlias(e){return pI[e]||""}}const Tt=/version\/(\d+(\.?_?\d+)+)/i,QJ=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=ve.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=ve.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=ve.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=ve.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=ve.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=ve.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=ve.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=ve.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=ve.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=ve.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=ve.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=ve.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=ve.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=ve.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=ve.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=ve.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=ve.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=ve.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=ve.getFirstMatch(Tt,t)||ve.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=ve.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=ve.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=ve.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=ve.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=ve.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=ve.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=ve.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=ve.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=ve.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=ve.getFirstMatch(Tt,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ve.getFirstMatch(e,t),version:ve.getSecondMatch(e,t)}}}];var ZJ=[{test:[/Roku\/DVP/],describe(t){const e=ve.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Ln.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=ve.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Ln.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=ve.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=ve.getWindowsVersionName(e);return{name:Ln.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Ln.iOS},n=ve.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=ve.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=ve.getMacOSVersionName(e),i={name:Ln.MacOS,version:e};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=ve.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Ln.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=ve.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=ve.getAndroidVersionName(e),i={name:Ln.Android,version:e};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=ve.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Ln.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=ve.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||ve.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||ve.getFirstMatch(/\bbb(\d+)/i,t);return{name:Ln.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=ve.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Ln.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=ve.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Ln.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:Ln.Linux})},{test:[/CrOS/],describe:()=>({name:Ln.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=ve.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Ln.PlayStation4,version:e}}}],eY=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=ve.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Kt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Kt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Kt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Kt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Kt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Kt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Kt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=ve.getFirstMatch(/(ipod|iphone)/i,t);return{type:Kt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Kt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Kt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:Kt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:Kt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:Kt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:Kt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:Kt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:Kt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:Kt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:Kt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:Kt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:Kt.tv})}],tY=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:fa.Blink};const e=ve.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:fa.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:fa.Trident},n=ve.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:fa.Presto},n=ve.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:fa.Gecko},n=ve.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:fa.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:fa.WebKit},n=ve.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class WA{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ve.find(QJ,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ve.find(ZJ,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=ve.find(eY,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ve.find(tY,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ve.assign({},this.parsedResult)}satisfies(e){const n={};let i=0;const r={};let s=0;if(Object.keys(e).forEach(o=>{const l=e[o];typeof l=="string"?(r[o]=l,s+=1):typeof l=="object"&&(n[o]=l,i+=1)}),i>0){const o=Object.keys(n),l=ve.find(o,f=>this.isOS(f));if(l){const f=this.satisfies(n[l]);if(f!==void 0)return f}const u=ve.find(o,f=>this.isPlatform(f));if(u){const f=this.satisfies(n[u]);if(f!==void 0)return f}}if(s>0){const o=Object.keys(r),l=ve.find(o,u=>this.isBrowser(u,!0));if(l!==void 0)return this.compareVersion(r[l])}}isBrowser(e,n=!1){const i=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const s=ve.getBrowserTypeByAlias(r);return n&&s&&(r=s.toLowerCase()),r===i}compareVersion(e){let n=[0],i=e,r=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(i=e.substr(1),e[1]==="="?(r=!0,i=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?i=e.substr(1):e[0]==="~"&&(r=!0,i=e.substr(1)),n.indexOf(ve.compareVersions(s,i,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class nY{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new WA(e,n)}static parse(e){return new WA(e).getResult()}static get BROWSER_MAP(){return pI}static get ENGINE_MAP(){return fa}static get OS_MAP(){return Ln}static get PLATFORMS_MAP(){return Kt}}function Fg(){return Date.now()+Math.random().toString()}function Ku(){throw new Error("Method must be implemented in subclass")}function mI(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function Nm(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:mI("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function jm(t){try{new URL(t)}catch{return!1}return!0}const Pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Po="8.55.0",gt=globalThis;function Lm(t,e,n){const i=gt,r=i.__SENTRY__=i.__SENTRY__||{},s=r[Po]=r[Po]||{};return s[t]||(s[t]=e())}const sc=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,X_=["debug","info","warn","error","log","assert","trace"],Im={};function df(t){if(!("console"in gt))return t();const e=gt.console,n={},i=Object.keys(Im);i.forEach(r=>{const s=Im[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}const ze=Lm("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return sc?X_.forEach(n=>{e[n]=(...i)=>{t&&df(()=>{gt.console[n](`Sentry Logger [${n}]:`,...i)})}}):X_.forEach(n=>{e[n]=()=>{}}),e}),Mo="?",GA=/\(error: (.*)\)/,JA=/captureMessage|captureException/;function fp(t){return t[t.length-1]||{}}const YA="<anonymous>";function Oa(t){try{return t&&typeof t=="function"&&t.name||YA}catch{return YA}}function KA(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&n.push(...i.stacktrace.frames)}),n}catch{return}}}const Kp={},XA={};function No(t,e){Kp[t]=Kp[t]||[],Kp[t].push(e)}function jo(t,e){if(!XA[t]){XA[t]=!0;try{e()}catch(n){sc&&ze.error(`Error while instrumenting ${t}`,n)}}}function cr(t,e){const n=t&&Kp[t];if(n)for(const i of n)try{i(e)}catch(r){sc&&ze.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Oa(i)}
Error:`,r)}}let d0=null;function iY(){d0=gt.onerror,gt.onerror=function(t,e,n,i,r){return cr("error",{column:i,error:r,line:n,msg:t,url:e}),!!d0&&d0.apply(this,arguments)},gt.onerror.__SENTRY_INSTRUMENTED__=!0}let f0=null;function rY(){f0=gt.onunhandledrejection,gt.onunhandledrejection=function(t){return cr("unhandledrejection",t),!f0||f0.apply(this,arguments)},gt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ug(){return FS(gt),gt}function FS(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Po,e[Po]=e[Po]||{}}const gI=Object.prototype.toString;function US(t){switch(gI.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Go(t,Error)}}function Jl(t,e){return gI.call(t)===`[object ${e}]`}function vI(t){return Jl(t,"ErrorEvent")}function QA(t){return Jl(t,"DOMError")}function _s(t){return Jl(t,"String")}function VS(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Q_(t){return t===null||VS(t)||typeof t!="object"&&typeof t!="function"}function Rl(t){return Jl(t,"Object")}function Vg(t){return typeof Event<"u"&&Go(t,Event)}function Hg(t){return!!(t&&t.then&&typeof t.then=="function")}function Go(t,e){try{return t instanceof e}catch{return!1}}function yI(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const HS=gt;function bI(t,e={}){if(!t)return"<unknown>";try{let n=t;const i=5,r=[];let s=0,o=0;const l=" > ",u=l.length;let f;const p=Array.isArray(e)?e:e.keyAttrs,g=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&s++<i&&(f=sY(n,p),!(f==="html"||s>1&&o+r.length*u+f.length>=g));)r.push(f),o+=f.length,n=n.parentNode;return r.reverse().join(l)}catch{return"<unknown>"}}function sY(t,e){const n=t,i=[];if(!n||!n.tagName)return"";if(HS.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const r=e&&e.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(r&&r.length)r.forEach(o=>{i.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&i.push(`#${n.id}`);const o=n.className;if(o&&_s(o)){const l=o.split(/\s+/);for(const u of l)i.push(`.${u}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const l=n.getAttribute(o);l&&i.push(`[${o}="${l}"]`)}return i.join("")}function vl(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ZA(t,e){if(!Array.isArray(t))return"";const n=[];for(let i=0;i<t.length;i++){const r=t[i];try{yI(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function aY(t,e,n=!1){return!!_s(t)&&(Jl(e,"RegExp")?e.test(t):!!_s(e)&&(n?t===e:t.includes(e)))}function hp(t,e=[],n=!1){return e.some(i=>aY(t,i,n))}function gi(t,e,n){if(!(e in t))return;const i=t[e],r=n(i);typeof r=="function"&&_I(r,i);try{t[e]=r}catch{sc&&ze.log(`Failed to replace method "${e}" in object`,t)}}function Jo(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{sc&&ze.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function _I(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Jo(t,"__sentry_original__",e)}catch{}}function qS(t){return t.__sentry_original__}function wI(t){if(US(t))return{message:t.message,name:t.name,stack:t.stack,...tO(t)};if(Vg(t)){const e={type:t.type,target:eO(t.target),currentTarget:eO(t.currentTarget),...tO(t)};return typeof CustomEvent<"u"&&Go(t,CustomEvent)&&(e.detail=t.detail),e}return t}function eO(t){try{return e=t,typeof Element<"u"&&Go(e,Element)?bI(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function tO(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Ii(t){return Z_(t,new Map)}function Z_(t,e){if(function(n){if(!Rl(n))return!1;try{const i=Object.getPrototypeOf(n).constructor.name;return!i||i==="Object"}catch{return!0}}(t)){const n=e.get(t);if(n!==void 0)return n;const i={};e.set(t,i);for(const r of Object.getOwnPropertyNames(t))t[r]!==void 0&&(i[r]=Z_(t[r],e));return i}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const i=[];return e.set(t,i),t.forEach(r=>{i.push(Z_(r,e))}),i}return t}function ff(){return Date.now()/1e3}const xs=function(){const{performance:t}=gt;if(!t||!t.now)return ff;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3}();function Ui(){const t=gt,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(15&n())>>i/4).toString(16))}function SI(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function ma(t){const{message:e,event_id:n}=t;if(e)return e;const i=SI(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function ew(t,e,n){const i=t.exception=t.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function Dl(t,e){const n=SI(t);if(!n)return;const i=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...i,...e},e&&"data"in e){const r={...i&&i.data,...e.data};n.mechanism.data=r}}function nO(t){if(function(e){try{return e.__sentry_captured__}catch{}}(t))return!0;try{Jo(t,"__sentry_captured__",!0)}catch{}return!1}var fs;function Yo(t){return new ji(e=>{e(t)})}function Bm(t){return new ji((e,n)=>{n(t)})}(()=>{const{performance:t}=gt;!t||!t.now||(t.now(),t.timing&&t.timing.navigationStart)})(),function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(fs||(fs={}));class ji{constructor(e){ji.prototype.__init.call(this),ji.prototype.__init2.call(this),ji.prototype.__init3.call(this),ji.prototype.__init4.call(this),this._state=fs.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ji((i,r)=>{this._handlers.push([!1,s=>{if(e)try{i(e(s))}catch(o){r(o)}else i(s)},s=>{if(n)try{i(n(s))}catch(o){r(o)}else r(s)}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ji((n,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{s?i(r):n(r)})})}__init(){this._resolve=e=>{this._setResult(fs.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(fs.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===fs.PENDING&&(Hg(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===fs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===fs.RESOLVED&&n[1](this._value),this._state===fs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function oY(t){const e=xs(),n={sid:Ui(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(i){return Ii({sid:`${i.sid}`,init:i.init,started:new Date(1e3*i.started).toISOString(),timestamp:new Date(1e3*i.timestamp).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,abnormal_mechanism:i.abnormal_mechanism,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}(n)};return t&&Pl(n,t),n}function Pl(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||xs(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Ui()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function iO(){return Ui()}function tw(){return Ui().substring(16)}function qg(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const i={...t};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=qg(i[r],e[r],n-1));return i}const nw="_sentrySpan";function rO(t,e){e?Jo(t,nw,e):delete t[nw]}function sO(t){return t[nw]}class WS{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:iO(),spanId:tw()}}clone(){const e=new WS;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,rO(e,sO(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Pl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[i,r]=n instanceof Ra?[n.getScopeData(),n.getRequestSession()]:Rl(n)?[e,e.requestSession]:[],{tags:s,extra:o,user:l,contexts:u,level:f,fingerprint:p=[],propagationContext:g}=i||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),f&&(this._level=f),p.length&&(this._fingerprint=p),g&&(this._propagationContext=g),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,rO(this,void 0),this._attachments=[],this.setPropagationContext({traceId:iO()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:100;if(i<=0)return this;const r={timestamp:ff(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:sO(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=qg(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:tw(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:Ui();if(!this._client)return ze.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i&&i.event_id?i.event_id:Ui();if(!this._client)return ze.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n&&n.event_id?n.event_id:Ui();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(ze.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ra=WS;class cY{constructor(e,n){let i,r;i=e||new Ra,r=n||new Ra,this._stack=[{scope:i}],this._isolationScope=r}withScope(e){const n=this._pushScope();let i;try{i=e(n)}catch(r){throw this._popScope(),r}return Hg(i)?i.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Nl(){const t=FS(Ug());return t.stack=t.stack||new cY(Lm("defaultCurrentScope",()=>new Ra),Lm("defaultIsolationScope",()=>new Ra))}function lY(t){return Nl().withScope(t)}function uY(t,e){const n=Nl();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function aO(t){return Nl().withScope(()=>t(Nl().getIsolationScope()))}function GS(t){const e=FS(t);return e.acs?e.acs:{withIsolationScope:aO,withScope:lY,withSetScope:uY,withSetIsolationScope:(n,i)=>aO(i),getCurrentScope:()=>Nl().getScope(),getIsolationScope:()=>Nl().getIsolationScope()}}function ac(){return GS(Ug()).getCurrentScope()}function hf(){return GS(Ug()).getIsolationScope()}function Mn(){return ac().getClient()}function dY(t){const e=t.getPropagationContext(),{traceId:n,spanId:i,parentSpanId:r}=e;return Ii({trace_id:n,span_id:i,parent_span_id:r})}function fY(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[i,r]]of e)(n[i]||(n[i]=[])).push(Ii(r));return n}const hY=/^sentry-/;function pY(t){const e=function(i){if(!(!i||!_s(i)&&!Array.isArray(i)))return Array.isArray(i)?i.reduce((r,s)=>{const o=oO(s);return Object.entries(o).forEach(([l,u])=>{r[l]=u}),r},{}):oO(i)}(t);if(!e)return;const n=Object.entries(e).reduce((i,[r,s])=>(r.match(hY)&&(i[r.slice(7)]=s),i),{});return Object.keys(n).length>0?n:void 0}function oO(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,i])=>(n&&i&&(e[n]=i),e),{})}let cO=!1;function mY(t){const{spanId:e,traceId:n,isRemote:i}=t.spanContext();return Ii({parent_span_id:i?e:JS(t).parent_span_id,span_id:i?tw():e,trace_id:n})}function lO(t){return typeof t=="number"?uO(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?uO(t.getTime()):xs()}function uO(t){return t>9999999999?t/1e3:t}function JS(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(i){const r=i;return!!(r.attributes&&r.startTime&&r.name&&r.endTime&&r.status)}(t)){const{attributes:i,startTime:r,name:s,endTime:o,parentSpanId:l,status:u}=t;return Ii({span_id:e,trace_id:n,data:i,description:s,parent_span_id:l,start_timestamp:lO(r),timestamp:lO(o)||void 0,status:gY(u),op:i["sentry.op"],origin:i["sentry.origin"],_metrics_summary:fY(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function gY(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function xI(t){return t._sentryRootSpan||t}function vY(){cO||(df(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),cO=!0)}const YS="production";function kI(t,e){const n=e.getOptions(),{publicKey:i}=e.getDsn()||{},r=Ii({environment:n.environment||YS,release:n.release,public_key:i,trace_id:t});return e.emit("createDsc",r),r}function yY(t){const e=Mn();if(!e)return{};const n=xI(t),i=n._frozenDsc;if(i)return i;const r=n.spanContext().traceState,s=r&&r.get("sentry.dsc"),o=s&&pY(s);if(o)return o;const l=kI(t.spanContext().traceId,e),u=JS(n),f=u.data||{},p=f["sentry.sample_rate"];p!=null&&(l.sample_rate=`${p}`);const g=f["sentry.source"],v=u.description;return g!=="url"&&v&&(l.transaction=v),function(S){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const k=Mn(),w=k&&k.getOptions();return!!w&&(w.enableTracing||"tracesSampleRate"in w||"tracesSampler"in w)}()&&(l.sampled=String(function(S){const{traceFlags:k}=S.spanContext();return k===1}(n))),e.emit("createDsc",l,n),l}const bY=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function $m(t,e=!1){const{host:n,path:i,pass:r,port:s,projectId:o,protocol:l,publicKey:u}=t;return`${l}://${u}${e&&r?`:${r}`:""}@${n}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function dO(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function _Y(t){const e=typeof t=="string"?function(n){const i=bY.exec(n);if(!i)return void df(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[r,s,o="",l="",u="",f=""]=i.slice(1);let p="",g=f;const v=g.split("/");if(v.length>1&&(p=v.slice(0,-1).join("/"),g=v.pop()),g){const S=g.match(/^\d+/);S&&(g=S[0])}return dO({host:l,pass:o,path:p,projectId:g,port:u,protocol:r,publicKey:s})}(t):dO(t);if(e&&function(n){if(!sc)return!0;const{port:i,projectId:r,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ze.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(r.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(s)?i&&isNaN(parseInt(i,10))&&(ze.error(`Invalid Sentry Dsn: Invalid port ${i}`),1):(ze.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(ze.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(e))return e}function hs(t,e=100,n=1/0){try{return iw("",t,e,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function CI(t,e=3,n=102400){const i=hs(t,e);return r=i,function(s){return~-encodeURI(s).split(/%..|./).length}(JSON.stringify(r))>n?CI(t,e-1,n):i;var r}function iw(t,e,n=1/0,i=1/0,r=function(){const s=typeof WeakSet=="function",o=s?new WeakSet:[];return[function(l){if(s)return!!o.has(l)||(o.add(l),!1);for(let u=0;u<o.length;u++)if(o[u]===l)return!0;return o.push(l),!1},function(l){if(s)o.delete(l);else for(let u=0;u<o.length;u++)if(o[u]===l){o.splice(u,1);break}}]}()){const[s,o]=r;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=function(S,k){try{if(S==="domain"&&k&&typeof k=="object"&&k._events)return"[Domain]";if(S==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&k===global)return"[Global]";if(typeof window<"u"&&k===window)return"[Window]";if(typeof document<"u"&&k===document)return"[Document]";if(yI(k))return"[VueViewModel]";if(Rl(w=k)&&"nativeEvent"in w&&"preventDefault"in w&&"stopPropagation"in w)return"[SyntheticEvent]";if(typeof k=="number"&&!Number.isFinite(k))return`[${k}]`;if(typeof k=="function")return`[Function: ${Oa(k)}]`;if(typeof k=="symbol")return`[${String(k)}]`;if(typeof k=="bigint")return`[BigInt: ${String(k)}]`;const C=function(T){const D=Object.getPrototypeOf(T);return D?D.constructor.name:"null prototype"}(k);return/^HTML(\w*)Element$/.test(C)?`[HTMLElement: ${C}]`:`[object ${C}]`}catch(C){return`**non-serializable** (${C})`}var w}(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(s(e))return"[Circular ~]";const f=e;if(f&&typeof f.toJSON=="function")try{return iw("",f.toJSON(),u-1,i,r)}catch{}const p=Array.isArray(e)?[]:{};let g=0;const v=wI(e);for(const S in v){if(!Object.prototype.hasOwnProperty.call(v,S))continue;if(g>=i){p[S]="[MaxProperties ~]";break}const k=v[S];p[S]=iw(S,k,u-1,i,r),g++}return o(e),p}function zd(t,e=[]){return[t,e]}function wY(t,e){const[n,i]=t;return[n,[...i,e]]}function fO(t,e){const n=t[1];for(const i of n)if(e(i,i[0].type))return!0;return!1}function rw(t){return gt.__SENTRY__&&gt.__SENTRY__.encodePolyfill?gt.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function SY(t){const[e,n]=t;let i=JSON.stringify(e);function r(s){typeof i=="string"?i=typeof s=="string"?i+s:[rw(i),s]:i.push(typeof s=="string"?rw(s):s)}for(const s of n){const[o,l]=s;if(r(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)r(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(hs(l))}r(u)}}return typeof i=="string"?i:function(s){const o=s.reduce((f,p)=>f+p.length,0),l=new Uint8Array(o);let u=0;for(const f of s)l.set(f,u),u+=f.length;return l}(i)}function xY(t){const e=typeof t.data=="string"?rw(t.data):t.data;return[Ii({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const kY={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function hO(t){return kY[t]}function MI(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function CY(t,e,n,i){const r=MI(n),s=t.type&&t.type!=="replay_event"?t.type:"event";(function(l,u){u&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||u.name,l.sdk.version=l.sdk.version||u.version,l.sdk.integrations=[...l.sdk.integrations||[],...u.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...u.packages||[]])})(t,n&&n.sdk);const o=function(l,u,f,p){const g=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...u&&{sdk:u},...!!f&&p&&{dsn:$m(p)},...g&&{trace:Ii({...g})}}}(t,r,i,e);return delete t.sdkProcessingMetadata,zd(o,[[{type:s},t]])}function sw(t,e,n,i=0){return new ji((r,s)=>{const o=t[i];if(e===null||typeof o!="function")r(e);else{const l=o({...e},n);Pt&&o.id&&l===null&&ze.log(`Event processor "${o.id}" dropped event`),Hg(l)?l.then(u=>sw(t,u,n,i+1).then(r)).then(null,s):sw(t,l,n,i+1).then(r).then(null,s)}})}let pp,pO,h0;function MY(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;(function(o,l){const{extra:u,tags:f,user:p,contexts:g,level:v,transactionName:S}=l,k=Ii(u);k&&Object.keys(k).length&&(o.extra={...k,...o.extra});const w=Ii(f);w&&Object.keys(w).length&&(o.tags={...w,...o.tags});const C=Ii(p);C&&Object.keys(C).length&&(o.user={...C,...o.user});const T=Ii(g);T&&Object.keys(T).length&&(o.contexts={...T,...o.contexts}),v&&(o.level=v),S&&o.type!=="transaction"&&(o.transaction=S)})(t,e),i&&function(o,l){o.contexts={trace:mY(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:yY(l),...o.sdkProcessingMetadata};const u=xI(l),f=JS(u).description;f&&!o.transaction&&o.type==="transaction"&&(o.transaction=f)}(t,i),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(t,n),function(o,l){const u=[...o.breadcrumbs||[],...l];o.breadcrumbs=u.length?u:void 0}(t,r),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(t,s)}function mO(t,e){const{extra:n,tags:i,user:r,contexts:s,level:o,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:f,eventProcessors:p,attachments:g,propagationContext:v,transactionName:S,span:k}=e;mp(t,"extra",n),mp(t,"tags",i),mp(t,"user",r),mp(t,"contexts",s),t.sdkProcessingMetadata=qg(t.sdkProcessingMetadata,l,2),o&&(t.level=o),S&&(t.transactionName=S),k&&(t.span=k),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),f.length&&(t.fingerprint=[...t.fingerprint,...f]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),g.length&&(t.attachments=[...t.attachments,...g]),t.propagationContext={...t.propagationContext,...v}}function mp(t,e,n){t[e]=qg(t[e],n,1)}function EY(t,e,n,i,r,s){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=t,u={...e,event_id:e.event_id||n.event_id||Ui(),timestamp:e.timestamp||ff()},f=n.integrations||t.integrations.map(k=>k.name);(function(k,w){const{environment:C,release:T,dist:D,maxValueLength:P=250}=w;k.environment=k.environment||C||YS,!k.release&&T&&(k.release=T),!k.dist&&D&&(k.dist=D),k.message&&(k.message=vl(k.message,P));const j=k.exception&&k.exception.values&&k.exception.values[0];j&&j.value&&(j.value=vl(j.value,P));const N=k.request;N&&N.url&&(N.url=vl(N.url,P))})(u,t),function(k,w){w.length>0&&(k.sdk=k.sdk||{},k.sdk.integrations=[...k.sdk.integrations||[],...w])}(u,f),r&&r.emit("applyFrameMetadata",e),e.type===void 0&&function(k,w){const C=function(T){const D=gt._sentryDebugIds;if(!D)return{};const P=Object.keys(D);return h0&&P.length===pO||(pO=P.length,h0=P.reduce((j,N)=>{pp||(pp={});const B=pp[N];if(B)j[B[0]]=B[1];else{const L=T(N);for(let z=L.length-1;z>=0;z--){const W=L[z],J=W&&W.filename,Z=D[N];if(J&&Z){j[J]=Z,pp[N]=[J,Z];break}}}return j},{})),h0}(w);try{k.exception.values.forEach(T=>{T.stacktrace.frames.forEach(D=>{C&&D.filename&&(D.debug_id=C[D.filename])})})}catch{}}(u,t.stackParser);const p=function(k,w){if(!w)return k;const C=k?k.clone():new Ra;return C.update(w),C}(i,n.captureContext);n.mechanism&&Dl(u,n.mechanism);const g=r?r.getEventProcessors():[],v=Lm("globalScope",()=>new Ra).getScopeData();s&&mO(v,s.getScopeData()),p&&mO(v,p.getScopeData());const S=[...n.attachments||[],...v.attachments];return S.length&&(n.attachments=S),MY(u,v),sw([...g,...v.eventProcessors],u,n).then(k=>(k&&function(w){const C={};try{w.exception.values.forEach(D=>{D.stacktrace.frames.forEach(P=>{P.debug_id&&(P.abs_path?C[P.abs_path]=P.debug_id:P.filename&&(C[P.filename]=P.debug_id),delete P.debug_id)})})}catch{}if(Object.keys(C).length===0)return;w.debug_meta=w.debug_meta||{},w.debug_meta.images=w.debug_meta.images||[];const T=w.debug_meta.images;Object.entries(C).forEach(([D,P])=>{T.push({type:"sourcemap",code_file:D,debug_id:P})})}(k),typeof o=="number"&&o>0?function(w,C,T){if(!w)return null;const D={...w,...w.breadcrumbs&&{breadcrumbs:w.breadcrumbs.map(P=>({...P,...P.data&&{data:hs(P.data,C,T)}}))},...w.user&&{user:hs(w.user,C,T)},...w.contexts&&{contexts:hs(w.contexts,C,T)},...w.extra&&{extra:hs(w.extra,C,T)}};return w.contexts&&w.contexts.trace&&D.contexts&&(D.contexts.trace=w.contexts.trace,w.contexts.trace.data&&(D.contexts.trace.data=hs(w.contexts.trace.data,C,T))),w.spans&&(D.spans=w.spans.map(P=>({...P,...P.data&&{data:hs(P.data,C,T)}}))),w.contexts&&w.contexts.flags&&D.contexts&&(D.contexts.flags=hs(w.contexts.flags,3,T)),D}(k,o,l):k))}function gO(t,e){return ac().captureEvent(t,e)}function vO(t){const e=Mn(),n=hf(),i=ac(),{release:r,environment:s=YS}=e&&e.getOptions()||{},{userAgent:o}=gt.navigator||{},l=oY({release:r,environment:s,user:i.getUser()||n.getUser(),...o&&{userAgent:o},...t}),u=n.getSession();return u&&u.status==="ok"&&Pl(u,{status:"exited"}),EI(),n.setSession(l),i.setSession(l),l}function EI(){const t=hf(),e=ac(),n=e.getSession()||t.getSession();n&&function(i,r){let s={};i.status==="ok"&&(s={status:"exited"}),Pl(i,s)}(n),TI(),t.setSession(),e.setSession()}function TI(){const t=hf(),e=ac(),n=Mn(),i=e.getSession()||t.getSession();i&&n&&n.captureSession(i)}function yO(t=!1){t?EI():TI()}function TY(t,e,n){return e||`${function(i){return`${function(r){const s=r.protocol?`${r.protocol}:`:"",o=r.port?`:${r.port}`:"";return`${s}//${r.host}${o}${r.path?`/${r.path}`:""}/api/`}(i)}${i.projectId}/envelope/`}(t)}?${function(i,r){const s={sentry_version:"7"};return i.publicKey&&(s.sentry_key=i.publicKey),r&&(s.sentry_client=`${r.name}/${r.version}`),new URLSearchParams(s).toString()}(t,n)}`}const bO=[];function _O(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function wO(t,e,n){if(n[e.name])Pt&&ze.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,bO.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),bO.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(r,s)=>i(r,s,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),r=Object.assign((s,o)=>i(s,o,t),{id:e.name});t.addEventProcessor(r)}Pt&&ze.log(`Integration installed: ${e.name}`)}}class nr extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}}const SO="Not capturing exception because it's already been captured.";class AY{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=_Y(e.dsn):Pt&&ze.warn("No DSN provided, client will not send events."),this._dsn){const i=TY(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);n&&df(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,i){const r=Ui();if(nO(e))return Pt&&ze.log(SO),r;const s={event_id:r,...n};return this._process(this.eventFromException(e,s).then(o=>this._captureEvent(o,s,i))),s.event_id}captureMessage(e,n,i,r){const s={event_id:Ui(),...i},o=VS(e)?e:String(e),l=Q_(e)?this.eventFromMessage(o,n,s):this.eventFromException(e,s);return this._process(l.then(u=>this._captureEvent(u,s,r))),s.event_id}captureEvent(e,n,i){const r=Ui();if(n&&n.originalException&&nO(n.originalException))return Pt&&ze.log(SO),r;const s={event_id:r,...n},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,o||i)),s.event_id}captureSession(e){typeof e.release!="string"?Pt&&ze.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Pl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(i=>n.flush(e).then(r=>i&&r))):Yo(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];wO(this,e,this._integrations),n||_O(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let i=CY(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])i=wY(i,xY(s));const r=this.sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const n=function(i,r,s,o){const l=MI(s);return zd({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&r&&{dsn:$m(r)}},["aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,i){if(this._options.sendClientReports){const r=typeof i=="number"?i:1,s=`${e}:${n}`;Pt&&ze.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(e,n){const i=this._hooks[e]=this._hooks[e]||[];return i.push(n),()=>{const r=i.indexOf(n);r>-1&&i.splice(r,1)}}emit(e,...n){const i=this._hooks[e];i&&i.forEach(r=>r(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(Pt&&ze.error("Error while sending envelope:",n),n)):(Pt&&ze.error("Transport disabled"),Yo({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(n,i){const r={};return i.forEach(s=>{s&&wO(n,s,r)}),r}(this,e),_O(this,e)}_updateSessionFromEvent(e,n){let i=n.level==="fatal",r=!1;const s=n.exception&&n.exception.values;if(s){r=!0;for(const l of s){const u=l.mechanism;if(u&&u.handled===!1){i=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&i)&&(Pl(e,{...i&&{status:"crashed"},errors:e.errors||Number(r||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ji(n=>{let i=0;const r=setInterval(()=>{this._numProcessing==0?(clearInterval(r),n(!0)):(i+=1,e&&i>=e&&(clearInterval(r),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,i=ac(),r=hf()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||r.setLastEventId(e.event_id||n.event_id),EY(s,e,n,i,this,r).then(l=>{if(l===null)return l;l.contexts={trace:dY(i),...l.contexts};const u=function(f,p){const g=p.getPropagationContext();return g.dsc||kI(g.traceId,f)}(this,i);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},i){return this._processEvent(e,n,i).then(r=>r.event_id,r=>{Pt&&(r instanceof nr&&r.logLevel==="log"?ze.log(r.message):ze.warn(r))})}_processEvent(e,n,i){const r=this.getOptions(),{sampleRate:s}=r,o=kO(e),l=xO(e),u=e.type||"error",f=`before send for type \`${u}\``,p=s===void 0?void 0:function(S){if(typeof S=="boolean")return Number(S);const k=typeof S=="string"?parseFloat(S):S;if(!(typeof k!="number"||isNaN(k)||k<0||k>1))return k;Pt&&ze.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(S)} of type ${JSON.stringify(typeof S)}.`)}(s);if(l&&typeof p=="number"&&Math.random()>p)return this.recordDroppedEvent("sample_rate","error",e),Bm(new nr(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const g=u==="replay_event"?"replay":u,v=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,i,v).then(S=>{if(S===null)throw this.recordDroppedEvent("event_processor",g,e),new nr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return S;const k=function(w,C,T,D){const{beforeSend:P,beforeSendTransaction:j,beforeSendSpan:N}=C;if(xO(T)&&P)return P(T,D);if(kO(T)){if(T.spans&&N){const B=[];for(const L of T.spans){const z=N(L);z?B.push(z):(vY(),w.recordDroppedEvent("before_send","span"))}T.spans=B}if(j){if(T.spans){const B=T.spans.length;T.sdkProcessingMetadata={...T.sdkProcessingMetadata,spanCountBeforeProcessing:B}}return j(T,D)}}return T}(this,r,S,n);return function(w,C){const T=`${C} must return \`null\` or a valid event.`;if(Hg(w))return w.then(D=>{if(!Rl(D)&&D!==null)throw new nr(T);return D},D=>{throw new nr(`${C} rejected with ${D}`)});if(!Rl(w)&&w!==null)throw new nr(T);return w}(k,f)}).then(S=>{if(S===null){if(this.recordDroppedEvent("before_send",g,e),o){const C=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw new nr(`${f} returned \`null\`, will not send event.`,"log")}const k=i&&i.getSession();if(!o&&k&&this._updateSessionFromEvent(k,S),o){const C=(S.sdkProcessingMetadata&&S.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(S.spans?S.spans.length:0);C>0&&this.recordDroppedEvent("before_send","span",C)}const w=S.transaction_info;if(o&&w&&S.transaction!==e.transaction){const C="custom";S.transaction_info={...w,source:C}}return this.sendEvent(S,n),S}).then(null,S=>{throw S instanceof nr?S:(this.captureException(S,{data:{__sentry__:!0},originalException:S}),new nr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${S}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,i])=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:i}})}_flushOutcomes(){Pt&&ze.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void(Pt&&ze.log("No outcomes to send"));if(!this._dsn)return void(Pt&&ze.log("No dsn provided, will not send outcomes"));Pt&&ze.log("Sending outcomes:",e);const n=(i=e,zd((r=this._options.tunnel&&$m(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||ff(),discarded_events:i}]]));var i,r,s;this.sendEnvelope(n)}}function xO(t){return t.type===void 0}function kO(t){return t.type==="transaction"}function OY(t){const e=[];function n(i){return e.splice(e.indexOf(i),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(i){if(!(t===void 0||e.length<t))return Bm(new nr("Not adding Promise because buffer limit was reached."));const r=i();return e.indexOf(r)===-1&&e.push(r),r.then(()=>n(r)).then(null,()=>n(r).then(null,()=>{})),r},drain:function(i){return new ji((r,s)=>{let o=e.length;if(!o)return r(!0);const l=setTimeout(()=>{i&&i>0&&r(!1)},i);e.forEach(u=>{Yo(u).then(()=>{--o||(clearTimeout(l),r(!0))},s)})})}}}function RY(t,{statusCode:e,headers:n},i=Date.now()){const r={...t},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[u,f,,,p]=l.split(":",5),g=parseInt(u,10),v=1e3*(isNaN(g)?60:g);if(f)for(const S of f.split(";"))S==="metric_bucket"&&p&&!p.split(";").includes("custom")||(r[S]=i+v);else r.all=i+v}else o?r.all=i+function(l,u=Date.now()){const f=parseInt(`${l}`,10);if(!isNaN(f))return 1e3*f;const p=Date.parse(`${l}`);return isNaN(p)?6e4:p-u}(o,i):e===429&&(r.all=i+6e4);return r}function DY(t,e,n=OY(t.bufferSize||64)){let i={};return{send:function(r){const s=[];if(fO(r,(u,f)=>{const p=hO(f);if(function(g,v,S=Date.now()){return function(k,w){return k[w]||k.all||0}(g,v)>S}(i,p)){const g=CO(u,f);t.recordDroppedEvent("ratelimit_backoff",p,g)}else s.push(u)}),s.length===0)return Yo({});const o=zd(r[0],s),l=u=>{fO(o,(f,p)=>{const g=CO(f,p);t.recordDroppedEvent(u,hO(p),g)})};return n.add(()=>e({body:SY(o)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&Pt&&ze.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),i=RY(i,u),u),u=>{throw l("network_error"),u})).then(u=>u,u=>{if(u instanceof nr)return Pt&&ze.error("Skipped sending event because buffer is full."),l("queue_overflow"),Yo({});throw u})},flush:r=>n.drain(r)}}function CO(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const PY=100;function fo(t,e){const n=Mn(),i=hf();if(!n)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:s=PY}=n.getOptions();if(s<=0)return;const o={timestamp:ff(),...t},l=r?df(()=>r(o,e)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),i.addBreadcrumb(l,s))}let MO;const EO=new WeakMap,NY=()=>({name:"FunctionToString",setupOnce(){MO=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=qS(this),n=EO.has(Mn())&&e!==void 0?e:this;return MO.apply(n,t)}}catch{}},setup(t){EO.set(t,!0)}}),jY=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],LY=(t={})=>({name:"InboundFilters",processEvent(e,n,i){const r=i.getOptions(),s=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:jY],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(t,r);return function(o,l){return l.ignoreInternal&&function(u){try{return u.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Pt&&ze.warn(`Event dropped due to being internal Sentry Error.
Event: ${ma(o)}`),!0):function(u,f){return u.type||!f||!f.length?!1:function(p){const g=[];p.message&&g.push(p.message);let v;try{v=p.exception.values[p.exception.values.length-1]}catch{}return v&&v.value&&(g.push(v.value),v.type&&g.push(`${v.type}: ${v.value}`)),g}(u).some(p=>hp(p,f))}(o,l.ignoreErrors)?(Pt&&ze.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ma(o)}`),!0):function(u){return u.type||!u.exception||!u.exception.values||u.exception.values.length===0?!1:!u.message&&!u.exception.values.some(f=>f.stacktrace||f.type&&f.type!=="Error"||f.value)}(o)?(Pt&&ze.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ma(o)}`),!0):function(u,f){if(u.type!=="transaction"||!f||!f.length)return!1;const p=u.transaction;return!!p&&hp(p,f)}(o,l.ignoreTransactions)?(Pt&&ze.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ma(o)}`),!0):function(u,f){if(!f||!f.length)return!1;const p=gp(u);return!!p&&hp(p,f)}(o,l.denyUrls)?(Pt&&ze.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ma(o)}.
Url: ${gp(o)}`),!0):function(u,f){if(!f||!f.length)return!0;const p=gp(u);return!p||hp(p,f)}(o,l.allowUrls)?!1:(Pt&&ze.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ma(o)}.
Url: ${gp(o)}`),!0)}(e,s)?null:e}});function gp(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(n=[]){for(let i=n.length-1;i>=0;i--){const r=n[i];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}(e):null}catch{return Pt&&ze.error(`Cannot extract url for event ${ma(t)}`),null}}function IY(t,e,n=250,i,r,s,o){if(!(s.exception&&s.exception.values&&o&&Go(o.originalException,Error)))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var u,f;l&&(s.exception.values=(u=aw(t,e,r,o.originalException,i,s.exception.values,l,0),f=n,u.map(p=>(p.value&&(p.value=vl(p.value,f)),p))))}function aw(t,e,n,i,r,s,o,l){if(s.length>=n+1)return s;let u=[...s];if(Go(i[r],Error)){TO(o,l);const f=t(e,i[r]),p=u.length;AO(f,r,p,l),u=aw(t,e,n,i[r],r,[f,...u],f,p)}return Array.isArray(i.errors)&&i.errors.forEach((f,p)=>{if(Go(f,Error)){TO(o,l);const g=t(e,f),v=u.length;AO(g,`errors[${p}]`,v,l),u=aw(t,e,n,f,r,[g,...u],g,v)}}),u}function TO(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function AO(t,e,n,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:i}}function p0(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:i,relative:e[5]+n+i}}function BY(){"console"in gt&&X_.forEach(function(t){t in gt.console&&gi(gt.console,t,function(e){return Im[t]=e,function(...n){cr("console",{args:n,level:t});const i=Im[t];i&&i.apply(gt.console,n)}})})}function $Y(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const zY=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(n,i){return i?!!(function(r,s){const o=r.message,l=s.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!RO(r,s)||!OO(r,s))}(n,i)||function(r,s){const o=DO(s),l=DO(r);return!(!o||!l||o.type!==l.type||o.value!==l.value||!RO(r,s)||!OO(r,s))}(n,i)):!1}(e,t))return Pt&&ze.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function OO(t,e){let n=KA(t),i=KA(e);if(!n&&!i)return!0;if(n&&!i||!n&&i||i.length!==n.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=n[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function RO(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return n.join("")===i.join("")}catch{return!1}}function DO(t){return t.exception&&t.exception.values&&t.exception.values[0]}function PO(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const m0=gt;function ow(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function FY(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in m0))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(ow(m0.fetch))return!0;let t=!1;const e=m0.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ow(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){sc&&ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function UY(t,e){const n="fetch";No(n,t),jo(n,()=>function(i,r=!1){r&&!FY()||gi(gt,"fetch",function(s){return function(...o){const l=new Error,{method:u,url:f}=function(g){if(g.length===0)return{method:"GET",url:""};if(g.length===2){const[S,k]=g;return{url:NO(S),method:cw(k,"method")?String(k.method).toUpperCase():"GET"}}const v=g[0];return{url:NO(v),method:cw(v,"method")?String(v.method).toUpperCase():"GET"}}(o),p={args:o,fetchData:{method:u,url:f},startTimestamp:1e3*xs(),virtualError:l};return i||cr("fetch",{...p}),s.apply(gt,o).then(async g=>(i?i(g):cr("fetch",{...p,endTimestamp:1e3*xs(),response:g}),g),g=>{throw cr("fetch",{...p,endTimestamp:1e3*xs(),error:g}),US(g)&&g.stack===void 0&&(g.stack=l.stack,Jo(g,"framesToPop",1)),g})}})}(void 0,e))}function cw(t,e){return!!t&&typeof t=="object"&&!!t[e]}function NO(t){return typeof t=="string"?t:t?cw(t,"url")?t.url:t.toString?t.toString():"":""}const vp=gt,dn=gt;let lw=0;function jO(){return lw>0}function jl(t,e={}){if(!function(i){return typeof i=="function"}(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(qS(t))return t}catch{return t}const n=function(...i){try{const r=i.map(s=>jl(s,e));return t.apply(this,r)}catch(r){throw lw++,setTimeout(()=>{lw--}),function(...s){const o=GS(Ug());if(s.length===2){const[l,u]=s;return l?o.withSetScope(l,u):o.withScope(u)}o.withScope(s[0])}(s=>{var o;s.addEventProcessor(l=>(e.mechanism&&(ew(l,void 0),Dl(l,e.mechanism)),l.extra={...l.extra,arguments:i},l)),o=r,ac().captureException(o,void 0)}),r}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}_I(n,t),Jo(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const Wg=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function KS(t,e){const n=XS(t,e),i={type:qY(e),value:WY(e)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function VY(t,e,n,i){const r=Mn(),s=r&&r.getOptions().normalizeDepth,o=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p)){const g=f[p];if(g instanceof Error)return g}}(e),l={__serialized__:CI(e,s)};if(o)return{exception:{values:[KS(t,o)]},extra:l};const u={exception:{values:[{type:Vg(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:GY(e,{isUnhandledRejection:i})}]},extra:l};if(n){const f=XS(t,n);f.length&&(u.exception.values[0].stacktrace={frames:f})}return u}function g0(t,e){return{exception:{values:[KS(t,e)]}}}function XS(t,e){const n=e.stacktrace||e.stack||"",i=function(s){return s&&HY.test(s.message)?1:0}(e),r=function(s){return typeof s.framesToPop=="number"?s.framesToPop:0}(e);try{return t(n,i,r)}catch{}return[]}const HY=/Minified React error #\d+;/i;function AI(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function qY(t){const e=t&&t.name;return!e&&AI(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function WY(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:AI(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function uw(t,e,n,i,r){let s;if(vI(e)&&e.error)return g0(t,e.error);if(QA(e)||Jl(e,"DOMException")){const o=e;if("stack"in e)s=g0(t,e);else{const l=o.name||(QA(o)?"DOMError":"DOMException"),u=o.message?`${l}: ${o.message}`:l;s=dw(t,u,n,i),ew(s,u)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return US(e)?g0(t,e):Rl(e)||Vg(e)?(s=VY(t,e,n,r),Dl(s,{synthetic:!0}),s):(s=dw(t,e,n,i),ew(s,`${e}`),Dl(s,{synthetic:!0}),s)}function dw(t,e,n,i){const r={};if(i&&n){const s=XS(t,n);s.length&&(r.exception={values:[{value:e,stacktrace:{frames:s}}]}),Dl(r,{synthetic:!0})}if(VS(e)){const{__sentry_template_string__:s,__sentry_template_values__:o}=e;return r.logentry={message:s,params:o},r}return r.message=e,r}function GY(t,{isUnhandledRejection:e}){const n=function(r,s=40){const o=Object.keys(wI(r));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=s)return vl(l,s);for(let u=o.length;u>0;u--){const f=o.slice(0,u).join(", ");if(!(f.length>s))return u===o.length?f:vl(f,s)}return""}(t),i=e?"promise rejection":"exception";return vI(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:Vg(t)?`Event \`${function(r){try{const s=Object.getPrototypeOf(r);return s?s.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${n}`}class JY extends AY{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(i,r,s=[r],o="npm"){const l=i._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${r}`,packages:s.map(u=>({name:`${o}:@sentry/${u}`,version:Po})),version:Po}),i._metadata=l})(n,"browser",["browser"],dn.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&dn.document&&dn.document.addEventListener("visibilitychange",()=>{dn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return function(i,r,s,o){const l=uw(i,r,s&&s.syntheticException||void 0,o);return Dl(l),l.level="error",s&&s.event_id&&(l.event_id=s.event_id),Yo(l)}(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",i){return function(r,s,o="info",l,u){const f=dw(r,s,l&&l.syntheticException||void 0,u);return f.level=o,l&&l.event_id&&(f.event_id=l.event_id),Yo(f)}(this._options.stackParser,e,n,i,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Wg&&ze.warn("SDK not enabled, will not capture user feedback."));const n=function(i,{metadata:r,tunnel:s,dsn:o}){const l={event_id:i.event_id,sent_at:new Date().toISOString(),...r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}},...!!s&&!!o&&{dsn:$m(o)}};return zd(l,[function(f){return[{type:"user_report"},f]}(i)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,i)}}const YY=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fn=gt;let LO,v0,y0,yp;function KY(){if(!Fn.document)return;const t=cr.bind(null,"dom"),e=IO(t,!0);Fn.document.addEventListener("click",e,!1),Fn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const i=Fn[n],r=i&&i.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(gi(r,"addEventListener",function(s){return function(o,l,u){if(o==="click"||o=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[o]=f[o]||{refCount:0};if(!p.handler){const g=IO(t);p.handler=g,s.call(this,o,g,u)}p.refCount++}catch{}return s.call(this,o,l,u)}}),gi(r,"removeEventListener",function(s){return function(o,l,u){if(o==="click"||o=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[o];p&&(p.refCount--,p.refCount<=0&&(s.call(this,o,p.handler,u),p.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,l,u)}}))})}function IO(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const i=function(s){try{return s.target}catch{return null}}(n);if(function(s,o){return s==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,i))return;Jo(n,"_sentryCaptured",!0),i&&!i._sentryId&&Jo(i,"_sentryId",Ui());const r=n.type==="keypress"?"input":n.type;(function(s){if(s.type!==v0)return!1;try{if(!s.target||s.target._sentryId!==y0)return!1}catch{}return!0})(n)||(t({event:n,name:r,global:e}),v0=n.type,y0=i?i._sentryId:void 0),clearTimeout(LO),LO=Fn.setTimeout(()=>{y0=void 0,v0=void 0},1e3)}}function OI(t){const e="history";No(e,t),jo(e,XY)}function XY(){if(!function(){const n=vp.chrome,i=n&&n.app&&n.app.runtime,r="history"in vp&&!!vp.history.pushState&&!!vp.history.replaceState;return!i&&r}())return;const t=Fn.onpopstate;function e(n){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=yp,o=String(r);yp=o,cr("history",{from:s,to:o})}return n.apply(this,i)}}Fn.onpopstate=function(...n){const i=Fn.location.href,r=yp;if(yp=i,cr("history",{from:r,to:i}),t)try{return t.apply(this,n)}catch{}},gi(Fn.history,"pushState",e),gi(Fn.history,"replaceState",e)}const Xp={};function BO(t){Xp[t]=void 0}const fd="__sentry_xhr_v3__";function QY(){if(!Fn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,i){const r=new Error,s=1e3*xs(),o=_s(i[0])?i[0].toUpperCase():void 0,l=function(f){if(_s(f))return f;try{return f.toString()}catch{}}(i[1]);if(!o||!l)return e.apply(n,i);n[fd]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const u=()=>{const f=n[fd];if(f&&n.readyState===4){try{f.status_code=n.status}catch{}cr("xhr",{endTimestamp:1e3*xs(),startTimestamp:s,xhr:n,virtualError:r})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(f,p,g)=>(u(),f.apply(p,g))}):n.addEventListener("readystatechange",u),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(f,p,g){const[v,S]=g,k=p[fd];return k&&_s(v)&&_s(S)&&(k.request_headers[v.toLowerCase()]=S),f.apply(p,g)}}),e.apply(n,i)}}),t.send=new Proxy(t.send,{apply(e,n,i){const r=n[fd];return r?(i[0]!==void 0&&(r.body=i[0]),cr("xhr",{startTimestamp:1e3*xs(),xhr:n}),e.apply(n,i)):e.apply(n,i)}})}function ZY(t,e=function(n){const i=Xp[n];if(i)return i;let r=Fn[n];if(ow(r))return Xp[n]=r.bind(Fn);const s=Fn.document;if(s&&typeof s.createElement=="function")try{const o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(r=l[n]),s.head.removeChild(o)}catch(o){YY&&ze.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return r&&(Xp[n]=r.bind(Fn))}("fetch")){let n=0,i=0;return DY(t,function(r){const s=r.body.length;n+=s,i++;const o={body:r.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&i<15,...t.fetchOptions};if(!e)return BO("fetch"),Bm("No fetch implementation available");try{return e(t.url,o).then(l=>(n-=s,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return BO("fetch"),n-=s,i--,Bm(l)}})}function b0(t,e,n,i){const r={filename:t,function:e==="<anonymous>"?Mo:e,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}const eK=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tK=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nK=/\((\S*)(?::(\d+))(?::(\d+))\)/,iK=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rK=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sK=function(...t){const e=t.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0,r=0)=>{const s=[],o=n.split(`
`);for(let l=i;l<o.length;l++){const u=o[l];if(u.length>1024)continue;const f=GA.test(u)?u.replace(GA,"$1"):u;if(!f.match(/\S*Error: /)){for(const p of e){const g=p(f);if(g){s.push(g);break}}if(s.length>=50+r)break}}return function(l){if(!l.length)return[];const u=Array.from(l);return/sentryWrapped/.test(fp(u).function||"")&&u.pop(),u.reverse(),JA.test(fp(u).function||"")&&(u.pop(),JA.test(fp(u).function||"")&&u.pop()),u.slice(0,50).map(f=>({...f,filename:f.filename||fp(u).filename,function:f.function||Mo}))}(s.slice(r))}}([30,t=>{const e=eK.exec(t);if(e){const[,i,r,s]=e;return b0(i,Mo,+r,+s)}const n=tK.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=nK.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[i,r]=$O(n[1]||Mo,n[2]);return b0(r,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=iK.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const r=rK.exec(e[3]);r&&(e[1]=e[1]||"eval",e[3]=r[1],e[4]=r[2],e[5]="")}let n=e[3],i=e[1]||Mo;return[i,n]=$O(i,n),b0(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),$O=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:Mo,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},zO=1024,aK=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var i;e.console&&function(r){const s="console";No(s,r),jo(s,BY)}(function(r){return function(s){if(Mn()!==r)return;const o={category:"console",data:{arguments:s.args,logger:"console"},level:$Y(s.level),message:ZA(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;o.message=`Assertion failed: ${ZA(s.args.slice(1)," ")||"console.assert"}`,o.data.arguments=s.args.slice(1)}fo(o,{input:s.args,level:s.level})}}(n)),e.dom&&(i=function(r,s){return function(o){if(Mn()!==r)return;let l,u,f=typeof s=="object"?s.serializeAttribute:void 0,p=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;p&&p>zO&&(Wg&&ze.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${p} was configured. Sentry will use 1024 instead.`),p=zO),typeof f=="string"&&(f=[f]);try{const v=o.event,S=function(k){return!!k&&!!k.target}(v)?v.target:v;l=bI(S,{keyAttrs:f,maxStringLength:p}),u=function(k){if(!HS.HTMLElement)return null;let w=k;for(let C=0;C<5;C++){if(!w)return null;if(w instanceof HTMLElement){if(w.dataset.sentryComponent)return w.dataset.sentryComponent;if(w.dataset.sentryElement)return w.dataset.sentryElement}w=w.parentNode}return null}(S)}catch{l="<unknown>"}if(l.length===0)return;const g={category:`ui.${o.name}`,message:l};u&&(g.data={"ui.component_name":u}),fo(g,{event:o.event,name:o.name,global:o.global})}}(n,e.dom),No("dom",i),jo("dom",KY)),e.xhr&&function(r){No("xhr",r),jo("xhr",QY)}(function(r){return function(s){if(Mn()!==r)return;const{startTimestamp:o,endTimestamp:l}=s,u=s.xhr[fd];if(!o||!l||!u)return;const{method:f,url:p,status_code:g,body:v}=u,S={method:f,url:p,status_code:g},k={xhr:s.xhr,input:v,startTimestamp:o,endTimestamp:l};fo({category:"xhr",data:S,type:"http",level:PO(g)},k)}}(n)),e.fetch&&UY(function(r){return function(s){if(Mn()!==r)return;const{startTimestamp:o,endTimestamp:l}=s;if(l&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)fo({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:o,endTimestamp:l});else{const u=s.response,f={...s.fetchData,status_code:u&&u.status},p={input:s.args,response:u,startTimestamp:o,endTimestamp:l};fo({category:"fetch",data:f,type:"http",level:PO(f.status_code)},p)}}}(n)),e.history&&OI(function(r){return function(s){if(Mn()!==r)return;let o=s.from,l=s.to;const u=p0(dn.location.href);let f=o?p0(o):void 0;const p=p0(l);f&&f.path||(f=u),u.protocol===p.protocol&&u.host===p.host&&(l=p.relative),u.protocol===f.protocol&&u.host===f.host&&(o=f.relative),fo({category:"navigation",data:{from:o,to:l}})}}(n)),e.sentry&&n.on("beforeSendEvent",function(r){return function(s){Mn()===r&&fo({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:ma(s)},{event:s})}}(n))}}},oK=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cK=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&gi(dn,"setTimeout",FO),e.setInterval&&gi(dn,"setInterval",FO),e.requestAnimationFrame&&gi(dn,"requestAnimationFrame",lK),e.XMLHttpRequest&&"XMLHttpRequest"in dn&&gi(XMLHttpRequest.prototype,"send",uK);const n=e.eventTarget;n&&(Array.isArray(n)?n:oK).forEach(dK)}}};function FO(t){return function(...e){const n=e[0];return e[0]=jl(n,{mechanism:{data:{function:Oa(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function lK(t){return function(e){return t.apply(this,[jl(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Oa(t)},handled:!1,type:"instrument"}})])}}function uK(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&gi(n,i,function(r){const s={mechanism:{data:{function:i,handler:Oa(r)},handled:!1,type:"instrument"}},o=qS(r);return o&&(s.mechanism.data.handler=Oa(o)),jl(r,s)})}),t.apply(this,e)}}function dK(t){const e=dn[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(gi(n,"addEventListener",function(i){return function(r,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=jl(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Oa(s),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[r,jl(s,{mechanism:{data:{function:"addEventListener",handler:Oa(s),target:t},handled:!1,type:"instrument"}}),o])}}),gi(n,"removeEventListener",function(i){return function(r,s,o){try{const l=s.__sentry_wrapped__;l&&i.call(this,r,l,o)}catch{}return i.call(this,r,s,o)}}))}const fK=()=>({name:"BrowserSession",setupOnce(){dn.document!==void 0?(vO({ignoreDuration:!0}),yO(),OI(({from:t,to:e})=>{t!==void 0&&t!==e&&(vO({ignoreDuration:!0}),yO())})):Wg&&ze.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),hK=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(function(i){(function(r){const s="error";No(s,r),jo(s,iY)})(r=>{const{stackParser:s,attachStacktrace:o}=VO();if(Mn()!==i||jO())return;const{msg:l,url:u,line:f,column:p,error:g}=r,v=function(S,k,w,C){const T=S.exception=S.exception||{},D=T.values=T.values||[],P=D[0]=D[0]||{},j=P.stacktrace=P.stacktrace||{},N=j.frames=j.frames||[],B=C,L=w,z=_s(k)&&k.length>0?k:function(){try{return HS.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:B,filename:z,function:Mo,in_app:!0,lineno:L}),S}(uw(s,g||l,void 0,o,!1),u,f,p);v.level="error",gO(v,{originalException:g,mechanism:{handled:!1,type:"onerror"}})})}(n),UO("onerror")),e.onunhandledrejection&&(function(i){(function(r){const s="unhandledrejection";No(s,r),jo(s,rY)})(r=>{const{stackParser:s,attachStacktrace:o}=VO();if(Mn()!==i||jO())return;const l=function(f){if(Q_(f))return f;try{if("reason"in f)return f.reason;if("detail"in f&&"reason"in f.detail)return f.detail.reason}catch{}return f}(r),u=Q_(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:uw(s,l,void 0,o,!0);u.level="error",gO(u,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),UO("onunhandledrejection"))}}};function UO(t){Wg&&ze.log(`Global Handler attached: ${t}`)}function VO(){const t=Mn();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const pK=()=>({name:"HttpContext",preprocessEvent(t){if(!dn.navigator&&!dn.location&&!dn.document)return;const e=t.request&&t.request.url||dn.location&&dn.location.href,{referrer:n}=dn.document||{},{userAgent:i}=dn.navigator||{},r={...t.request&&t.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},s={...t.request,...e&&{url:e},headers:r};t.request=s}}),mK=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(i,r,s){const o=s.getOptions();IY(KS,o.stackParser,o.maxValueLength,n,e,i,r)}}};var HO="new",qO="loading",WO="loaded",fw="joining-meeting",ko="joined-meeting",ho="left-meeting",sa="error",gK="playable",_0="unknown",vK="full",yK="base",GO="no-room",bK="end-of-life",_K="connection-error",wK="iframe-ready-for-launch-config",SK="iframe-launch-config",xK="theme-updated",kK="loading",CK="load-attempt-failed",JO="loaded",MK="started-camera",EK="camera-error",TK="joining-meeting",AK="joined-meeting",OK="left-meeting",RK="participant-joined",DK="participant-updated",PK="participant-left",NK="participant-counts-updated",jK="access-state-updated",LK="meeting-session-summary-updated",IK="meeting-session-state-updated",BK="waiting-participant-added",$K="waiting-participant-updated",zK="waiting-participant-removed",FK="track-started",UK="track-stopped",VK="transcription-started",HK="transcription-stopped",qK="transcription-error",YO="recording-started",KO="recording-stopped",WK="recording-stats",GK="recording-error",JK="recording-upload-completed",YK="recording-data",KK="app-message",XK="transcription-message",QK="remote-media-player-started",ZK="remote-media-player-updated",eX="remote-media-player-stopped",tX="local-screen-share-started",nX="local-screen-share-stopped",iX="local-screen-share-canceled",rX="active-speaker-change",sX="active-speaker-mode-change",aX="network-quality-change",oX="network-connection",cX="cpu-load-change",lX="face-counts-updated",bp="fullscreen",_p="exited-fullscreen",uX="live-streaming-started",dX="live-streaming-updated",fX="live-streaming-stopped",hX="live-streaming-error",pX="lang-updated",mX="receive-settings-updated",XO="input-settings-updated",QO="nonfatal-error",ZO="error",w0=4096,e2=102400,S0="iframe-call-message",t2="local-screen-start",n2="daily-method-update-live-streaming-endpoints",wp="transmit-log",ws="daily-custom-track",Qp={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},RI={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},hw={PLAY:"play",PAUSE:"pause"},x0=["jpg","png","jpeg"],gX="add-endpoints",vX="remove-endpoints",i2="sip-call-transfer";function Hi(){return!rt()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function rt(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function DI(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function yX(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(Ko(),zm())||rt())}function r2(){if(rt()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var pw="none",bX="software",_X="hardware",wX=function(){try{var t,e=document.createElement("canvas"),n=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,t=e.getContext("webgl2"));var i=t!=null;return e.remove(),i?n?bX:_X:pw}catch{return pw}}();function PI(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!rt()&&wX!==pw&&(t?function(){return s2()?!1:["Chrome","Firefox"].includes(Ko())}():function(){if(s2())return!1;var e=Ko();if(e==="Safari"){var n=ZS();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?QS().major>=77:e==="Firefox"?ex().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function NI(){if(rt()||jI()||typeof AudioWorkletNode>"u")return!1;switch(Ko()){case"Chrome":case"Firefox":return!0;case"Safari":var t=zm();return t.major>17||t.major===17&&t.minor>=4}return!1}function k0(){return DI()&&typeof MediaStreamTrack<"u"&&!function(){var t,e=Ko();if(!Hi())return!0;switch(e){case"Chrome":return(t=QS()).major&&t.major>0&&t.major<75;case"Firefox":return(t=ex()).major<91;case"Safari":return(t=ZS()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function jI(){return Hi().match(/Linux; Android/)}function s2(){var t,e=Hi(),n=e.match(/Mac/)&&(!rt()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!Hi().match(/DailyAnd\//)||void 0}function Ko(){if(typeof window<"u"){var t=Hi();return LI()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||II()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function zm(){switch(Ko()){case"Chrome":return QS();case"Safari":return ZS();case"Firefox":return ex();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var n=Hi().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}()}}function QS(){var t=0,e=0,n=0,i=0,r=!1;if(typeof window<"u"){var s=Hi(),o=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{t=parseInt(o[1]),e=parseInt(o[2]),n=parseInt(o[3]),i=parseInt(o[4]),r=s.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:i,opera:r}}function LI(){return!!Hi().match(/iPad|iPhone|iPod/i)&&DI()}function II(){return Hi().indexOf("AppleWebKit/605.1.15")>-1}function ZS(){var t=0,e=0,n=0;if(typeof window<"u"){var i=Hi().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(i)try{t=parseInt(i[1]),e=parseInt(i[2]),n=parseInt(i[4])}catch{}else(LI()||II())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function ex(){var t=0,e=0;if(typeof window<"u"){var n=Hi().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var BI=function(){return xi(function t(){Si(this,t)},[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){Ku()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){Ku()}},{key:"sendMessageToCallMachine",value:function(t,e,n,i){Ku()}},{key:"sendMessageToDailyJs",value:function(t,e){Ku()}},{key:"removeListener",value:function(t){Ku()}}])}();function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function C0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(i){Tr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}var SX=function(){function t(){var e,n,i,r;return Si(this,t),n=this,i=fr(i=t),(e=$g(n,$I()?Reflect.construct(i,[],fr(n).constructor):i.apply(n,r)))._wrappedListeners={},e._messageCallbacks={},e}return zg(t,BI),xi(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,i){var r=this,s=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=C0({},o.data);if(delete l.from,l.callbackStamp&&r._messageCallbacks[l.callbackStamp]){var u=l.callbackStamp;r._messageCallbacks[u].call(i,l),delete r._messageCallbacks[u]}delete l.what,delete l.callbackStamp,e.call(i,l)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,i){var r=function(s){var o;if(!(!s.data||s.data.what!==S0||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&n&&s.data.callClientId!==n||s!=null&&(o=s.data)!==null&&o!==void 0&&o.callFrameId)){var l=s.data;e.call(i,l)}};this._wrappedListeners[e]=r,window.addEventListener("message",r)}},{key:"sendMessageToCallMachine",value:function(e,n,i,r){if(!i)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=C0({},e);if(s.what=S0,s.from="module",s.callClientId=i,n){var o=Fg();this._messageCallbacks[o]=n,s.callbackStamp=o}var l=r?r.contentWindow:window,u=this._callMachineTargetOrigin(r);u&&l.postMessage(s,u)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=S0,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,i){var r=C0({},e);r.callClientId=i;var s=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&s.postMessage(r,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var i=function(r){if(r.data&&r.data.what==="iframe-call-message"&&(!r.data.callClientId||r.data.callClientId===n)&&(!r.data.from||r.data.from!=="module")){var s=r.data;e(s)}};return this._wrappedListeners[e]=i,window.addEventListener("message",i),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}var xX=function(){function t(){var e,n,i,r;return Si(this,t),n=this,i=fr(i=t),e=$g(n,zI()?Reflect.construct(i,[],fr(n).constructor):i.apply(n,r)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new K_.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new K_.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return zg(t,BI),xi(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,i){this._addListener(e,global.callMachineToDailyJsEmitter,n,i,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,i){this._addListener(e,global.dailyJsToCallMachineEmitter,n,i,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,i){this._sendMessage(e,global.dailyJsToCallMachineEmitter,i,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,i,r,s){var o=this,l=function(u){if(u.callClientId===i){if(u.callbackStamp&&o._messageCallbacks[u.callbackStamp]){var f=u.callbackStamp;o._messageCallbacks[f].call(r,u),delete o._messageCallbacks[f]}e.call(r,u)}};this._wrappedListeners[e]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(e,n,i,r,s){var o=function(u){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?o2(Object(p),!0).forEach(function(g){Tr(u,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):o2(Object(p)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(p,g))})}return u}({},e);if(o.callClientId=i,r){var l=Fg();this._messageCallbacks[l]=r,o.callbackStamp=l}n.emit("message",o)}}])}(),mw="replace",gw="shallow-merge",c2=[mw,gw],kX=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,i=e.mergeStrategy,r=i===void 0?mw:i;Si(this,t),t._validateMergeStrategy(r),t._validateData(n,r),this.mergeStrategy=r,this.data=n}return xi(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===gw}},{key:"_validateMergeStrategy",value:function(e){if(!c2.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(c2,"]"))}},{key:"_validateData",value:function(e,n){if(!function(l){if(l==null||lt(l)!=="object")return!1;var u=Object.getPrototypeOf(l);return u==null||u===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var i;try{if(i=JSON.stringify(e),n===mw){var r=JSON.parse(i);$n(r,e)||console.warn("The meeting session data provided will be modified when serialized.",r,e)}else if(n===gw){for(var s in e)if(Object.hasOwnProperty.call(e,s)&&e[s]!==void 0){var o=JSON.parse(JSON.stringify(e[s]));$n(e[s],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,e[s])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(i.length>e2)throw Error("Meeting session data is too large (".concat(i.length," characters). Maximum size suppported is ").concat(e2,"."))}}])}();function FI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!t})()}function vw(t){var e=typeof Map=="function"?new Map:void 0;return vw=function(n){if(n===null||!function(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return function(r,s,o){if(FI())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,s);var u=new(r.bind.apply(r,l));return o&&$d(u,o.prototype),u}(n,arguments,fr(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$d(i,n)},vw(t)}function UI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!t})()}function l2(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var i=n.indexOf(t);i!==-1&&n.splice(i,1)}}var CX=function(){return xi(function t(e){Si(this,t),this._currentLoad=null,this._callClientId=e},[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void i(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new MX(n,function(){i(!1)},function(s,o){o||l2(e._callClientId),r(s,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),l2(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),MX=function(){return xi(function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;Si(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=i},[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new u2(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())},3e3))};this._currentAttempt=new u2(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),M0=function(){function t(){return Si(this,t),e=this,i=arguments,n=fr(n=t),$g(e,UI()?Reflect.construct(n,i||[],fr(e).constructor):n.apply(e,i));var e,n,i}return zg(t,vw(Error)),xi(t)}(),Fm=2e4,u2=function(){return xi(function e(n,i,r){Si(this,e),this._loadAttemptImpl=rt()||!n.avoidEval?new EX(n,i,r):new TX(n,i,r)},[{key:"start",value:(t=Ie(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t}(),EX=function(){return xi(function r(s,o,l){Si(this,r),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(i=Ie(function*(){var r=Nm(this._dailyConfig);!(yield this._tryLoadFromIOSCache(r))&&this._loadFromNetwork(r)}),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=Ie(function*(r){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(r);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}}),function(r){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=Ie(function*(r){var s=this;this._networkTimeout=setTimeout(function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(Fm," ms) when loading call object bundle ").concat(r),type:"timeout"})},Fm);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(r,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new M0;var u=yield this._getBundleCodeFromResponse(r,l);if(this.cancelled)throw new M0;Function('"use strict";'+u)(),this._iosCache&&this._iosCache.set(r,u,l.headers),this.succeeded=!0,this._successCallback()}catch(f){if(clearTimeout(this._networkTimeout),f instanceof M0||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(r,": ").concat(f),type:f.message})}}),function(r){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=Ie(function*(r,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(r,s.headers)).code;throw new Error("Received ".concat(s.status," response"))}),function(r,s){return t.apply(this,arguments)})}]);var t,e,n,i}(),TX=function(){return xi(function t(e,n,i){Si(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=i,this._attemptId=Fg(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=Nm(this._dailyConfig);(typeof document>"u"?"undefined":lt(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(Fm," ms) when loading call object bundle ").concat(t),type:"timeout"})},Fm);var n=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},i.onerror=function(r){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(r.target.src),type:r.message})},i.src=t,n.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Sp=function(t,e,n){return OX(t.local,e,n)===!0},AX=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},cl=function(t,e,n,i){var r=RX(t,e,n,i);return r&&r.pendingTrack},OX=function(t,e,n){if(!t)return!1;var i=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},r=t.public.subscribedTracks;return r&&r[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&r[e].custom?[!0,"staged"].includes(r[e].custom)?i(r[e].custom):i(r[e].custom[n]):i(r[e][n]):!r||i(r.ALL)},RX=function(t,e,n,i){var r=Object.values(t.streams||{}).filter(function(s){return s.participantId===e&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===i}).sort(function(s,o){return new Date(o.starttime)-new Date(s.starttime)});return r&&r[0]},DX=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function d2(t,e){for(var n=e.getState(),i=0,r=["cam","screen"];i<r.length;i++)for(var s=r[i],o=0,l=["video","audio"];o<l.length;o++){var u=l[o],f=s==="cam"?u:"screen".concat(u.charAt(0).toUpperCase()+u.slice(1)),p=t.tracks[f];if(p){var g=t.local?AX(n,s,u):cl(n,t.session_id,s,u);p.state==="playable"&&(p.track=g),p.persistentTrack=g}}}function f2(t,e){try{var n=e.getState();for(var i in t.tracks)if(!PX(i)){var r=t.tracks[i].kind;if(r){var s=t.tracks[i];if(s){var o=t.local?DX(n,i):cl(n,t.session_id,i,r);s.state==="playable"&&(t.tracks[i].track=o),s.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function PX(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function h2(t,e,n){var i=n.getState();if(t.local){if(t.audio)try{t.audioTrack=i.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=i.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=i.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=i.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var r=!0;try{var s=i.participants[t.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(r=!1)}catch(p){console.error(p)}if(!r)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(i.streams,t.audio&&Sp(i,t.session_id,"cam-audio")){var o=cl(i,t.session_id,"cam","audio");o&&(e&&e.audioTrack&&e.audioTrack.id===o.id?t.audioTrack=o:o.muted||(t.audioTrack=o)),t.audioTrack||(t.audio=!1)}if(t.video&&Sp(i,t.session_id,"cam-video")){var l=cl(i,t.session_id,"cam","video");l&&(e&&e.videoTrack&&e.videoTrack.id===l.id?t.videoTrack=l:l.muted||(t.videoTrack=l)),t.videoTrack||(t.video=!1)}if(t.screen&&Sp(i,t.session_id,"screen-audio")){var u=cl(i,t.session_id,"screen","audio");u&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===u.id?t.screenAudioTrack=u:u.muted||(t.screenAudioTrack=u))}if(t.screen&&Sp(i,t.session_id,"screen-video")){var f=cl(i,t.session_id,"screen","video");f&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===f.id?t.screenVideoTrack=f:f.muted||(t.screenVideoTrack=f))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(p){console.error("unexpected error matching up tracks",p)}}}function NX(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return p2(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?p2(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Cr=new Map,yl=null;function jX(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return m2(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?m2(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Mr=new Map,Sd=null;function LX(t){VI()?function(e){Cr.has(e)||(Cr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Cr.has(e)&&(Cr.get(e).lastDevicesString=JSON.stringify(n),yl||(yl=function(){var i=Ie(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),o=NX(Cr.keys());try{for(o.s();!(r=o.n()).done;){var l=r.value,u=JSON.stringify(s);u!==Cr.get(l).lastDevicesString&&(Cr.get(l).lastDevicesString=u,l(s))}}catch(f){o.e(f)}finally{o.f()}});return function(){return i.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",yl)))}).catch(function(){}))}(t):function(e){Mr.has(e)||(Mr.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Mr.has(e)&&(Mr.get(e).lastDevicesString=JSON.stringify(n),Sd||(Sd=setInterval(Ie(function*(){var i,r=yield navigator.mediaDevices.enumerateDevices(),s=jX(Mr.keys());try{for(s.s();!(i=s.n()).done;){var o=i.value,l=JSON.stringify(r);l!==Mr.get(o).lastDevicesString&&(Mr.get(o).lastDevicesString=l,o(r))}}catch(u){s.e(u)}finally{s.f()}}),3e3)))}))}(t)}function IX(t){VI()?function(e){Cr.has(e)&&(Cr.delete(e),Cr.size===0&&yl&&(navigator.mediaDevices.removeEventListener("devicechange",yl),yl=null))}(t):function(e){Mr.has(e)&&(Mr.delete(e),Mr.size===0&&Sd&&(clearInterval(Sd),Sd=null))}(t)}function VI(){var t;return rt()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var BX=new Set;function $X(t,e){return t&&t.readyState==="live"&&!function(n,i){return n.muted&&!BX.has(n.id)}(t)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(i){Tr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var hd=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),zX=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),xd=Object.values(hd),v2=["v","a","sv","sa","cv","ca"];Object.freeze(xd.reduce(function(t,e,n){return t[e]=v2[n],t},{})),Object.freeze(v2.reduce(function(t,e,n){return t[e]=xd[n],t},{}));var FX=[hd.VIDEO,hd.AUDIO,hd.SCREEN_VIDEO,hd.SCREEN_AUDIO],y2=Object.values(zX),b2=["p","s","t"];Object.freeze(y2.reduce(function(t,e,n){return t[e]=b2[n],t},{})),Object.freeze(b2.reduce(function(t,e,n){return t[e]=y2[n],t},{}));var HI=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,i=e.byUserId,r=e.byParticipantId;Si(this,t),this.base=n,this.byUserId=i,this.byParticipantId=r}return xi(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof wn?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var i=this.byUserId[n];e.byUserId[n]=i instanceof wn?i.clone():i}if(this.byParticipantId!==void 0)for(var r in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[r];e.byParticipantId[r]=s instanceof wn?s.clone():s}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof wn&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var i=this.byUserId[n];e.byUserId[n]=i instanceof wn?i.toJSONObject():i}if(this.byParticipantId!==void 0)for(var r in e.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[r];e.byParticipantId[r]=s instanceof wn?s.toJSONObject():s}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var i=this.byUserId[n];e.u[n]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var r in e.p={},this.byParticipantId){var s=this.byParticipantId[r];e.p[r]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof wn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(e){var n=Tn(e,2),i=n[0],r=n[1];return[i,r instanceof wn?r.normalize():r]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(e){var n=Tn(e,2),i=n[0],r=n[1];return[i,r instanceof wn?r.normalize():r]}))),this}}],[{key:"fromJSONObject",value:function(e){var n,i,r;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:wn.fromJSONObject(e.base)),e.byUserId!==void 0)for(var s in i={},e.byUserId){var o=e.byUserId[s];i[s]=typeof o=="boolean"?o:wn.fromJSONObject(o)}if(e.byParticipantId!==void 0)for(var l in r={},e.byParticipantId){var u=e.byParticipantId[l];r[l]=typeof u=="boolean"?u:wn.fromJSONObject(u)}return new t({base:n,byUserId:i,byParticipantId:r})}},{key:"fromMinifiedJSONObject",value:function(e){var n,i,r;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:wn.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var s in i={},e.u){var o=e.u[s];i[s]=typeof o=="boolean"?o:wn.fromMinifiedJSONObject(o)}if(e.p!==void 0)for(var l in r={},e.p){var u=e.p[l];r[l]=typeof u=="boolean"?u:wn.fromMinifiedJSONObject(u)}return new t({base:n,byUserId:i,byParticipantId:r})}},{key:"validateJSONObject",value:function(e){if(lt(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],i=0,r=Object.keys(e);i<r.length;i++){var s=r[i];if(!n.includes(s))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(s==="base"){var o=Tn(wn.validateJSONObject(e.base,!0),2),l=o[0],u=o[1];if(!l)return[!1,u]}else{if(lt(e[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var f=0,p=Object.values(e[s]);f<p.length;f++){var g=p[f],v=Tn(wn.validateJSONObject(g),2),S=v[0],k=v[1];if(!S)return[!1,k]}}}return[!0]}}])}(),wn=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,i=e.audio,r=e.screenVideo,s=e.screenAudio,o=e.customVideo,l=e.customAudio;Si(this,t),this.video=n,this.audio=i,this.screenVideo=r,this.screenAudio=s,this.customVideo=o,this.customAudio=l}return xi(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=aa({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=aa({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=aa({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=aa({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=aa({},this.customVideo)),this.customAudio!==void 0&&(e.ca=aa({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,i){return n&&Object.keys(n).length===1&&n["*"]===i}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?aa({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?aa({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(lt(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var i=Object.keys(e),r=0,s=i;r<s.length;r++){var o=s[r];if(!xd.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(FX.includes(o)){if(typeof e[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(lt(e[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,u=Object.values(e[o]);l<u.length;l++)if(typeof u[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&e[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&i.length!==xd.length?[!1,'canReceive "base" permission must specify all media types: '.concat(xd.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),UX=["result"],VX=["preserveIframe"];function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(i){Tr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qI=function(){return!!t})()}function w2(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(u,f){if(u){if(typeof u=="string")return S2(u,f);var p={}.toString.call(u).slice(8,-1);return p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set"?Array.from(u):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?S2(u,f):void 0}}(t))||e){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function S2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var po={},x2="video",HX="voice",k2=rt()?{data:{}}:{data:{},topology:"none"},C2={present:0,hidden:0},WI={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},E0=Object.keys(WI),M2=["state","volume","simulcastEncodings"],E2={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Um={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},yw={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},mo={customIntegrations:{validate:e3,help:QI()},customTrayButtons:{validate:ZI,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Um))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return t3(t,E2)},help:"reactNativeConfig should look like ".concat(JSON.stringify(E2),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return GI(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:ws};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:ws};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(i){for(var r=0,s=Object.keys(i);r<s.length;r++){var o=s[r];if(!e.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(e.join(", "))),!1;if(!i[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(i[o],'"')),!1}return!0};return lt(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return JI(t,{allowAllParticipantsKey:!1})},help:XI({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(n,i){try{return i.validateUpdateSendSettings(n),!0}catch(r){return console.error("Failed to validate send settings",r),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!YI(t)&&(e._inputSettings||(e._inputSettings={}),KI(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:bw()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},xp={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var i in t.screen)if(i!=="div"&&i!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!rt()&&t==="avatar")return!0;var i=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],r=function(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in s)if(l==="custom"){if(!n.includes(s[l])&&!r(s[l],!0))return!1}else{var u=!o&&!i.includes(l),f=!n.includes(s[l]);if(u||f)return!1}return!0};return r(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(rt()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var i=Tn(n[e],2),r=i[0],s=i[1];switch(r){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],u=w2(s);try{for(u.s();!(o=u.n()).done;){var f=o.value;if(!l.includes(f))return!1}}catch(T){u.e(T)}finally{u.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canSend=new Set(s));break;case"canReceive":var p=Tn(HI.validateJSONObject(s),2),g=p[0],v=p[1];if(!g)return console.error(v),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var S,k=["participants","streaming","transcription"],w=w2(s);try{for(w.s();!(S=w.n()).done;){var C=S.value;if(!k.includes(C))return!1}}catch(T){w.e(T)}finally{w.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(t.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=Ie(function*(e){return new Promise(function(n,i){var r=[];e.forEach(function(s){return Promise.resolve(s).then(function(o){n(o)}).catch(function(o){r.push(o),r.length===e.length&&i(r)})})})});return function(e){return t.apply(this,arguments)}}());var qX=function(){function t(h){var b,_,O,A,I,F,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Si(this,t),O=this,A=fr(A=t),Tr(_=$g(O,qI()?Reflect.construct(A,[],fr(O).constructor):A.apply(O,I)),"startListeningForDeviceChanges",function(){LX(_.handleDeviceChange)}),Tr(_,"stopListeningForDeviceChanges",function(){IX(_.handleDeviceChange)}),Tr(_,"handleDeviceChange",function(oe){oe=oe.map(function(pe){return JSON.parse(JSON.stringify(pe))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:oe})}),Tr(_,"handleNativeAppStateChange",function(){var oe=Ie(function*(pe){if(pe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Te=pe==="active";_.disableReactNativeAutoDeviceManagement("video")||(Te?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(pe){return oe.apply(this,arguments)}}()),Tr(_,"handleNativeAudioFocusChange",function(oe){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=oe,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),Tr(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!k0()&&!rt())throw new Error("WebRTC not supported or suppressed");if(_.strictMode=U.strictMode===void 0||U.strictMode,_.allowMultipleCallInstances=(b=U.allowMultipleCallInstances)!==null&&b!==void 0&&b,Object.keys(po).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=Fg(),po[(F=_).callClientId]=F,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,U.dailyJsVersion=t.version(),_._iframe=h,_._callObjectMode=U.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},U.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!U.showLocalVideo:_._showLocalVideo=!0,U.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!U.showParticipantsBar:_._showParticipantsBar=!0,U.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=U.customIntegrations:_._customIntegrations={},U.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=U.customTrayButtons:_._customTrayButtons={},U.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!U.activeSpeakerMode:_._activeSpeakerMode=!1,U.receiveSettings?_._callObjectMode?_._receiveSettings=U.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(U),_.properties=Re({},U),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new CX(_.callClientId):null,_._callState=HO,_._isPreparingToJoin=!1,_._accessState={access:_0},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=O0(k2,_._callObjectMode),_._nativeInCallAudioMode=x2,_._participants={},_._isScreenSharing=!1,_._participantCounts=C2,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=w0,_._messageChannel=rt()?new xX:new SX,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:bp}),_.sendMessageToCallMachine({action:bp})):(_.emitDailyJSEvent({action:_p}),_.sendMessageToCallMachine({action:_p}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:bp}),_.sendMessageToCallMachine({action:bp})):(_.emitDailyJSEvent({action:_p}),_.sendMessageToCallMachine({action:_p}))})),rt()){var K=_.nativeUtils();K.addAudioFocusChangeListener&&K.removeAudioFocusChangeListener&&K.addAppStateChangeListener&&K.removeAppStateChangeListener&&K.addSystemScreenCaptureStopListener&&K.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,K.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),K.addAppStateChangeListener(_.handleNativeAppStateChange),K.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return zg(t,dp),xi(t,[{key:"destroy",value:(Q=Ie(function*(){var h;try{yield this.leave()}catch{}var b=this._iframe;if(b){var _=b.parentElement;_&&_.removeChild(b)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),rt()){var O=this.nativeUtils();O.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),O.removeAppStateChangeListener(this.handleNativeAppStateChange),O.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete po[this.callClientId],!((h=window)===null||h===void 0||(h=h._daily)===null||h===void 0)&&h.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Q.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(h){var b=h.bodyClass,_=h.cssFile,O=h.cssText;return it(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:b,cssText:O}),this}},{key:"iframe",value:function(){return it(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Zi(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Zi(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(h,b){for(var _ in b){if(!xp[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(xp[_].validate&&!xp[_].validate(b[_],this,this._participants[h]))throw new Error(xp[_].help)}}},{key:"updateParticipant",value:function(h,b){return this._participants.local&&this._participants.local.session_id===h&&(h="local"),h&&b&&(this.validateParticipantProperties(h,b),this.sendMessageToCallMachine({action:"update-participant",id:h,properties:b})),this}},{key:"updateParticipants",value:function(h){var b=this._participants.local&&this._participants.local.session_id;for(var _ in h)_===b&&(_="local"),_&&h[_]&&this.validateParticipantProperties(_,h[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:h}),this}},{key:"updateWaitingParticipant",value:(V=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Zi(this._callObjectMode,"updateWaitingParticipant()"),At(this._callState,"updateWaitingParticipant()"),typeof b!="string"||lt(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(O,A){h.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:b,updates:_},function(I){I.error&&A(I.error),I.id||A(new Error("unknown error in updateWaitingParticipant()")),O({id:I.id})})})}),function(){return V.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(we=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zi(this._callObjectMode,"updateWaitingParticipants()"),At(this._callState,"updateWaitingParticipants()"),lt(b)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,O){h.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:b},function(A){A.error&&O(A.error),A.ids||O(new Error("unknown error in updateWaitingParticipants()")),_({ids:A.ids})})})}),function(){return we.apply(this,arguments)})},{key:"requestAccess",value:(se=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=b.access,O=_===void 0?{level:vK}:_,A=b.name,I=A===void 0?"":A;return Zi(this._callObjectMode,"requestAccess()"),At(this._callState,"requestAccess()"),new Promise(function(F,U){h.sendMessageToCallMachine({action:"daily-method-request-access",access:O,name:I},function(K){K.error&&U(K.error),K.access||U(new Error("unknown error in requestAccess()")),F({access:K.access,granted:K.granted})})})}),function(){return se.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in b&&(rt()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),b={}):h&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),b={})),this.sendMessageToCallMachine({action:"local-audio",state:h,options:b}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(h){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:h}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(h){return this.sendMessageToCallMachine({action:"local-video",state:h}),this}},{key:"_setAllowLocalAudio",value:function(h){if(this._preloadCache.allowLocalAudio=h,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:h}),this}},{key:"_setAllowLocalVideo",value:function(h){if(this._preloadCache.allowLocalVideo=h,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:h}),this}},{key:"getReceiveSettings",value:(Y=Ie(function*(h){var b=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,O=_!==void 0&&_;if(Zi(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(lt(h)){case"string":return new Promise(function(A){b.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:h,showInheritedValues:O},function(I){A(I.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(h){return Y.apply(this,arguments)})},{key:"updateReceiveSettings",value:(te=Ie(function*(h){var b=this;if(Zi(this._callObjectMode,"updateReceiveSettings()"),!JI(h,{allowAllParticipantsKey:!0}))throw new Error(XI({allowAllParticipantsKey:!0}));return At(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){b.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:h},function(O){_({receiveSettings:O.receiveSettings})})})}),function(h){return te.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(h,b){if(h){var _={};if(h.audio){var O,A,I;h.audio.settings&&(!Object.keys(h.audio.settings).length&&b||(_.audio={settings:Re({},h.audio.settings)})),b&&(O=_.audio)!==null&&O!==void 0&&(O=O.settings)!==null&&O!==void 0&&O.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var F=((A=h.audio.processor)===null||A===void 0?void 0:A.type)==="none"&&((I=h.audio.processor)===null||I===void 0?void 0:I._isDefaultWhenNone);if(h.audio.processor&&!F){var U=Re({},h.audio.processor);delete U._isDefaultWhenNone,_.audio=Re(Re({},_.audio),{},{processor:U})}}if(h.video){var K,oe,pe;h.video.settings&&(!Object.keys(h.video.settings).length&&b||(_.video={settings:Re({},h.video.settings)})),b&&(K=_.video)!==null&&K!==void 0&&(K=K.settings)!==null&&K!==void 0&&K.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Te=((oe=h.video.processor)===null||oe===void 0?void 0:oe.type)==="none"&&((pe=h.video.processor)===null||pe===void 0?void 0:pe._isDefaultWhenNone);if(h.video.processor&&!Te){var qe=Re({},h.video.processor);delete qe._isDefaultWhenNone,_.video=Re(Re({},_.video),{},{processor:qe})}}return _}}},{key:"getInputSettings",value:function(){var h=this;return it(),new Promise(function(b){b(h._getInputSettings())})}},{key:"_getInputSettings",value:function(){var h,b,_,O,A,I,F={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(h=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||F,b=((O=this._inputSettings)===null||O===void 0?void 0:O.audio)||F):(h=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.video)||F,b=((I=this._preloadCache)===null||I===void 0||(I=I.inputSettings)===null||I===void 0?void 0:I.audio)||F);var U={audio:b,video:h};return this._prepInputSettingsForSharing(U,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(h,b){var _=this._inputSettings||{},O={};if(h.video){var A,I,F;O.video={},h.video.settings?(O.video.settings={},b||h.video.settings.customTrack||(F=_.video)===null||F===void 0||!F.settings?O.video.settings=h.video.settings:O.video.settings=Re(Re({},_.video.settings),h.video.settings),Object.keys(O.video.settings).length||delete O.video.settings):(A=_.video)!==null&&A!==void 0&&A.settings&&(O.video.settings=_.video.settings),h.video.processor?O.video.processor=h.video.processor:(I=_.video)!==null&&I!==void 0&&I.processor&&(O.video.processor=_.video.processor)}else _.video&&(O.video=_.video);if(h.audio){var U,K,oe;O.audio={},h.audio.settings?(O.audio.settings={},b||h.audio.settings.customTrack||(oe=_.audio)===null||oe===void 0||!oe.settings?O.audio.settings=h.audio.settings:O.audio.settings=Re(Re({},_.audio.settings),h.audio.settings),Object.keys(O.audio.settings).length||delete O.audio.settings):(U=_.audio)!==null&&U!==void 0&&U.settings&&(O.audio.settings=_.audio.settings),h.audio.processor?O.audio.processor=h.audio.processor:(K=_.audio)!==null&&K!==void 0&&K.processor&&(O.audio.processor=_.audio.processor)}else _.audio&&(O.audio=_.audio);this._maybeUpdateInputSettings(O)}},{key:"_devicesFromInputSettings",value:function(h){var b,_,O=(h==null||(b=h.video)===null||b===void 0||(b=b.settings)===null||b===void 0?void 0:b.deviceId)||null,A=(h==null||(_=h.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,I=this._preloadCache.outputDeviceId||null;return{camera:O?{deviceId:O}:{},mic:A?{deviceId:A}:{},speaker:I?{deviceId:I}:{}}}},{key:"updateInputSettings",value:(H=Ie(function*(h){var b=this;return it(),YI(h)?h.video||h.audio?(KI(h,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(h,!0),this._getInputSettings()):new Promise(function(_,O){b.sendMessageToCallMachine({action:"update-input-settings",inputSettings:h},function(A){if(A.error)O(A.error);else{if(A.returnPreloadCache)return b._updatePreloadCacheInputSettings(h,!0),void _(b._getInputSettings());b._maybeUpdateInputSettings(A.inputSettings),_(b._prepInputSettingsForSharing(A.inputSettings,!0))}})})):this._getInputSettings():(console.error(bw()),Promise.reject(bw()))}),function(h){return H.apply(this,arguments)})},{key:"setBandwidth",value:function(h){var b=h.kbs,_=h.trackConstraints;if(it(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:b,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var h=this;if(it(),this._callMachineInitialized)return new Promise(function(b){h.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,b(_)})})}},{key:"setDailyLang",value:function(h){return it(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:h}),this}},{key:"setProxyUrl",value:function(h){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:h}),this}},{key:"setIceConfig",value:function(h){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:h}),this}},{key:"meetingSessionSummary",value:function(){return[ho,sa].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(he=Ie(function*(){var h=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),At(this._callState,"getMeetingSession()"),new Promise(function(b){h.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,b(_)})})}),function(){return he.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return At(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Zi(this._callObjectMode,"setMeetingSessionData()"),At(this._callState,"setMeetingSessionData");try{(function(_,O){new kX({data:_,mergeStrategy:O})})(h,b)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:h,mergeStrategy:b})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(h,b){var _=this;return this.properties.userName=h,new Promise(function(O){_.sendMessageToCallMachine({action:"set-user-name",name:h??"",thisMeetingOnly:rt()||!!b&&!!b.thisMeetingOnly},function(A){delete A.action,delete A.callbackStamp,O(A)})})}},{key:"setUserData",value:(ue=Ie(function*(h){var b=this;try{GI(h)}catch(_){throw console.error(_),_}if(this.properties.userData=h,this._callMachineInitialized)return new Promise(function(_){try{b.sendMessageToCallMachine({action:"set-user-data",userData:h},function(O){delete O.action,delete O.callbackStamp,_(O)})}catch(O){throw new Error("Error setting user data: ".concat(O))}})}),function(h){return ue.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(h){if(h&&(h<100||typeof h!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(h){var b=this;if(typeof AudioWorkletNode>"u"&&!rt())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(h),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,O){b.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:h},function(A){b._isLocalAudioLevelObserverRunning=!A.error,A.error?O({error:A.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:h}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(h){var b=this;if(this.validateAudioLevelInterval(h),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,O){b.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:h},function(A){b._isRemoteParticipantsAudioLevelObserverRunning=!A.error,A.error?O({error:A.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:h}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(ye=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zi(this._callObjectMode,"startCamera()"),T0(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(b)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(b),this.properties=Re(Re({},this.properties),b)}return new Promise(function(_){h._preloadCache.inputSettings=h._prepInputSettingsForSharing(h._inputSettings,!1),h.sendMessageToCallMachine({action:"start-camera",properties:el(h.properties,h.callClientId),preloadCache:el(h._preloadCache,h.callClientId)},function(O){_({camera:O.camera,mic:O.mic,speaker:O.speaker})})})}),function(){return ye.apply(this,arguments)})},{key:"validateCustomTrack",value:function(h,b,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(b&&b!=="music"&&b!=="speech"&&!(b instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(h instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return it(),At(this._callState,"startCustomTrack()"),this.validateCustomTrack(b.track,b.mode,b.trackName),new Promise(function(_,O){h._sharedTracks.customTrack=b.track,b.track=ws,h.sendMessageToCallMachine({action:"start-custom-track",properties:b},function(A){A.error?O({error:A.error}):_(A.mediaTag)})})}},{key:"stopCustomTrack",value:function(h){var b=this;return it(),At(this._callState,"stopCustomTrack()"),new Promise(function(_){b.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:h},function(O){_(O.mediaTag)})})}},{key:"setCamera",value:function(h){var b=this;return Xu(),kp(this._callMachineInitialized,"setCamera()"),new Promise(function(_){b.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:h},function(O){_({device:O.device})})})}},{key:"setAudioDevice",value:(re=Ie(function*(h){return Xu(),this.nativeUtils().setAudioDevice(h),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(h){return re.apply(this,arguments)})},{key:"cycleCamera",value:function(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){h.sendMessageToCallMachine({action:"cycle-camera",properties:b},function(O){_({device:O.device})})})}},{key:"cycleMic",value:function(){var h=this;return it(),new Promise(function(b){h.sendMessageToCallMachine({action:"cycle-mic"},function(_){b({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var h=this;return Xu(),new Promise(function(b){h.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){b(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(Z=Ie(function*(h){var b=this,_=h.audioDeviceId,O=h.videoDeviceId,A=h.audioSource,I=h.videoSource;if(it(),A!==void 0&&(_=A),I!==void 0&&(O=I),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof O=="boolean"&&(this._setAllowLocalVideo(O),O=void 0),!_&&!O)return yield this.getInputDevices();var F={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=ws,F.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,F.audio={settings:{deviceId:_}})),O&&(O instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=O,O=ws,F.video={settings:{customTrack:O}}):(delete this._sharedTracks.videoTrack,F.video={settings:{deviceId:O}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(F,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(U){b.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:O},function(K){if(delete K.action,delete K.callbackStamp,K.returnPreloadCache)return b._updatePreloadCacheInputSettings(F,!1),void U(b._devicesFromInputSettings(b._inputSettings));U(K)})})}),function(h){return Z.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(J=Ie(function*(h){var b=this,_=h.outputDeviceId;if(it(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(O,A){b.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(I){if(delete I.action,delete I.callbackStamp,I.error){var F=new Error(I.error.message);return F.type=I.error.type,void A(F)}I.returnPreloadCache?O(b._devicesFromInputSettings(b._inputSettings)):O(I)})})}),function(h){return J.apply(this,arguments)})},{key:"getInputDevices",value:(W=Ie(function*(){var h=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(b){h.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?b(h._devicesFromInputSettings(h._inputSettings)):b({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Xu(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(h){if(Xu(),[x2,HX].includes(h)){if(h!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=h,!this.disableReactNativeAutoDeviceManagement("audio")&&Zp(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",h)}},{key:"preAuth",value:(z=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zi(this._callObjectMode,"preAuth()"),T0(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(b)),!b.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(b),this.properties=Re(Re({},this.properties),b),new Promise(function(_,O){h._preloadCache.inputSettings=h._prepInputSettingsForSharing(h._inputSettings,!1),h.sendMessageToCallMachine({action:"daily-method-preauth",properties:el(h.properties,h.callClientId),preloadCache:el(h._preloadCache,h.callClientId)},function(A){return A.error?O(A.error):A.access?(h._didPreAuth=!0,void _({access:A.access})):O(new Error("unknown error in preAuth()"))})})}),function(){return z.apply(this,arguments)})},{key:"load",value:(L=Ie(function*(h){var b=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(h&&(this.validateProperties(h),this.properties=Re(Re({},this.properties),h)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(qO),this.emitDailyJSEvent({action:kK}),this._callObjectMode?new Promise(function(_,O){b._callObjectLoader.cancel();var A=Date.now();b._callObjectLoader.load(b.properties.dailyConfig,function(I){b._bundleLoadTime=I?"no-op":Date.now()-A,b._updateCallState(WO),I&&b.emitDailyJSEvent({action:JO}),_()},function(I,F){if(b.emitDailyJSEvent({action:CK}),!F){b._updateCallState(sa),b.resetMeetingDependentVars();var U={action:ZO,errorMsg:I.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:I,bundleUrl:Nm(b.properties.dailyConfig)}}};b._maybeSendToSentry(U),b.emitDailyJSEvent(U),O(I.msg)}})}):(this._iframe.src=mI(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,O){b._loadedCallback=function(A){b._callState!==sa?(b._updateCallState(WO),(b.properties.cssFile||b.properties.cssText)&&b.loadCss(b.properties),_()):O(A)}}))}}),function(h){return L.apply(this,arguments)})},{key:"join",value:(B=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(b)}catch(O){return this.updateIsPreparingToJoin(!1),Promise.reject(O)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(b.token&&b.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(b.url&&!this._callObjectMode&&b.url&&b.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(b.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(b),this.properties=Re(Re({},this.properties),b)}return b.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!b.showLocalVideo),b.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!b.showParticipantsBar),this._callState===ko||this._callState===fw?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(fw,!1),this.emitDailyJSEvent({action:TK}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:el(this.properties,this.callClientId),preloadCache:el(this._preloadCache,this.callClientId)}),new Promise(function(O,A){h._joinedCallback=function(I,F){if(h._callState!==sa){if(h._updateCallState(ko),I)for(var U in I){if(h._callObjectMode){var K=h._callMachine().store;d2(I[U],K),f2(I[U],K),h2(I[U],h._participants[U],K)}h._participants[U]=Re({},I[U]),h.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&h.loadCss(h.properties),O(I)}else A(F)}}))}),function(){return B.apply(this,arguments)})},{key:"leave",value:(N=Ie(function*(){var h=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(b){h._callState===ho||h._callState===sa?b():h._callObjectLoader&&!h._callObjectLoader.loaded?(h._callObjectLoader.cancel(),h._updateCallState(ho),h.resetMeetingDependentVars(),h.emitDailyJSEvent({action:ho}),b()):(h._resolveLeave=b,h.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(j=Ie(function*(){var h=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(kp(this._callMachineInitialized,"startScreenShare()"),b.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",b.screenVideoSendSettings),b.mediaStream&&(this._sharedTracks.screenMediaStream=b.mediaStream,b.mediaStream=ws),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:QO,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),h.sendMessageToCallMachine({action:t2,captureOptions:b})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:t2,captureOptions:b})}),function(){return j.apply(this,arguments)})},{key:"stopScreenShare",value:function(){kp(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=h.type;if(b&&b!=="cloud"&&b!=="raw-tracks"&&b!=="local")throw new Error("invalid type: ".concat(b,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Re({action:"local-recording-start"},h))}},{key:"updateRecording",value:function(h){var b=h.layout,_=b===void 0?{preset:"default"}:b,O=h.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:O})}},{key:"stopRecording",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"local-recording-stop"},h))}},{key:"startLiveStreaming",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"daily-method-start-live-streaming"},h))}},{key:"updateLiveStreaming",value:function(h){var b=h.layout,_=b===void 0?{preset:"default"}:b,O=h.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:O})}},{key:"addLiveStreamingEndpoints",value:function(h){var b=h.endpoints,_=h.instanceId;this.sendMessageToCallMachine({action:n2,endpointsOp:gX,endpoints:b,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(h){var b=h.endpoints,_=h.instanceId;this.sendMessageToCallMachine({action:n2,endpointsOp:vX,endpoints:b,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"daily-method-stop-live-streaming"},h))}},{key:"validateDailyConfig",value:function(h){h.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(h.camSimulcastEncodings)),h.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),jI()&&h.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(h){if(!(h instanceof Array||Array.isArray(h)))throw new Error("encodings must be an Array");if(!D2(h.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var O=0;O<h.length;O++){var A=h[O];for(var I in this._validateEncodingLayerHasValidProperties(A),A)if(E0.includes(I)){if(typeof A[I]!="number")throw new Error("".concat(I," must be a number"));if(b){var F=b[I],U=F.min,K=F.max;if(!D2(A[I],U,K))throw new Error("".concat(I," value not in range. valid range: ").concat(U," to ").concat(K))}}else if(!["active","scalabilityMode"].includes(I))throw new Error("Invalid key ".concat(I,", valid keys are:")+Object.values(E0));if(_&&!A.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(P=Ie(function*(h){var b=this,_=h.url,O=h.settings,A=O===void 0?{state:hw.PLAY}:O;try{(function(I){if(typeof I!="string")throw new Error('url parameter must be "string" type')})(_),R2(A),function(I){for(var F in I)if(!M2.includes(F))throw new Error("Invalid key ".concat(F,", valid keys are: ").concat(M2));I.simulcastEncodings&&this.validateSimulcastEncodings(I.simulcastEncodings,WI,!0)}(A)}catch(I){throw console.error("invalid argument Error: ".concat(I)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),I}return new Promise(function(I,F){b.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:A},function(U){U.error?F({error:U.error,errorMsg:U.errorMsg}):I({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(h){return P.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(D=Ie(function*(h){var b=this;if(typeof h!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,O){b.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:h},function(A){A.error?O({error:A.error,errorMsg:A.errorMsg}):_()})})}),function(h){return D.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(T=Ie(function*(h){var b=this,_=h.session_id,O=h.settings;try{R2(O)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),A}return new Promise(function(A,I){b.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:O},function(F){F.error?I({error:F.error,errorMsg:F.errorMsg}):A({session_id:F.session_id,remoteMediaPlayerState:{state:F.state,settings:F.settings}})})})}),function(h){return T.apply(this,arguments)})},{key:"startTranscription",value:function(h){At(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Re({action:"daily-method-start-transcription"},h))}},{key:"updateTranscription",value:function(h){if(At(this._callState,"updateTranscription()"),!h)throw new Error("updateTranscription Error: options is mandatory");if(lt(h)!=="object")throw new Error("updateTranscription Error: options must be object type");if(h.participants&&!Array.isArray(h.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Re({action:"daily-method-update-transcription"},h))}},{key:"stopTranscription",value:function(h){if(At(this._callState,"stopTranscription()"),h&&lt(h)!=="object")throw new Error("stopTranscription Error: options must be object type");if(h&&!h.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Re({action:"daily-method-stop-transcription"},h))}},{key:"startDialOut",value:(C=Ie(function*(h){var b=this;At(this._callState,"startDialOut()");var _=function(F){if(F){if(!Array.isArray(F))throw new Error("Error starting dial out: audio codec must be an array");if(F.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");F.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: audio codec must be a string");if(U!=="OPUS"&&U!=="PCMU"&&U!=="PCMA"&&U!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!h.sipUri&&!h.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(h.sipUri&&h.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(h.sipUri){if(typeof h.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!h.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(h.video&&typeof h.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(F){if(F&&(_(F.audio),F.video)){if(!Array.isArray(F.video))throw new Error("Error starting dial out: video codec must be an array");if(F.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");F.video.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: video codec must be a string");if(U!=="H264"&&U!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(h.codecs)}if(h.phoneNumber){if(typeof h.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(h.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");h.codecs&&_(h.codecs.audio)}if(h.callerId){if(typeof h.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(h.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(h.displayName){if(typeof h.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(h.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(h.userId){if(typeof h.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(h.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(T2(h),h.permissions&&h.permissions.canReceive){var O=Tn(HI.validateJSONObject(h.permissions.canReceive),2),A=O[0],I=O[1];if(!A)throw new Error(I)}if(h.provider){if(h.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(h.provider));if(h.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(F,U){b.sendMessageToCallMachine(Re({action:"dialout-start"},h),function(K){K.error?U(K.error):F(K)})})}),function(h){return C.apply(this,arguments)})},{key:"stopDialOut",value:function(h){var b=this;return At(this._callState,"stopDialOut()"),new Promise(function(_,O){b.sendMessageToCallMachine(Re({action:"dialout-stop"},h),function(A){A.error?O(A.error):_(A)})})}},{key:"sipCallTransfer",value:(w=Ie(function*(h){var b=this;if(At(this._callState,"sipCallTransfer()"),!h)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return h.useSipRefer=!1,O2(h,"sipCallTransfer"),T2(h),new Promise(function(_,O){b.sendMessageToCallMachine(Re({action:i2},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return w.apply(this,arguments)})},{key:"sipRefer",value:(k=Ie(function*(h){var b=this;if(At(this._callState,"sipRefer()"),!h)throw new Error("sessionId and toEndPoint are mandatory parameter");return h.useSipRefer=!0,O2(h,"sipRefer"),new Promise(function(_,O){b.sendMessageToCallMachine(Re({action:i2},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return k.apply(this,arguments)})},{key:"sendDTMF",value:(S=Ie(function*(h){var b=this;return At(this._callState,"sendDTMF()"),function(_){var O=_.sessionId,A=_.tones;if(!O||!A)throw new Error("sessionId and tones are mandatory parameter");if(typeof O!="string"||typeof A!="string")throw new Error("sessionId and tones should be of string type");if(A.length>20)throw new Error("tones string must be upto 20 characters");var I=/[^0-9A-D*#]/g,F=A.match(I);if(F&&F[0])throw new Error("".concat(F[0]," is not valid DTMF tone"))}(h),new Promise(function(_,O){b.sendMessageToCallMachine(Re({action:"send-dtmf"},h),function(A){A.error?O(A.error):_(A)})})}),function(h){return S.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var h=this;return this._callState!==ko?Promise.resolve(Re({stats:{latest:{}}},this._network)):new Promise(function(b){h.sendMessageToCallMachine({action:"get-calc-stats"},function(_){b(Re(Re({},h._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(v=Ie(function*(){var h=this;if(A0(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(b){return Promise.reject(b)}return new Promise(function(b,_){h.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(O){O.error?_(O.error):b(O.results)})})}),function(){return v.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(h){return h?h instanceof MediaStreamTrack?!!$X(h)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(g=Ie(function*(){var h=this;it(),Zi(this._callObjectMode,"testCallQuality()"),kp(this._callMachineInitialized,"testCallQuality()",null,!0),T0(this._callState,this._isPreparingToJoin,"testCallQuality()");var b=this._testCallAlreadyInProgress,_=function(A){b||(h._testCallInProgress=A)};if(_(!0),this.needsLoad())try{var O=this._callState;yield this.load(),this._callState=O}catch(A){return _(!1),Promise.reject(A)}return new Promise(function(A){h.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:h.properties.dailyJsVersion},function(I){var F=I.results,U=F.result,K=$A(F,UX);if(U==="failed"){var oe,pe=Re({},K);(oe=K.error)!==null&&oe!==void 0&&oe.details?(K.error.details=JSON.parse(K.error.details),pe.error=Re(Re({},pe.error),{},{details:Re({},pe.error.details)}),pe.error.details.duringTest="testCallQuality"):(pe.error=pe.error?Re({},pe.error):{},pe.error.details={duringTest:"testCallQuality"}),h._maybeSendToSentry(pe)}_(!1),A(Re({result:U},K))})})}),function(){return g.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(p=Ie(function*(h){var b;rt()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),b=yield this.testPeerToPeerCallQuality(h)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),b=yield this.testCallQuality());var _={result:b.result,secondsElapsed:b.secondsElapsed};return b.data&&(_.data={maxRTT:b.data.maxRoundTripTime,packetLoss:b.data.avgRecvPacketLoss}),_}),function(h){return p.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(f=Ie(function*(h){var b=this;if(A0(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}var _=h.videoTrack,O=h.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(A,I){b.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:O},function(F){F.error?I(F.error):A(F.results)})})}),function(h){return f.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){rt()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(u=Ie(function*(h){var b=this;if(A0(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(h))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=h,new Promise(function(_,O){b.sendMessageToCallMachine({action:"test-network-connectivity"},function(A){A.error?O(A.error):_(A.results)})})}),function(h){return u.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var h=this;return new Promise(function(b){h._callState===ko?h.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){b(_.cpuStats)}):b({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(h){var b;if(!(((b=Object.keys(h))===null||b===void 0?void 0:b.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(E0))}},{key:"_validateVideoSendSettings",value:function(h,b){var _=h==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],O="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof b=="string"){if(!_.includes(b))throw new Error(O)}else{if(lt(b)!=="object")throw new Error(O);if(!b.maxQuality&&!b.encodings&&b.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(b.maxQuality&&["low","medium","high"].indexOf(b.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(b.encodings){var A=!1;switch(Object.keys(b.encodings).length){case 1:A=!b.encodings.low;break;case 2:A=!b.encodings.low||!b.encodings.medium;break;case 3:A=!b.encodings.low||!b.encodings.medium||!b.encodings.high;break;default:A=!0}if(A)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");b.encodings.low&&this._validateEncodingLayerHasValidProperties(b.encodings.low),b.encodings.medium&&this._validateEncodingLayerHasValidProperties(b.encodings.medium),b.encodings.high&&this._validateEncodingLayerHasValidProperties(b.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(h){var b=this;if(!h||Object.keys(h).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(h).forEach(function(_){var O=Tn(_,2),A=O[0],I=O[1];b._validateVideoSendSettings(A,I)})}},{key:"updateSendSettings",value:function(h){var b=this;return this.validateUpdateSendSettings(h),this.needsLoad()?(this._preloadCache.sendSettings=h,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,O){b.sendMessageToCallMachine({action:"update-send-settings",sendSettings:h},function(A){A.error?O(A.error):_(A.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return it(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(h){return it(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:h}),this}},{key:"activeSpeakerMode",value:function(){return it(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(h){return At(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=h,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:h}),this}},{key:"enumerateDevices",value:(l=Ie(function*(){var h=this;if(this._callObjectMode){var b=yield navigator.mediaDevices.enumerateDevices();return Ko()==="Firefox"&&zm().major>115&&zm().major<123&&(b=b.filter(function(_){return _.kind!=="audiooutput"})),{devices:b.map(function(_){var O=JSON.parse(JSON.stringify(_));if(!rt()&&_.kind==="videoinput"&&_.getCapabilities){var A,I=_.getCapabilities();O.facing=(I==null||(A=I.facingMode)===null||A===void 0?void 0:A.length)>=1?I.facingMode[0]:void 0}return O})}}return new Promise(function(_){h.sendMessageToCallMachine({action:"enumerate-devices"},function(O){_({devices:O.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(At(this._callState,"sendAppMessage()"),JSON.stringify(h).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:h,to:b}),this}},{key:"addFakeParticipant",value:function(h){return it(),At(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Re({action:"add-fake-participant"},h)),this}},{key:"setShowNamesMode",value:function(h){return fi(this._callObjectMode,"setShowNamesMode()"),it(),h&&h!=="always"&&h!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:h}),this)}},{key:"setShowLocalVideo",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fi(this._callObjectMode,"setShowLocalVideo()"),it(),At(this._callState,"setShowLocalVideo()"),typeof h!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:h}),this._showLocalVideo=h,this)}},{key:"showLocalVideo",value:function(){return fi(this._callObjectMode,"showLocalVideo()"),it(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fi(this._callObjectMode,"setShowParticipantsBar()"),it(),At(this._callState,"setShowParticipantsBar()"),typeof h!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:h}),this._showParticipantsBar=h,this)}},{key:"showParticipantsBar",value:function(){return fi(this._callObjectMode,"showParticipantsBar()"),it(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return it(),fi(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(h){return it(),fi(this._callObjectMode,"setCustomIntegrations()"),At(this._callState,"setCustomIntegrations()"),e3(h)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:h}),this._customIntegrations=h,this):this}},{key:"startCustomIntegrations",value:function(h){var b=this;if(it(),fi(this._callObjectMode,"startCustomIntegrations()"),At(this._callState,"startCustomIntegrations()"),Array.isArray(h)&&h.some(function(A){return typeof A!="string"})||!Array.isArray(h)&&typeof h!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof h=="string"?[h]:h,O=_.filter(function(A){return!(A in b._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(h){var b=this;if(it(),fi(this._callObjectMode,"stopCustomIntegrations()"),At(this._callState,"stopCustomIntegrations()"),Array.isArray(h)&&h.some(function(A){return typeof A!="string"})||!Array.isArray(h)&&typeof h!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof h=="string"?[h]:h,O=_.filter(function(A){return!(A in b._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return fi(this._callObjectMode,"customTrayButtons()"),it(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(h){return fi(this._callObjectMode,"updateCustomTrayButtons()"),it(),At(this._callState,"updateCustomTrayButtons()"),ZI(h)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:h}),this._customTrayButtons=h,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Um))),this)}},{key:"theme",value:function(){return fi(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(h){var b=this;return fi(this._callObjectMode,"setTheme()"),new Promise(function(_,O){try{b.validateProperties({theme:h}),b.properties.theme=Re({},h),b.sendMessageToCallMachine({action:"set-theme",theme:b.properties.theme});try{b.emitDailyJSEvent({action:xK,theme:b.properties.theme})}catch(A){console.log("could not emit 'theme-updated'",A)}_(b.properties.theme)}catch(A){O(A)}})}},{key:"requestFullscreen",value:(o=Ie(function*(){if(it(),this._iframe&&!document.fullscreenElement&&r2())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(h){console.log("could not make video call fullscreen",h)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){it(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=Ie(function*(){var h=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(b){h.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){b(_.view)})})}),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(h){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:h}),this)}},{key:"room",value:(r=Ie(function*(){var h=this,b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=b===void 0||b;return this._accessState.access===_0||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(O){h.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(A){delete A.action,delete A.callbackStamp,O(A)})})}),function(){return r.apply(this,arguments)})},{key:"geo",value:(i=Ie(function*(){try{var h=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield h.json()).geo}}catch(b){return console.error("geo lookup failed",b),{current:""}}}),function(){return i.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=Ie(function*(h){var b=this;return it(),At(this._callState,"setNetworkTopology()"),new Promise(function(_,O){b.sendMessageToCallMachine({action:"set-network-topology",opts:h},function(A){A.error?O({error:A.error}):_({workerId:A.workerId})})})}),function(h){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=Ie(function*(){var h=this;return new Promise(function(b,_){h.needsLoad()&&b({topology:"none"}),h.sendMessageToCallMachine({action:"get-network-topology"},function(O){O.error?_({error:O.error}):b({topology:O.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(h){if(it(),typeof h!="number"&&h!==!0&&h!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(h));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:h})}},{key:"on",value:function(h,b){return dp.prototype.on.call(this,h,b)}},{key:"once",value:function(h,b){return dp.prototype.once.call(this,h,b)}},{key:"off",value:function(h,b){return dp.prototype.off.call(this,h,b)}},{key:"validateProperties",value:function(h){var b,_;if(h!=null&&(b=h.dailyConfig)!==null&&b!==void 0&&b.userMediaAudioConstraints){var O,A;rt()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var I=h.inputSettings||{};I.audio=((O=h.inputSettings)===null||O===void 0?void 0:O.audio)||{},I.audio.settings=((A=h.inputSettings)===null||A===void 0||(A=A.audio)===null||A===void 0?void 0:A.settings)||{},I.audio.settings=Re(Re({},I.audio.settings),h.dailyConfig.userMediaAudioConstraints),h.inputSettings=I,delete h.dailyConfig.userMediaAudioConstraints}if(h!=null&&(_=h.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var F,U;rt()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var K=h.inputSettings||{};K.video=((F=h.inputSettings)===null||F===void 0?void 0:F.video)||{},K.video.settings=((U=h.inputSettings)===null||U===void 0||(U=U.video)===null||U===void 0?void 0:U.settings)||{},K.video.settings=Re(Re({},K.video.settings),h.dailyConfig.userMediaVideoConstraints),h.inputSettings=K,delete h.dailyConfig.userMediaVideoConstraints}for(var oe in h)if(mo[oe]){if(mo[oe].validate&&!mo[oe].validate(h[oe],this))throw new Error("property '".concat(oe,"': ").concat(mo[oe].help))}else console.warn("Ignoring unrecognized property '".concat(oe,"'")),delete h[oe]}},{key:"assembleMeetingUrl",value:function(){var h,b,_=Re(Re({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(h=this.properties.dailyConfig)!==null&&h!==void 0&&h.proxyUrl?encodeURIComponent((b=this.properties.dailyConfig)===null||b===void 0?void 0:b.proxyUrl):void 0}),O=_.url.match(/\?/)?"&":"?";return _.url+O+Object.keys(mo).filter(function(A){return mo[A].queryString&&_[A]!==void 0}).map(function(A){return"".concat(mo[A].queryString,"=").concat(_[A])}).join("&")}},{key:"needsLoad",value:function(){return[HO,qO,ho,sa].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(h,b){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(h,b,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(h){this._messageChannel.forwardPackagedMessageToCallMachine(h,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(h){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(h,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(h){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(h)}},{key:"handleMessageFromCallMachine",value:function(h){switch(h.action){case wK:this.sendMessageToCallMachine(Re({action:SK},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var b={action:wp,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Nm(this.properties.dailyConfig)}};this.sendMessageToCallMachine(b),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case JO:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(h);break;case AK:var _,O=Re({},h);delete O.internal,this._maxAppMessageSize=((_=h.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||w0,this._joinedCallback&&(this._joinedCallback(h.participants),this._joinedCallback=null),this.emitDailyJSEvent(O);break;case RK:case DK:if(this._callState===ho)return;if(h.participant&&h.participant.session_id){var A=h.participant.local?"local":h.participant.session_id;if(this._callObjectMode){var I=this._callMachine().store;d2(h.participant,I),f2(h.participant,I),h2(h.participant,this._participants[A],I)}try{this.maybeParticipantTracksStopped(this._participants[A],h.participant),this.maybeParticipantTracksStarted(this._participants[A],h.participant),this.maybeEventRecordingStopped(this._participants[A],h.participant),this.maybeEventRecordingStarted(this._participants[A],h.participant)}catch(lc){console.error("track events error",lc)}this.compareEqualForParticipantUpdateEvent(h.participant,this._participants[A])||(this._participants[A]=Re({},h.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(h))}break;case PK:if(h.participant&&h.participant.session_id){var F=this._participants[h.participant.session_id];F&&this.maybeParticipantTracksStopped(F,null),delete this._participants[h.participant.session_id],this.emitDailyJSEvent(h)}break;case NK:$n(this._participantCounts,h.participantCounts)||(this._participantCounts=h.participantCounts,this.emitDailyJSEvent(h));break;case jK:var U={access:h.access};h.awaitingAccess&&(U.awaitingAccess=h.awaitingAccess),$n(this._accessState,U)||(this._accessState=U,this.emitDailyJSEvent(h));break;case LK:if(h.meetingSession){this._meetingSessionSummary=h.meetingSession,this.emitDailyJSEvent(h);var K=Re(Re({},h),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(K)}break;case ZO:var oe;this._iframe&&!h.preserveIframe&&(this._iframe.src=""),this._updateCallState(sa),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(h.errorMsg),this._loadedCallback=null),h.preserveIframe;var pe=$A(h,VX);pe!=null&&(oe=pe.error)!==null&&oe!==void 0&&oe.details&&(pe.error.details=JSON.parse(pe.error.details)),this._maybeSendToSentry(h),this._joinedCallback&&(this._joinedCallback(null,pe),this._joinedCallback=null),this.emitDailyJSEvent(pe);break;case OK:this._callState!==sa&&this._updateCallState(ho),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(h);break;case"selected-devices-updated":h.devices&&this.emitDailyJSEvent(h);break;case aX:var Te=h.state,qe=h.threshold,ot=h.quality,Ae=Te.state,Pe=Te.reasons;Ae===this._network.networkState&&$n(Pe,this._network.networkStateReasons)&&qe===this._network.threshold&&ot===this._network.quality||(this._network.networkState=Ae,this._network.networkStateReasons=Pe,this._network.quality=ot,this._network.threshold=qe,h.networkState=Ae,Pe.length&&(h.networkStateReasons=Pe),delete h.state,this.emitDailyJSEvent(h));break;case cX:h&&h.cpuLoadState&&this.emitDailyJSEvent(h);break;case lX:h&&h.faceCounts!==void 0&&this.emitDailyJSEvent(h);break;case rX:var We=h.activeSpeaker;this._activeSpeaker.peerId!==We.peerId&&(this._activeSpeaker.peerId=We.peerId,this.emitDailyJSEvent({action:h.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var qt=h.show;this._showLocalVideo=qt,this.emitDailyJSEvent({action:h.action,show:qt});break;case sX:var Ft=h.enabled;this._activeSpeakerMode!==Ft&&(this._activeSpeakerMode=Ft,this.emitDailyJSEvent({action:h.action,enabled:this._activeSpeakerMode}));break;case BK:case $K:case zK:this._waitingParticipants=h.allWaitingParticipants,this.emitDailyJSEvent({action:h.action,participant:h.participant});break;case mX:$n(this._receiveSettings,h.receiveSettings)||(this._receiveSettings=h.receiveSettings,this.emitDailyJSEvent({action:h.action,receiveSettings:h.receiveSettings}));break;case XO:this._maybeUpdateInputSettings(h.inputSettings);break;case"send-settings-updated":$n(this._sendSettings,h.sendSettings)||(this._sendSettings=h.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:h.action,sendSettings:h.sendSettings}));break;case"local-audio-level":this._localAudioLevel=h.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(h);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=h.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(h);break;case QK:var an=h.session_id;this._rmpPlayerState[an]=h.playerState,this.emitDailyJSEvent(h);break;case eX:delete this._rmpPlayerState[h.session_id],this.emitDailyJSEvent(h);break;case ZK:var pn=h.session_id,zt=this._rmpPlayerState[pn];zt&&this.compareEqualForRMPUpdateEvent(zt,h.remoteMediaPlayerState)||(this._rmpPlayerState[pn]=h.remoteMediaPlayerState,this.emitDailyJSEvent(h));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(h);break;case IK:var Kl=this._meetingSessionState.topology!==(h.meetingSessionState&&h.meetingSessionState.topology);this._meetingSessionState=O0(h.meetingSessionState,this._callObjectMode),(this._callObjectMode||Kl)&&this.emitDailyJSEvent(h);break;case tX:this._isScreenSharing=!0,this.emitDailyJSEvent(h);break;case nX:case iX:this._isScreenSharing=!1,this.emitDailyJSEvent(h);break;case YO:case KO:case WK:case GK:case JK:case VK:case HK:case qK:case MK:case EK:case KK:case XK:case"test-completed":case oX:case YK:case uX:case dX:case fX:case hX:case QO:case pX:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(h);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(h,b){var _="record";h&&(b.local||b[_]!==!1||h[_]===b[_]||this.emitDailyJSEvent({action:KO}))}},{key:"maybeEventRecordingStarted",value:function(h,b){var _="record";h&&(b.local||b[_]!==!0||h[_]===b[_]||this.emitDailyJSEvent({action:YO}))}},{key:"_trackStatePlayable",value:function(h){return!(!h||h.state!==gK)}},{key:"_trackChanged",value:function(h,b){return(h==null?void 0:h.id)!==(b==null?void 0:b.id)}},{key:"maybeEventTrackStopped",value:function(h,b,_){var O,A,I=(O=b==null?void 0:b.tracks[h])!==null&&O!==void 0?O:null,F=(A=_==null?void 0:_.tracks[h])!==null&&A!==void 0?A:null,U=I==null?void 0:I.track;if(U){var K=this._trackStatePlayable(I),oe=this._trackStatePlayable(F),pe=this._trackChanged(U,F==null?void 0:F.track);K&&(oe&&!pe||this.emitDailyJSEvent({action:UK,track:U,participant:_??b,type:h}))}}},{key:"maybeEventTrackStarted",value:function(h,b,_){var O,A,I=(O=b==null?void 0:b.tracks[h])!==null&&O!==void 0?O:null,F=(A=_==null?void 0:_.tracks[h])!==null&&A!==void 0?A:null,U=F==null?void 0:F.track;if(U){var K=this._trackStatePlayable(I),oe=this._trackStatePlayable(F),pe=this._trackChanged(I==null?void 0:I.track,U);oe&&(K&&!pe||this.emitDailyJSEvent({action:FK,track:U,participant:_,type:h}))}}},{key:"maybeParticipantTracksStopped",value:function(h,b){if(h)for(var _ in h.tracks)this.maybeEventTrackStopped(_,h,b)}},{key:"maybeParticipantTracksStarted",value:function(h,b){if(b)for(var _ in b.tracks)this.maybeEventTrackStarted(_,h,b)}},{key:"compareEqualForRMPUpdateEvent",value:function(h,b){var _,O;return h.state===b.state&&((_=h.settings)===null||_===void 0?void 0:_.volume)===((O=b.settings)===null||O===void 0?void 0:O.volume)}},{key:"emitDailyJSEvent",value:function(h){try{h.callClientId=this.callClientId,this.emit(h.action,h)}catch(b){console.log("could not emit",h,b)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(h,b){return!!$n(h,b)&&(!h.videoTrack||!b.videoTrack||h.videoTrack.id===b.videoTrack.id&&h.videoTrack.muted===b.videoTrack.muted&&h.videoTrack.enabled===b.videoTrack.enabled)&&(!h.audioTrack||!b.audioTrack||h.audioTrack.id===b.audioTrack.id&&h.audioTrack.muted===b.audioTrack.muted&&h.audioTrack.enabled===b.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return rt()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(h){this._updateCallState(this._callState,h)}},{key:"_updateCallState",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(h!==this._callState||b!==this._isPreparingToJoin){var _=this._callState,O=this._isPreparingToJoin;this._callState=h,this._isPreparingToJoin=b;var A=this._callState===ko;this.updateShowAndroidOngoingMeetingNotification(A);var I=Zp(_,O),F=Zp(this._callState,this._isPreparingToJoin);I!==F&&(this.updateKeepDeviceAwake(F),this.updateDeviceAudioMode(F),this.updateNoOpRecordingEnsuringBackgroundContinuity(F))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=C2,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:_0},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=O0(k2,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=w0,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(h){rt()&&this.nativeUtils().setKeepDeviceAwake(h,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(h){if(rt()&&!this.disableReactNativeAutoDeviceManagement("audio")){var b=h?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(b)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(h){if(rt()&&this.nativeUtils().setShowOngoingMeetingNotification){var b,_,O,A;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var I=this.properties.reactNativeConfig.androidInCallNotification;b=I.title,_=I.subtitle,O=I.iconName,A=I.disableForCustomOverride}A&&(h=!1),this.nativeUtils().setShowOngoingMeetingNotification(h,b,_,O,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(h){rt()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(h)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var h;if(rt()){var b=(h=this._callMachine())===null||h===void 0||(h=h.store)===null||h===void 0?void 0:h.getState();for(var _ in b==null?void 0:b.streams){var O=b.streams[_];O&&O.pendingTrack&&O.pendingTrack.kind==="audio"&&(O.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(h){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[h]}},{key:"absoluteUrl",value:function(h){if(h!==void 0){var b=document.createElement("a");return b.href=h,b.href}}},{key:"sayHello",value:function(){var h="hello, world.";return console.log(h),h}},{key:"_logUseAfterDestroy",value:function(){var h=Object.values(po)[0];if(this.needsLoad())if(h&&!h.needsLoad()){var b={action:wp,level:"error",code:this.strictMode?9995:9997};h.sendMessageToCallMachine(b)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:wp,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var h=0,b=Object.values(po);h<b.length;h++){var _=b[h];_._callMachineInitialized?(_.sendMessageToCallMachine({action:wp,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(h){var b,_,O,A;if(!((b=h.error)!==null&&b!==void 0&&b.type&&(![_K,bK,GO].includes(h.error.type)||h.error.type===GO&&h.error.msg.includes("deleted")))){var I=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,F="production";I&&I.host.includes(".staging.daily")&&(F="staging");var U,K,oe,pe,Te,qe=function(an){const pn=[LY(),NY(),cK(),aK(),hK(),mK(),zY(),pK()];return an.autoSessionTracking!==!1&&pn.push(fK()),pn}({}).filter(function(an){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(an.name)}),ot=new JY({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:ZY,stackParser:sK,integrations:qe,environment:F}),Ae=new Ra;if(Ae.setClient(ot),ot.init(),this.session_id&&Ae.setExtra("sessionId",this.session_id),this.properties){var Pe=Re({},this.properties);Pe.userName=Pe.userName?"[Filtered]":void 0,Pe.userData=Pe.userData?"[Filtered]":void 0,Pe.token=Pe.token?"[Filtered]":void 0,Ae.setExtra("properties",Pe)}if(I){var We=I.searchParams.get("domain");if(!We){var qt=I.host.match(/(.*?)\./);We=qt&&qt[1]||""}We&&Ae.setTag("domain",We)}h.error&&(Ae.setTag("fatalErrorType",h.error.type),Ae.setExtra("errorDetails",h.error.details),!((U=h.error.details)===null||U===void 0)&&U.uri&&Ae.setTag("serverAddress",h.error.details.uri),!((K=h.error.details)===null||K===void 0)&&K.workerGroup&&Ae.setTag("workerGroup",h.error.details.workerGroup),!((oe=h.error.details)===null||oe===void 0)&&oe.geoGroup&&Ae.setTag("geoGroup",h.error.details.geoGroup),!((pe=h.error.details)===null||pe===void 0)&&pe.on&&Ae.setTag("connectionAttempt",h.error.details.on),(Te=h.error.details)!==null&&Te!==void 0&&Te.bundleUrl&&(Ae.setTag("bundleUrl",h.error.details.bundleUrl),Ae.setTag("bundleError",h.error.details.sourceError.type))),Ae.setTags({callMode:this._callObjectMode?rt()?"reactNative":(O=this.properties)!==null&&O!==void 0&&(O=O.dailyConfig)!==null&&O!==void 0&&(O=O.callMode)!==null&&O!==void 0&&O.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var Ft=((A=h.error)===null||A===void 0?void 0:A.msg)||h.errorMsg;Ae.captureException(new Error(Ft))}}},{key:"_callMachine",value:function(){var h;return(h=window._daily)===null||h===void 0||(h=h.instances)===null||h===void 0||(h=h[this.callClientId])===null||h===void 0?void 0:h.callMachine}},{key:"_maybeUpdateInputSettings",value:function(h){if(!$n(this._inputSettings,h)){var b=this._getInputSettings();this._inputSettings=h;var _=this._getInputSettings();$n(b,_)||this.emitDailyJSEvent({action:XO,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(rt())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var h=nY.getParser(Hi());return{supported:!!k0(),mobile:h.getPlatformType()==="mobile",name:h.getBrowserName(),version:h.getBrowserVersion(),supportsFullscreen:!!r2(),supportsScreenShare:!!yX(),supportsSfu:!!k0(),supportsVideoProcessing:PI(),supportsAudioProcessing:NI()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return h.layout="none",new t(null,h)}},{key:"wrap",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(it(),!h||!h.contentWindow||typeof h.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return b.layout||(b.customLayout?b.layout="custom-v1":b.layout="browser"),new t(h,b)}},{key:"createFrame",value:function(h,b){var _,O;it(),h&&b?(_=h,O=b):h&&h.append?(_=h,O={}):(_=document.body,O=h||{});var A=O.iframeStyle;A||(A=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var I=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?I.allow="microphone, camera":I.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",I.style.visibility="hidden",_.appendChild(I),I.style.visibility=null,Object.keys(A).forEach(function(F){return I.style[F]=A[F]}),O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser");try{return new t(I,O)}catch(F){throw _.removeChild(I),F}}},{key:"createTransparentFrame",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it();var b=document.createElement("iframe");return b.allow="microphone; camera; autoplay",b.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(b),h.layout||(h.layout="custom-v1"),t.wrap(b,h)}},{key:"getCallInstance",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return h?po[h]:Object.values(po)[0]}}]);var e,n,i,r,s,o,l,u,f,p,g,v,S,k,w,C,T,D,P,j,N,B,L,z,W,J,Z,re,ye,ue,he,H,te,Y,se,we,V,Q}();function T2(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function el(t,e){var n={};for(var i in t)if(t[i]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",i),n[i]=ws;else if(i==="dailyConfig"){if(t[i].modifyLocalSdpHook){var r=window._daily.instances[e].customCallbacks||{};r.modifyLocalSdpHook=t[i].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=r,delete t[i].modifyLocalSdpHook}if(t[i].modifyRemoteSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyRemoteSdpHook=t[i].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=s,delete t[i].modifyRemoteSdpHook}n[i]=t[i]}else n[i]=t[i];return n}function At(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==ko){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function Zp(t,e){return[fw,ko].includes(t)||e}function T0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",i=arguments.length>3?arguments[3]:void 0;if(Zp(t,e)){var r="".concat(n," not supported after joining a meeting.");throw i&&(r+=" ".concat(i)),console.error(r),new Error(r)}}function kp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var i="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function A0(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function Zi(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function fi(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function it(){if(rt())throw new Error("This daily-js method is not currently supported in React Native")}function Xu(){if(!rt())throw new Error("This daily-js method is only supported in React Native")}function GI(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),$n(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function JI(t,e){for(var n=e.allowAllParticipantsKey,i=function(g){var v=["local"];return n||v.push("*"),g&&!v.includes(g)},r=function(g){return!!(g.layer===void 0||Number.isInteger(g.layer)&&g.layer>=0||g.layer==="inherit")},s=function(g){return!!g&&!(g.video&&!r(g.video))&&!(g.screenVideo&&!r(g.screenVideo))},o=0,l=Object.entries(t);o<l.length;o++){var u=Tn(l[o],2),f=u[0],p=u[1];if(!i(f)||!s(p))return!1}return!0}function YI(t){if(lt(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var i=Tn(n[e],2),r=i[0],s=i[1];switch(r){case"video":if(lt(s)!=="object")return!1;for(var o=0,l=Object.entries(s);o<l.length;o++){var u=Tn(l[o],2),f=u[0],p=u[1];switch(f){case"processor":if(!GX(p))return!1;break;case"settings":if(!A2(p))return!1;break;default:return!1}}break;case"audio":if(lt(s)!=="object")return!1;for(var g=0,v=Object.entries(s);g<v.length;g++){var S=Tn(v[g],2),k=S[0],w=S[1];switch(k){case"processor":if(!WX(w))return!1;break;case"settings":if(!A2(w))return!1;break;default:return!1}}break;default:return!1}}return!0}function KI(t,e,n){var i,r=[];t.video&&t.video.processor&&(PI((i=e==null?void 0:e.useLegacyVideoProcessor)!==null&&i!==void 0&&i)||(t.video.settings?delete t.video.processor:delete t.video,r.push("video"))),t.audio&&t.audio.processor&&(NI()||(t.audio.settings?delete t.audio.processor:delete t.audio,r.push("audio"))),r.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:ws}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:ws}):delete n.videoTrack)}function WX(t){if(rt())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&lt(t)==="object"&&(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]}),!!function(n){return typeof n!="string"?!1:Object.values(RI).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function GX(t){if(rt())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||lt(t)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Qp).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(lt(t.config)!=="object"||!function(n,i){var r=Object.keys(i);if(r.length===0)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(n){case Qp.BGBLUR:return r.length>1||r[0]!=="strength"?(console.error(s),!1):!(typeof i.strength!="number"||i.strength<=0||i.strength>1||isNaN(i.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(i.strength)),!1);case Qp.BGIMAGE:return!(i.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(jm(o.source))return o.type="url",!!function(f){var p=new URL(f),g=p.pathname;if(p.protocol==="data:")try{var v=g.substring(g.indexOf(":")+1,g.indexOf(";")).split("/")[1];return x0.includes(v)}catch(k){return console.error("failed to deduce blob content type",k),!1}var S=g.split(".").at(-1).toLowerCase().trim();return x0.includes(S)}(o.source)||(console.error("invalid image type; supported types: [".concat(x0.join(", "),"]")),!1);return l=o.source,u=Number(l),isNaN(u)||!Number.isInteger(u)||u<=0||u>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,u}(i));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]}),!0)}function A2(t){return lt(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function bw(){var t=Object.values(Qp).join(" | "),e=Object.values(RI).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function XI(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(yK).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function QI(){return"customIntegrations should be an object of type ".concat(JSON.stringify(yw),".")}function ZI(t){if(t&&lt(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Um),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var i=Tn(n[e],1)[0],r=0,s=Object.entries(t[i]);r<s.length;r++){var o=Tn(s[r],2),l=o[0],u=o[1],f=Um.id[l];if(!f)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!jm(u))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(u))return console.error("customTrayButton ".concat(l," should be ").concat(f,". Got: ").concat(u)),!1;break;default:if(lt(u)!==f)return console.error("customTrayButton ".concat(l," should be a ").concat(f,".")),!1}}return!0}function e3(t){if(!t||t&&lt(t)!=="object"||Array.isArray(t))return console.error(QI()),!1;for(var e=function(g){return"".concat(g," should be ").concat(yw.id[g])},n=function(g,v){return console.error("customIntegration ".concat(g,": ").concat(v))},i=0,r=Object.entries(t);i<r.length;i++){var s=Tn(r[i],1)[0];if(!("label"in t[s]))return n(s,"label is required"),!1;if(!("location"in t[s]))return n(s,"location is required"),!1;if(!("src"in t[s])&&!("srcdoc"in t[s]))return n(s,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(t[s]);o<l.length;o++){var u=Tn(l[o],2),f=u[0],p=u[1];switch(f){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof p!="string")return n(s,e(f)),!1;break;case"iconURL":if(!jm(p))return n(s,"".concat(f," should be a url")),!1;break;case"src":if("srcdoc"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(!jm(p))return n(s,'src "'.concat(p,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof p!="string")return n(s,e(f)),!1;break;case"location":if(!["main","sidebar"].includes(p))return n(s,e(f)),!1;break;case"controlledBy":if(p!=="*"&&p!=="owners"&&(!Array.isArray(p)||p.some(function(g){return typeof g!="string"})))return n(s,e(f)),!1;break;case"shared":if((!Array.isArray(p)||p.some(function(g){return typeof g!="string"}))&&p!=="owners"&&typeof p!="boolean")return n(s,e(f)),!1;break;default:if(!yw.id[f])return console.error("customIntegration does not support key ".concat(f)),!1}}}return!0}function t3(t,e){if(e===void 0)return!1;switch(lt(e)){case"string":return lt(t)===e;case"object":if(lt(t)!=="object")return!1;for(var n in t)if(!t3(t[n],e[n]))return!1;return!0;default:return!1}}function O2(t,e){var n=t.sessionId,i=t.toEndPoint,r=t.callerId,s=t.useSipRefer;if(!n||!i)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof i!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!i.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!i.startsWith("sip:")&&!i.startsWith("+"))throw new Error("toEndPoint: ".concat(i,' must starts with either "sip:" or "+"'));if(r&&typeof r!="string")throw new Error("callerId must be of type string");if(r&&!i.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function R2(t){if(lt(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(hw).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(hw));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function D2(t,e,n){return!(typeof t!="number"||t<e||t>n)}function O0(t,e){return t&&!e&&delete t.data,t}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function pf(t){return t+.5|0}const ba=(t,e,n)=>Math.max(Math.min(t,n),e);function pd(t){return ba(pf(t*2.55),0,255)}function ka(t){return ba(pf(t*255),0,255)}function ps(t){return ba(pf(t/2.55)/100,0,1)}function P2(t){return ba(pf(t*100),0,100)}const Ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_w=[..."0123456789ABCDEF"],JX=t=>_w[t&15],YX=t=>_w[(t&240)>>4]+_w[t&15],Cp=t=>(t&240)>>4===(t&15),KX=t=>Cp(t.r)&&Cp(t.g)&&Cp(t.b)&&Cp(t.a);function XX(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ni[t[1]]*17,g:255&Ni[t[2]]*17,b:255&Ni[t[3]]*17,a:e===5?Ni[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ni[t[1]]<<4|Ni[t[2]],g:Ni[t[3]]<<4|Ni[t[4]],b:Ni[t[5]]<<4|Ni[t[6]],a:e===9?Ni[t[7]]<<4|Ni[t[8]]:255})),n}const QX=(t,e)=>t<255?e(t):"";function ZX(t){var e=KX(t)?JX:YX;return t?"#"+e(t.r)+e(t.g)+e(t.b)+QX(t.a,e):void 0}const eQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function n3(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function tQ(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function nQ(t,e,n){const i=n3(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function iQ(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function tx(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),l=(s+o)/2;let u,f,p;return s!==o&&(p=s-o,f=l>.5?p/(2-s-o):p/(s+o),u=iQ(n,i,r,p,s),u=u*60+.5),[u|0,f||0,l]}function nx(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ka)}function ix(t,e,n){return nx(n3,t,e,n)}function rQ(t,e,n){return nx(nQ,t,e,n)}function sQ(t,e,n){return nx(tQ,t,e,n)}function i3(t){return(t%360+360)%360}function aQ(t){const e=eQ.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?pd(+e[5]):ka(+e[5]));const r=i3(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=rQ(r,s,o):e[1]==="hsv"?i=sQ(r,s,o):i=ix(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function oQ(t,e){var n=tx(t);n[0]=i3(n[0]+e),n=ix(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cQ(t){if(!t)return;const e=tx(t),n=e[0],i=P2(e[1]),r=P2(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ps(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const N2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lQ(){const t={},e=Object.keys(j2),n=Object.keys(N2);let i,r,s,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,N2[s]);s=parseInt(j2[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Mp;function uQ(t){Mp||(Mp=lQ(),Mp.transparent=[0,0,0,0]);const e=Mp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fQ(t){const e=dQ.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?pd(o):ba(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?pd(i):ba(i,0,255)),r=255&(e[4]?pd(r):ba(r,0,255)),s=255&(e[6]?pd(s):ba(s,0,255)),{r:i,g:r,b:s,a:n}}}function hQ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ps(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const R0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,tl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pQ(t,e,n){const i=tl(ps(t.r)),r=tl(ps(t.g)),s=tl(ps(t.b));return{r:ka(R0(i+n*(tl(ps(e.r))-i))),g:ka(R0(r+n*(tl(ps(e.g))-r))),b:ka(R0(s+n*(tl(ps(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ep(t,e,n){if(t){let i=tx(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=ix(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function r3(t,e){return t&&Object.assign(e||{},t)}function L2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ka(t[3]))):(e=r3(t,{r:0,g:0,b:0,a:1}),e.a=ka(e.a)),e}function mQ(t){return t.charAt(0)==="r"?fQ(t):aQ(t)}class Fd{constructor(e){if(e instanceof Fd)return e;const n=typeof e;let i;n==="object"?i=L2(e):n==="string"&&(i=XX(e)||uQ(e)||mQ(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=r3(this._rgb);return e&&(e.a=ps(e.a)),e}set rgb(e){this._rgb=L2(e)}rgbString(){return this._valid?hQ(this._rgb):void 0}hexString(){return this._valid?ZX(this._rgb):void 0}hslString(){return this._valid?cQ(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,l=2*o-1,u=i.a-r.a,f=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=pQ(this._rgb,e._rgb,n)),this}clone(){return new Fd(this.rgb)}alpha(e){return this._rgb.a=ka(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=pf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ep(this._rgb,2,e),this}darken(e){return Ep(this._rgb,2,-e),this}saturate(e){return Ep(this._rgb,1,e),this}desaturate(e){return Ep(this._rgb,1,-e),this}rotate(e){return oQ(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ss(){}const gQ=(()=>{let t=0;return()=>t++})();function Nt(t){return t==null}function fn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yr(t,e){return qi(t)?t:e}function at(t,e){return typeof t>"u"?e:t}const vQ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Bt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function bt(t,e,n,i){let r,s,o;if(fn(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(pt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Vm(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Hm(t){if(fn(t))return t.map(Hm);if(pt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Hm(t[n[r]]);return e}return t}function s3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yQ(t,e,n,i){if(!s3(t))return;const r=e[t],s=n[t];pt(r)&&pt(s)?Ud(r,s,i):e[t]=Hm(s)}function Ud(t,e,n){const i=fn(e)?e:[e],r=i.length;if(!pt(t))return t;n=n||{};const s=n.merger||yQ;let o;for(let l=0;l<r;++l){if(o=i[l],!pt(o))continue;const u=Object.keys(o);for(let f=0,p=u.length;f<p;++f)s(u[f],t,o,n)}return t}function kd(t,e){return Ud(t,e,{merger:bQ})}function bQ(t,e,n){if(!s3(t))return;const i=e[t],r=n[t];pt(i)&&pt(r)?kd(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hm(r))}const I2={"":t=>t,x:t=>t.x,y:t=>t.y};function _Q(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function wQ(t){const e=_Q(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function qm(t,e){return(I2[e]||(I2[e]=wQ(e)))(t)}function rx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Wm=t=>typeof t<"u",Da=t=>typeof t=="function",B2=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function SQ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const hn=Math.PI,Pr=2*hn,xQ=Pr+hn,Gm=Number.POSITIVE_INFINITY,kQ=hn/180,sr=hn/2,go=hn/4,$2=hn*2/3,a3=Math.log10,Ll=Math.sign;function Cd(t,e,n){return Math.abs(t-e)<n}function z2(t){const e=Math.round(t);t=Cd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(a3(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function CQ(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function MQ(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Vd(t){return!MQ(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function EQ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TQ(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Eo(t){return t*(hn/180)}function AQ(t){return t*(180/hn)}function F2(t){if(!qi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function OQ(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*hn&&(s+=Pr),{angle:s,distance:r}}function ww(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RQ(t,e){return(t-e+xQ)%Pr-hn}function ha(t){return(t%Pr+Pr)%Pr}function o3(t,e,n,i){const r=ha(t),s=ha(e),o=ha(n),l=ha(s-r),u=ha(o-r),f=ha(r-s),p=ha(r-o);return r===s||r===o||i&&s===o||l>u&&f<p}function Bi(t,e,n){return Math.max(e,Math.min(n,t))}function DQ(t){return Bi(t,-32768,32767)}function md(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function sx(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const To=(t,e,n,i)=>sx(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),PQ=(t,e,n)=>sx(t,n,i=>t[i][e]>=n);function NQ(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const c3=["push","pop","shift","splice","unshift"];function jQ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),c3.forEach(n=>{const i="_onData"+rx(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function U2(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(c3.forEach(s=>{delete t[s]}),delete t._chartjs)}function LQ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const l3=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function u3(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,l3.call(window,()=>{i=!1,t.apply(e,n)}))}}function IQ(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ax=t=>t==="start"?"left":t==="end"?"right":"center",kn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,BQ=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function $Q(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:l,_parsed:u}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=o.axis,{min:g,max:v,minDefined:S,maxDefined:k}=o.getUserBounds();if(S){if(r=Math.min(To(u,p,g).lo,n?i:To(e,p,o.getPixelForValue(g)).lo),f){const w=u.slice(0,r+1).reverse().findIndex(C=>!Nt(C[l.axis]));r-=Math.max(0,w)}r=Bi(r,0,i-1)}if(k){let w=Math.max(To(u,o.axis,v,!0).hi+1,n?0:To(e,p,o.getPixelForValue(v),!0).hi+1);if(f){const C=u.slice(w-1).findIndex(T=>!Nt(T[l.axis]));w+=Math.max(0,C)}s=Bi(w,r,i)-r}else s=i-r}return{start:r,count:s}}function zQ(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Tp=t=>t===0||t===1,V2=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pr/n)),H2=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pr/n)+1,Md={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*sr)+1,easeOutSine:t=>Math.sin(t*sr),easeInOutSine:t=>-.5*(Math.cos(hn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tp(t)?t:V2(t,.075,.3),easeOutElastic:t=>Tp(t)?t:H2(t,.075,.3),easeInOutElastic(t){return Tp(t)?t:t<.5?.5*V2(t*2,.1125,.45):.5+.5*H2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Md.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Md.easeInBounce(t*2)*.5:Md.easeOutBounce(t*2-1)*.5+.5};function ox(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function q2(t){return ox(t)?t:new Fd(t)}function D0(t){return ox(t)?t:new Fd(t).saturate(.5).darken(.1).hexString()}const FQ=["x","y","borderWidth","radius","tension"],UQ=["color","borderColor","backgroundColor"];function VQ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:UQ},numbers:{type:"number",properties:FQ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function HQ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W2=new Map;function qQ(t,e){e=e||{};const n=t+JSON.stringify(e);let i=W2.get(n);return i||(i=new Intl.NumberFormat(t,e),W2.set(n,i)),i}function d3(t,e,n){return qQ(e,n).format(t)}const WQ={values(t){return fn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=GQ(t,n)}const o=a3(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),d3(t,i,u)}};function GQ(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var f3={formatters:WQ};function JQ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:f3.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Xo=Object.create(null),Sw=Object.create(null);function Ed(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function P0(t,e,n){return typeof e=="string"?Ud(Ed(t,e),n):Ud(Ed(t,""),e)}class YQ{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>D0(r.backgroundColor),this.hoverBorderColor=(i,r)=>D0(r.borderColor),this.hoverColor=(i,r)=>D0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return P0(this,e,n)}get(e){return Ed(this,e)}describe(e,n){return P0(Sw,e,n)}override(e,n){return P0(Xo,e,n)}route(e,n,i,r){const s=Ed(this,e),o=Ed(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],f=o[r];return pt(u)?Object.assign({},f,u):at(u,f)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var Qt=new YQ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[VQ,HQ,JQ]);function KQ(t){return!t||Nt(t.size)||Nt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function G2(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function vo(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function J2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xw(t,e,n,i){h3(t,e,n,i,null)}function h3(t,e,n,i,r){let s,o,l,u,f,p,g,v;const S=e.pointStyle,k=e.rotation,w=e.radius;let C=(k||0)*kQ;if(S&&typeof S=="object"&&(s=S.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),S){default:r?t.ellipse(n,i,r/2,w,0,0,Pr):t.arc(n,i,w,0,Pr),t.closePath();break;case"triangle":p=r?r/2:w,t.moveTo(n+Math.sin(C)*p,i-Math.cos(C)*w),C+=$2,t.lineTo(n+Math.sin(C)*p,i-Math.cos(C)*w),C+=$2,t.lineTo(n+Math.sin(C)*p,i-Math.cos(C)*w),t.closePath();break;case"rectRounded":f=w*.516,u=w-f,o=Math.cos(C+go)*u,g=Math.cos(C+go)*(r?r/2-f:u),l=Math.sin(C+go)*u,v=Math.sin(C+go)*(r?r/2-f:u),t.arc(n-g,i-l,f,C-hn,C-sr),t.arc(n+v,i-o,f,C-sr,C),t.arc(n+g,i+l,f,C,C+sr),t.arc(n-v,i+o,f,C+sr,C+hn),t.closePath();break;case"rect":if(!k){u=Math.SQRT1_2*w,p=r?r/2:u,t.rect(n-p,i-u,2*p,2*u);break}C+=go;case"rectRot":g=Math.cos(C)*(r?r/2:w),o=Math.cos(C)*w,l=Math.sin(C)*w,v=Math.sin(C)*(r?r/2:w),t.moveTo(n-g,i-l),t.lineTo(n+v,i-o),t.lineTo(n+g,i+l),t.lineTo(n-v,i+o),t.closePath();break;case"crossRot":C+=go;case"cross":g=Math.cos(C)*(r?r/2:w),o=Math.cos(C)*w,l=Math.sin(C)*w,v=Math.sin(C)*(r?r/2:w),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+v,i-o),t.lineTo(n-v,i+o);break;case"star":g=Math.cos(C)*(r?r/2:w),o=Math.cos(C)*w,l=Math.sin(C)*w,v=Math.sin(C)*(r?r/2:w),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+v,i-o),t.lineTo(n-v,i+o),C+=go,g=Math.cos(C)*(r?r/2:w),o=Math.cos(C)*w,l=Math.sin(C)*w,v=Math.sin(C)*(r?r/2:w),t.moveTo(n-g,i-l),t.lineTo(n+g,i+l),t.moveTo(n+v,i-o),t.lineTo(n-v,i+o);break;case"line":o=r?r/2:Math.cos(C)*w,l=Math.sin(C)*w,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(r?r/2:w),i+Math.sin(C)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Hd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function lx(t){t.restore()}function XQ(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function QQ(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function ZQ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Nt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function eZ(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,f=n+s.actualBoundingBoxDescent,p=r.strikethrough?(u+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,p),t.lineTo(l,p),t.stroke()}}function tZ(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function qd(t,e,n,i,r,s={}){const o=fn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,f;for(t.save(),t.font=r.string,ZQ(t,s),u=0;u<o.length;++u)f=o[u],s.backdrop&&tZ(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Nt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(f,n,i,s.maxWidth)),t.fillText(f,n,i,s.maxWidth),eZ(t,n,i,f,s),i+=Number(r.lineHeight);t.restore()}function kw(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*hn,hn,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,hn,sr,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,sr,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-sr,!0),t.lineTo(n+o.topLeft,i)}const nZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,iZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rZ(t,e){const n=(""+t).match(nZ);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const sZ=t=>+t||0;function p3(t,e){const n={},i=pt(e),r=i?Object.keys(e):e,s=pt(t)?i?o=>at(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=sZ(s(o));return n}function aZ(t){return p3(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Td(t){return p3(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wi(t){const e=aZ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function An(t,e){t=t||{},e=e||Qt.font;let n=at(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=at(t.style,e.style);i&&!(""+i).match(iZ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:at(t.family,e.family),lineHeight:rZ(at(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:at(t.weight,e.weight),string:""};return r.string=KQ(r),r}function Ap(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function oZ(t,e,n){const{min:i,max:r}=t,s=vQ(e,(r-i)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function oc(t,e){return Object.assign(Object.create(t),e)}function ux(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=y3("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>ux([l,...t],e,s,i)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return g3(l,u,()=>mZ(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return K2(l).includes(u)},ownKeys(l){return K2(l)},set(l,u,f){const p=l._storage||(l._storage=r());return l[u]=p[u]=f,delete l._keys,!0}})}function Il(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:m3(t,i),setContext:s=>Il(t,s,n,i),override:s=>Il(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return g3(s,o,()=>lZ(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function m3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Da(n)?n:()=>n,isIndexable:Da(i)?i:()=>i}}const cZ=(t,e)=>t?t+rx(e):e,dx=(t,e)=>pt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function g3(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function lZ(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let l=i[e];return Da(l)&&o.isScriptable(e)&&(l=uZ(e,l,t,n)),fn(l)&&l.length&&(l=dZ(e,l,t,o.isIndexable)),dx(e,l)&&(l=Il(l,r,s&&s[e],o)),l}function uZ(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,o||i);return l.delete(t),dx(t,u)&&(u=fx(r._scopes,r,t,u)),u}function dZ(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(pt(e[0])){const u=e,f=r._scopes.filter(p=>p!==u);e=[];for(const p of u){const g=fx(f,r,t,p);e.push(Il(g,s,o&&o[t],l))}}return e}function v3(t,e,n){return Da(t)?t(e,n):t}const fZ=(t,e)=>t===!0?e:typeof t=="string"?qm(e,t):void 0;function hZ(t,e,n,i,r){for(const s of e){const o=fZ(n,s);if(o){t.add(o);const l=v3(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function fx(t,e,n,i){const r=e._rootScopes,s=v3(e._fallback,n,i),o=[...t,...r],l=new Set;l.add(i);let u=Y2(l,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=Y2(l,o,s,u,i),u===null)?!1:ux(Array.from(l),[""],r,s,()=>pZ(e,n,i))}function Y2(t,e,n,i,r){for(;n;)n=hZ(t,e,n,i,r);return n}function pZ(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return fn(r)&&pt(n)?n:r||{}}function mZ(t,e,n,i){let r;for(const s of e)if(r=y3(cZ(s,t),n),typeof r<"u")return dx(t,r)?fx(n,i,t,r):r}function y3(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function K2(t){let e=t._keys;return e||(e=t._keys=gZ(t._scopes)),e}function gZ(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const vZ=Number.EPSILON||1e-14,Bl=(t,e)=>e<t.length&&!t[e].skip&&t[e],b3=t=>t==="x"?"y":"x";function yZ(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,l=ww(s,r),u=ww(o,s);let f=l/(l+u),p=u/(l+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=i*f,v=i*p;return{previous:{x:s.x-g*(o.x-r.x),y:s.y-g*(o.y-r.y)},next:{x:s.x+v*(o.x-r.x),y:s.y+v*(o.y-r.y)}}}function bZ(t,e,n){const i=t.length;let r,s,o,l,u,f=Bl(t,0);for(let p=0;p<i-1;++p)if(u=f,f=Bl(t,p+1),!(!u||!f)){if(Cd(e[p],0,vZ)){n[p]=n[p+1]=0;continue}r=n[p]/e[p],s=n[p+1]/e[p],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[p]=r*o*e[p],n[p+1]=s*o*e[p])}}function _Z(t,e,n="x"){const i=b3(n),r=t.length;let s,o,l,u=Bl(t,0);for(let f=0;f<r;++f){if(o=l,l=u,u=Bl(t,f+1),!l)continue;const p=l[n],g=l[i];o&&(s=(p-o[n])/3,l[`cp1${n}`]=p-s,l[`cp1${i}`]=g-s*e[f]),u&&(s=(u[n]-p)/3,l[`cp2${n}`]=p+s,l[`cp2${i}`]=g+s*e[f])}}function wZ(t,e="x"){const n=b3(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,l,u,f=Bl(t,0);for(o=0;o<i;++o)if(l=u,u=f,f=Bl(t,o+1),!!u){if(f){const p=f[e]-u[e];r[o]=p!==0?(f[n]-u[n])/p:0}s[o]=l?f?Ll(r[o-1])!==Ll(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}bZ(t,r,s),_Z(t,s,e)}function Op(t,e,n){return Math.max(Math.min(t,n),e)}function SZ(t,e){let n,i,r,s,o,l=Hd(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=l,l=n<i-1&&Hd(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Op(r.cp1x,e.left,e.right),r.cp1y=Op(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Op(r.cp2x,e.left,e.right),r.cp2y=Op(r.cp2y,e.top,e.bottom)))}function xZ(t,e,n,i,r){let s,o,l,u;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")wZ(t,r);else{let f=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=t[s],u=yZ(f,l,t[Math.min(s+1,o-(i?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,f=l}e.capBezierPoints&&SZ(t,n)}function hx(){return typeof window<"u"&&typeof document<"u"}function px(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jm(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Gg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kZ(t,e){return Gg(t).getPropertyValue(e)}const CZ=["top","right","bottom","left"];function Lo(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=CZ[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const MZ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EZ(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,l,u;if(MZ(r,s,t.target))l=r,u=s;else{const f=e.getBoundingClientRect();l=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:l,y:u,box:o}}function wo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Gg(n),s=r.boxSizing==="border-box",o=Lo(r,"padding"),l=Lo(r,"border","width"),{x:u,y:f,box:p}=EZ(t,n),g=o.left+(p&&l.left),v=o.top+(p&&l.top);let{width:S,height:k}=e;return s&&(S-=o.width+l.width,k-=o.height+l.height),{x:Math.round((u-g)/S*n.width/i),y:Math.round((f-v)/k*n.height/i)}}function TZ(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&px(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),l=Gg(s),u=Lo(l,"border","width"),f=Lo(l,"padding");e=o.width-f.width-u.width,n=o.height-f.height-u.height,i=Jm(l.maxWidth,s,"clientWidth"),r=Jm(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Gm,maxHeight:r||Gm}}const _a=t=>Math.round(t*10)/10;function AZ(t,e,n,i){const r=Gg(t),s=Lo(r,"margin"),o=Jm(r.maxWidth,t,"clientWidth")||Gm,l=Jm(r.maxHeight,t,"clientHeight")||Gm,u=TZ(t,e,n);let{width:f,height:p}=u;if(r.boxSizing==="content-box"){const v=Lo(r,"border","width"),S=Lo(r,"padding");f-=S.width+v.width,p-=S.height+v.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=_a(Math.min(f,o,u.maxWidth)),p=_a(Math.min(p,l,u.maxHeight)),f&&!p&&(p=_a(f/2)),(e!==void 0||n!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,f=_a(Math.floor(p*i))),{width:f,height:p}}function X2(t,e,n){const i=e||1,r=_a(t.height*i),s=_a(t.width*i);t.height=_a(t.height),t.width=_a(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const OZ=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};hx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Q2(t,e){const n=kZ(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function So(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function RZ(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function DZ(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=So(t,r,n),l=So(r,s,n),u=So(s,e,n),f=So(o,l,n),p=So(l,u,n);return So(f,p,n)}const PZ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},NZ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bl(t,e,n){return t?PZ(e,n):NZ()}function _3(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function w3(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function S3(t){return t==="angle"?{between:o3,compare:RQ,normalize:ha}:{between:md,compare:(e,n)=>e-n,normalize:e=>e}}function Z2({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function jZ(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:l}=S3(i),u=e.length;let{start:f,end:p,loop:g}=t,v,S;if(g){for(f+=u,p+=u,v=0,S=u;v<S&&o(l(e[f%u][i]),r,s);++v)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:g,style:t.style}}function LZ(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:l,between:u,normalize:f}=S3(i),{start:p,end:g,loop:v,style:S}=jZ(t,e,n),k=[];let w=!1,C=null,T,D,P;const j=()=>u(r,P,T)&&l(r,P)!==0,N=()=>l(s,T)===0||u(s,P,T),B=()=>w||j(),L=()=>!w||N();for(let z=p,W=p;z<=g;++z)D=e[z%o],!D.skip&&(T=f(D[i]),T!==P&&(w=u(T,r,s),C===null&&B()&&(C=l(T,r)===0?z:W),C!==null&&L()&&(k.push(Z2({start:C,end:z,loop:v,count:o,style:S})),C=null),W=z,P=T));return C!==null&&k.push(Z2({start:C,end:g,loop:v,count:o,style:S})),k}function IZ(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=LZ(i[r],t.points,e);s.length&&n.push(...s)}return n}function BZ(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function $Z(t,e,n,i){const r=t.length,s=[];let o=e,l=t[e],u;for(u=e+1;u<=n;++u){const f=t[u%r];f.skip||f.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=o=f.stop?u:null):(o=u,l.skip&&(e=u)),l=f}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function zZ(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:l}=BZ(n,r,s,i);if(i===!0)return eR(t,[{start:o,end:l,loop:s}],n,e);const u=l<o?l+r:l,f=!!t._fullLoop&&o===0&&l===r-1;return eR(t,$Z(n,o,u,f),n,e)}function eR(t,e,n,i){return!i||!i.setContext||!n?e:FZ(t,e,n,i)}function FZ(t,e,n,i){const r=t._chart.getContext(),s=tR(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,u=n.length,f=[];let p=s,g=e[0].start,v=g;function S(k,w,C,T){const D=l?-1:1;if(k!==w){for(k+=u;n[k%u].skip;)k-=D;for(;n[w%u].skip;)w+=D;k%u!==w%u&&(f.push({start:k%u,end:w%u,loop:C,style:T}),p=T,g=w%u)}}for(const k of e){g=l?g:k.start;let w=n[g%u],C;for(v=g+1;v<=k.end;v++){const T=n[v%u];C=tR(i.setContext(oc(r,{type:"segment",p0:w,p1:T,p0DataIndex:(v-1)%u,p1DataIndex:v%u,datasetIndex:o}))),UZ(C,p)&&S(g,v-1,k.loop,p),w=T,p=C}g<v-1&&S(g,v-1,k.loop,p)}return f}function tR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function UZ(t,e){if(!e)return!1;const n=[],i=function(r,s){return ox(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Rp(t,e,n){return t.options.clip?t[n]:e[n]}function VZ(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Rp(n,e,"left"),right:Rp(n,e,"right"),top:Rp(i,e,"top"),bottom:Rp(i,e,"bottom")}:e}function HZ(t,e){const n=e._clip;if(n.disabled)return!1;const i=VZ(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class qZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=l3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var as=new qZ;const nR="transparent",WZ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=q2(t||nR),r=i.valid&&q2(e||nR);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class GZ{constructor(e,n,i,r){const s=n[i];r=Ap([e.to,r,s,e.from]);const o=Ap([e.from,s,r]);this._active=!0,this._fn=e.fn||WZ[e.type||typeof o],this._easing=Md[e.easing]||Md.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ap([e.to,n,r,e.from]),this._from=Ap([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class x3{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!pt(e))return;const n=Object.keys(Qt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!pt(s))return;const o={};for(const l of n)o[l]=s[l];(fn(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,r=YZ(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&JZ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,n));continue}const p=n[f];let g=s[f];const v=i.get(f);if(g)if(v&&g.active()){g.update(v,p,l);continue}else g.cancel();if(!v||!v.duration){e[f]=p;continue}s[f]=g=new GZ(v,e,f,p),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return as.add(this._chart,i),!0}}function JZ(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function YZ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function iR(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function KZ(t,e,n){if(n===!1)return!1;const i=iR(t,n),r=iR(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function XZ(t){let e,n,i,r;return pt(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function k3(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function rR(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,l,u,f;if(e===null)return;let p=!1;for(o=0,l=r.length;o<l;++o){if(u=+r[o],u===n){if(p=!0,i.all)continue;break}f=t.values[u],qi(f)&&(s||e===0||Ll(e)===Ll(f))&&(e+=f)}return!p&&!i.all?0:e}function QZ(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,f,p;for(u=0,f=o.length;u<f;++u)p=o[u],l[u]={[r]:p,[s]:t[p]};return l}function N0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ZZ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function eee(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function tee(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function sR(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function aR(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=i,u=s.axis,f=o.axis,p=ZZ(s,o,i),g=e.length;let v;for(let S=0;S<g;++S){const k=e[S],{[u]:w,[f]:C}=k,T=k._stacks||(k._stacks={});v=T[f]=tee(r,p,w),v[l]=C,v._top=sR(v,o,!0,i.type),v._bottom=sR(v,o,!1,i.type);const D=v._visualValues||(v._visualValues={});D[l]=C}}function j0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function nee(t,e){return oc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iee(t,e,n){return oc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Qu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const L0=t=>t==="reset"||t==="none",oR=(t,e)=>e?t:Object.assign({},t),ree=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:k3(n,!0),values:null};class Ad{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=N0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,v,S,k)=>g==="x"?v:g==="r"?k:S,s=n.xAxisID=at(i.xAxisID,j0(e,"x")),o=n.yAxisID=at(i.yAxisID,j0(e,"y")),l=n.rAxisID=at(i.rAxisID,j0(e,"r")),u=n.indexAxis,f=n.iAxisID=r(u,s,o,l),p=n.vAxisID=r(u,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&U2(this._data,this),e._stacked&&Qu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(pt(n)){const r=this._cachedMeta;this._data=QZ(n,r)}else if(i!==n){if(i){U2(i,this);const r=this._cachedMeta;Qu(r),r._parsed=[]}n&&Object.isExtensible(n)&&jQ(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=N0(n.vScale,n),n.stack!==i.stack&&(r=!0,Qu(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(aR(this,n._parsed),n._stacked=N0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,g,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{fn(r[e])?v=this.parseArrayData(i,r,e,n):pt(r[e])?v=this.parseObjectData(i,r,e,n):v=this.parsePrimitiveData(i,r,e,n);const S=()=>g[l]===null||f&&g[l]<f[l];for(p=0;p<n;++p)i._parsed[p+e]=g=v[p],u&&(S()&&(u=!1),f=g);i._sorted=u}o&&aR(this,v)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,f=s.getLabels(),p=s===o,g=new Array(r);let v,S,k;for(v=0,S=r;v<S;++v)k=v+i,g[v]={[l]:p||s.parse(f[k],k),[u]:o.parse(n[k],k)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,l=new Array(r);let u,f,p,g;for(u=0,f=r;u<f;++u)p=u+i,g=n[p],l[u]={x:s.parse(g[0],p),y:o.parse(g[1],p)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let p,g,v,S;for(p=0,g=r;p<g;++p)v=p+i,S=n[v],f[p]={x:s.parse(qm(S,l),v),y:o.parse(qm(S,u),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],l={keys:k3(r,!0),values:n._stacks[e.axis]._visualValues};return rR(l,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,o=rR(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,l=this._getOtherScale(e),u=ree(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=eee(l);let v,S;function k(){S=r[v];const w=S[l.axis];return!qi(S[e.axis])||p>w||g<w}for(v=0;v<o&&!(!k()&&(this.updateRangeFromParsed(f,e,S,u),s));++v);if(s){for(v=o-1;v>=0;--v)if(!k()){this.updateRangeFromParsed(f,e,S,u);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],qi(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=XZ(at(this.options.clip,KZ(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||r.length-l,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,s,l,u),p=l;p<l+u;++p){const g=r[p];g.hidden||(g.active&&f?o.push(g):g.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=iee(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=nee(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,l=s[o],u=this.enableOptionSharing&&Wm(i);if(l)return oR(l,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),S=Object.keys(Qt.elements[e]),k=()=>this.getContext(i,r,n),w=f.resolveNamedOptions(v,S,k,g);return w.$shared&&(w.$shared=u,s[o]=Object.freeze(oR(w,u))),w}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let u;if(r.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(v,this.getContext(e,i,n))}const f=new x3(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||L0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){L0(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!L0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,f]of this._syncList)this[l](u,f);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let l;const u=f=>{for(f.length+=n,l=f.length-1;l>=o;l--)f[l]=f[l-n]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Qu(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Se(Ad,"defaults",{}),Se(Ad,"datasetElementType",null),Se(Ad,"dataElementType",null);class em extends Ad{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:u}=$Q(n,r,o);this._drawStart=l,this._drawCount=u,zQ(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,r),v=o.axis,S=l.axis,{spanGaps:k,segment:w}=this.options,C=Vd(k)?k:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||s||r==="none",D=n+i,P=e.length;let j=n>0&&this.getParsed(n-1);for(let N=0;N<P;++N){const B=e[N],L=T?B:{};if(N<n||N>=D){L.skip=!0;continue}const z=this.getParsed(N),W=Nt(z[S]),J=L[v]=o.getPixelForValue(z[v],N),Z=L[S]=s||W?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,z,u):z[S],N);L.skip=isNaN(J)||isNaN(Z)||W,L.stop=N>0&&Math.abs(z[v]-j[v])>C,w&&(L.parsed=z,L.raw=f.data[N]),g&&(L.options=p||this.resolveDataElementOptions(N,B.active?"active":r)),T||this.updateElement(B,N,L,r),j=z}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Se(em,"id","line"),Se(em,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Se(em,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function yo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mx{constructor(e){Se(this,"options");this.options=e||{}}static override(e){Object.assign(mx.prototype,e)}init(){}formats(){return yo()}parse(){return yo()}format(){return yo()}add(){return yo()}diff(){return yo()}startOf(){return yo()}endOf(){return yo()}}var see={_date:mx};function aee(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,l=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const f=l._reversePixels?PQ:To;if(i){if(r._sharedOptions){const p=s[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=f(s,e,n-g),S=f(s,e,n+g);return{lo:v.lo,hi:S.hi}}}}else{const p=f(s,e,n);if(u){const{vScale:g}=r._cachedMeta,{_parsed:v}=t,S=v.slice(0,p.lo+1).reverse().findIndex(w=>!Nt(w[g.axis]));p.lo-=Math.max(0,S);const k=v.slice(p.hi).findIndex(w=>!Nt(w[g.axis]));p.hi+=Math.max(0,k)}return p}}return{lo:0,hi:s.length-1}}function Jg(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=s.length;l<u;++l){const{index:f,data:p}=s[l],{lo:g,hi:v}=aee(s[l],e,o,r);for(let S=g;S<=v;++S){const k=p[S];k.skip||i(k,f,S)}}}function oee(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function I0(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Jg(t,n,e,function(l,u,f){!r&&!Hd(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:f})},!0),s}function cee(t,e,n,i){let r=[];function s(o,l,u){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:g}=OQ(o,{x:e.x,y:e.y});o3(g,f,p)&&r.push({element:o,datasetIndex:l,index:u})}return Jg(t,n,e,s),r}function lee(t,e,n,i,r,s){let o=[];const l=oee(n);let u=Number.POSITIVE_INFINITY;function f(p,g,v){const S=p.inRange(e.x,e.y,r);if(i&&!S)return;const k=p.getCenterPoint(r);if(!(!!s||t.isPointInArea(k))&&!S)return;const C=l(e,k);C<u?(o=[{element:p,datasetIndex:g,index:v}],u=C):C===u&&o.push({element:p,datasetIndex:g,index:v})}return Jg(t,n,e,f),o}function B0(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?cee(t,e,n,r):lee(t,e,n,i,r,s)}function cR(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Jg(t,n,e,(u,f,p)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:f,index:p}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var uee={modes:{index(t,e,n,i){const r=wo(e,t),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?I0(t,r,s,i,o):B0(t,r,s,!1,i,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=l[0].index,g=f.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:f.index,index:p})}),u):[]},dataset(t,e,n,i){const r=wo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?I0(t,r,s,i,o):B0(t,r,s,!1,i,o);if(l.length>0){const u=l[0].datasetIndex,f=t.getDatasetMeta(u).data;l=[];for(let p=0;p<f.length;++p)l.push({element:f[p],datasetIndex:u,index:p})}return l},point(t,e,n,i){const r=wo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return I0(t,r,s,i,o)},nearest(t,e,n,i){const r=wo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return B0(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=wo(e,t);return cR(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=wo(e,t);return cR(t,r,"y",n.intersect,i)}}};const C3=["left","top","right","bottom"];function Zu(t,e){return t.filter(n=>n.pos===e)}function lR(t,e){return t.filter(n=>C3.indexOf(n.pos)===-1&&n.box.axis===e)}function ed(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function dee(t){const e=[];let n,i,r,s,o,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return e}function fee(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!C3.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function hee(t,e){const n=fee(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];const{fullSize:u}=l.box,f=n[l.stack],p=f&&l.stackWeight/f.weight;l.horizontal?(l.width=p?p*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=p?p*r:u&&e.availableHeight)}return n}function pee(t){const e=dee(t),n=ed(e.filter(f=>f.box.fullSize),!0),i=ed(Zu(e,"left"),!0),r=ed(Zu(e,"right")),s=ed(Zu(e,"top"),!0),o=ed(Zu(e,"bottom")),l=lR(e,"x"),u=lR(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(l),chartArea:Zu(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(l)}}function uR(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function M3(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mee(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!pt(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&M3(o,s.getPadding());const l=Math.max(0,e.outerWidth-uR(o,t,"left","right")),u=Math.max(0,e.outerHeight-uR(o,t,"top","bottom")),f=l!==t.w,p=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:f,other:p}:{same:p,other:f}}function gee(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vee(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function gd(t,e,n,i){const r=[];let s,o,l,u,f,p;for(s=0,o=t.length,f=0;s<o;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,vee(l.horizontal,e));const{same:g,other:v}=mee(e,n,l,i);f|=g&&r.length,p=p||v,u.fullSize||r.push(l)}return f&&gd(r,e,n,i)||p}function Dp(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function dR(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const l of t){const u=l.box,f=i[l.stack]||{placed:0,weight:1},p=l.stackWeight/f.weight||1;if(l.horizontal){const g=e.w*p,v=f.size||u.height;Wm(f.start)&&(o=f.start),u.fullSize?Dp(u,r.left,o,n.outerWidth-r.right-r.left,v):Dp(u,e.left+f.placed,o,g,v),f.start=o,f.placed+=g,o=u.bottom}else{const g=e.h*p,v=f.size||u.width;Wm(f.start)&&(s=f.start),u.fullSize?Dp(u,s,r.top,v,n.outerHeight-r.bottom-r.top):Dp(u,s,e.top+f.placed,v,g),f.start=s,f.placed+=g,s=u.right}}e.x=s,e.y=o}var $i={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Wi(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=pee(t.boxes),u=l.vertical,f=l.horizontal;bt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=u.reduce((w,C)=>C.box.options&&C.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),v=Object.assign({},r);M3(v,Wi(i));const S=Object.assign({maxPadding:v,w:s,h:o,x:r.left,y:r.top},r),k=hee(u.concat(f),g);gd(l.fullSize,S,g,k),gd(u,S,g,k),gd(f,S,g,k)&&gd(u,S,g,k),gee(S),dR(l.leftAndTop,S,g,k),S.x+=S.w,S.y+=S.h,dR(l.rightAndBottom,S,g,k),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},bt(l.chartArea,w=>{const C=w.box;Object.assign(C,t.chartArea),C.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class E3{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class yee extends E3{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tm="$chartjs",bee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fR=t=>t===null||t==="";function _ee(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[tm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fR(r)){const s=Q2(t,"width");s!==void 0&&(t.width=s)}if(fR(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Q2(t,"height");s!==void 0&&(t.height=s)}return t}const T3=OZ?{passive:!0}:!1;function wee(t,e,n){t&&t.addEventListener(e,n,T3)}function See(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,T3)}function xee(t,e){const n=bee[t.type]||t.type,{x:i,y:r}=wo(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ym(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kee(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ym(l.addedNodes,i),o=o&&!Ym(l.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Cee(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ym(l.removedNodes,i),o=o&&!Ym(l.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wd=new Map;let hR=0;function A3(){const t=window.devicePixelRatio;t!==hR&&(hR=t,Wd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Mee(t,e){Wd.size||window.addEventListener("resize",A3),Wd.set(t,e)}function Eee(t){Wd.delete(t),Wd.size||window.removeEventListener("resize",A3)}function Tee(t,e,n){const i=t.canvas,r=i&&px(i);if(!r)return;const s=u3((l,u)=>{const f=r.clientWidth;n(l,u),f<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),Mee(t,s),o}function $0(t,e,n){n&&n.disconnect(),e==="resize"&&Eee(t)}function Aee(t,e,n){const i=t.canvas,r=u3(s=>{t.ctx!==null&&n(xee(s,t))},t);return wee(i,e,r),r}class Oee extends E3{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(_ee(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[tm])return!1;const i=n[tm].initial;["height","width"].forEach(s=>{const o=i[s];Nt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[tm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:kee,detach:Cee,resize:Tee}[n]||Aee;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:$0,detach:$0,resize:$0}[n]||See)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return AZ(e,n,i,r)}isAttached(e){const n=e&&px(e);return!!(n&&n.isConnected)}}function Ree(t){return!hx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yee:Oee}var $p;let cc=($p=class{constructor(){Se(this,"x");Se(this,"y");Se(this,"active",!1);Se(this,"options");Se(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Vd(this.x)&&Vd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Se($p,"defaults",{}),Se($p,"defaultRoutes"),$p);function Dee(t,e){const n=t.options.ticks,i=Pee(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?jee(e):[],o=s.length,l=s[0],u=s[o-1],f=[];if(o>r)return Lee(e,f,s,o/r),f;const p=Nee(s,e,r);if(o>0){let g,v;const S=o>1?Math.round((u-l)/(o-1)):null;for(Pp(e,f,p,Nt(S)?0:l-S,l),g=0,v=o-1;g<v;g++)Pp(e,f,p,s[g],s[g+1]);return Pp(e,f,p,u,Nt(S)?e.length:u+S),f}return Pp(e,f,p),f}function Pee(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Nee(t,e,n){const i=Iee(t),r=e.length/n;if(!i)return Math.max(r,1);const s=CQ(i);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function jee(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Lee(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Pp(t,e,n,i,r){const s=at(i,0),o=Math.min(at(r,t.length),t.length);let l=0,u,f,p;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),p=s;p<0;)l++,p=Math.round(s+l*n);for(f=Math.max(s,0);f<o;f++)f===p&&(e.push(t[f]),l++,p=Math.round(s+l*n))}function Iee(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Bee=t=>t==="left"?"right":t==="right"?"left":t,pR=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,mR=(t,e)=>Math.min(e||t,t);function gR(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function $ee(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),f;if(!(n&&(i===1?f=Math.max(u-s,o-u):e===0?f=(t.getPixelForTick(1)-u)/2:f=(u-t.getPixelForTick(r-1))/2,u+=r<e?f:-f,u<s-l||u>o+l)))return u}function zee(t,e){bt(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function td(t){return t.drawTicks?t.tickLength:0}function vR(t,e){if(!t.display)return 0;const n=An(t.font,e),i=Wi(t.padding);return(fn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Fee(t,e){return oc(t,{scale:e,type:"scale"})}function Uee(t,e,n){return oc(t,{tick:n,index:e,type:"tick"})}function Vee(t,e,n){let i=ax(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Bee(i)),i}function Hee(t,e,n,i){const{top:r,left:s,bottom:o,right:l,chart:u}=t,{chartArea:f,scales:p}=u;let g=0,v,S,k;const w=o-r,C=l-s;if(t.isHorizontal()){if(S=kn(i,s,l),pt(n)){const T=Object.keys(n)[0],D=n[T];k=p[T].getPixelForValue(D)+w-e}else n==="center"?k=(f.bottom+f.top)/2+w-e:k=pR(t,n,e);v=l-s}else{if(pt(n)){const T=Object.keys(n)[0],D=n[T];S=p[T].getPixelForValue(D)-C+e}else n==="center"?S=(f.left+f.right)/2-C+e:S=pR(t,n,e);k=kn(i,o,r),g=n==="left"?-sr:sr}return{titleX:S,titleY:k,maxWidth:v,rotation:g}}class Yl extends cc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=yr(e,Number.POSITIVE_INFINITY),n=yr(n,Number.NEGATIVE_INFINITY),i=yr(i,Number.POSITIVE_INFINITY),r=yr(r,Number.NEGATIVE_INFINITY),{min:yr(e,i),max:yr(n,r),minDefined:qi(e),maxDefined:qi(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,f=l.length;u<f;++u)o=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:yr(n,yr(i,n)),max:yr(i,yr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oZ(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?gR(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Dee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Bt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=mR(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,l,u,f;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),g=p.widest.width,v=p.highest.height,S=Bi(this.chart.width-g,0,this.maxWidth);l=e.offset?this.maxWidth/i:S/(i-1),g+6>l&&(l=S/(i-(e.offset?.5:1)),u=this.maxHeight-td(e.grid)-n.padding-vR(e.title,this.chart.options.font),f=Math.sqrt(g*g+v*v),o=AQ(Math.min(Math.asin(Bi((p.highest.height+6)/l,-1,1)),Math.asin(Bi(u/f,-1,1))-Math.asin(Bi(v/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=vR(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=td(s)+u):(e.height=this.maxHeight,e.width=td(s)+u),i.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:v}=this._getLabelSizes(),S=i.padding*2,k=Eo(this.labelRotation),w=Math.cos(k),C=Math.sin(k);if(l){const T=i.mirror?0:C*g.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+T+S)}else{const T=i.mirror?0:w*g.width+C*v.height;e.width=Math.min(this.maxWidth,e.width+T+S)}this._calculatePadding(f,p,C,w)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,S=0;u?f?(v=r*e.width,S=i*n.height):(v=i*e.height,S=r*n.width):s==="start"?S=n.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,S=n.width/2),this.paddingLeft=Math.max((v-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((S-g+o)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;s==="start"?(p=0,g=e.height):s==="end"&&(p=n.height,g=0),this.paddingTop=p+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Nt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=gR(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(n/mR(n,i));let f=0,p=0,g,v,S,k,w,C,T,D,P,j,N;for(g=0;g<n;g+=u){if(k=e[g].label,w=this._resolveTickFontOptions(g),r.font=C=w.string,T=s[C]=s[C]||{data:{},gc:[]},D=w.lineHeight,P=j=0,!Nt(k)&&!fn(k))P=G2(r,T.data,T.gc,P,k),j=D;else if(fn(k))for(v=0,S=k.length;v<S;++v)N=k[v],!Nt(N)&&!fn(N)&&(P=G2(r,T.data,T.gc,P,N),j+=D);o.push(P),l.push(j),f=Math.max(P,f),p=Math.max(j,p)}zee(s,n);const B=o.indexOf(f),L=l.indexOf(p),z=W=>({width:o[W]||0,height:l[W]||0});return{first:z(0),last:z(n-1),widest:z(B),highest:z(L),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DQ(this._alignToPixels?vo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Uee(this.getContext(),e,i))}return this.$context||(this.$context=Fee(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Eo(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,u=s.offset,f=this.isHorizontal(),g=this.ticks.length+(u?1:0),v=td(s),S=[],k=l.setContext(this.getContext()),w=k.display?k.width:0,C=w/2,T=function(H){return vo(i,H,w)};let D,P,j,N,B,L,z,W,J,Z,re,ye;if(o==="top")D=T(this.bottom),L=this.bottom-v,W=D-C,Z=T(e.top)+C,ye=e.bottom;else if(o==="bottom")D=T(this.top),Z=e.top,ye=T(e.bottom)-C,L=D+C,W=this.top+v;else if(o==="left")D=T(this.right),B=this.right-v,z=D-C,J=T(e.left)+C,re=e.right;else if(o==="right")D=T(this.left),J=e.left,re=T(e.right)-C,B=D+C,z=this.left+v;else if(n==="x"){if(o==="center")D=T((e.top+e.bottom)/2+.5);else if(pt(o)){const H=Object.keys(o)[0],te=o[H];D=T(this.chart.scales[H].getPixelForValue(te))}Z=e.top,ye=e.bottom,L=D+C,W=L+v}else if(n==="y"){if(o==="center")D=T((e.left+e.right)/2);else if(pt(o)){const H=Object.keys(o)[0],te=o[H];D=T(this.chart.scales[H].getPixelForValue(te))}B=D-C,z=B-v,J=e.left,re=e.right}const ue=at(r.ticks.maxTicksLimit,g),he=Math.max(1,Math.ceil(g/ue));for(P=0;P<g;P+=he){const H=this.getContext(P),te=s.setContext(H),Y=l.setContext(H),se=te.lineWidth,we=te.color,V=Y.dash||[],Q=Y.dashOffset,h=te.tickWidth,b=te.tickColor,_=te.tickBorderDash||[],O=te.tickBorderDashOffset;j=$ee(this,P,u),j!==void 0&&(N=vo(i,j,se),f?B=z=J=re=N:L=W=Z=ye=N,S.push({tx1:B,ty1:L,tx2:z,ty2:W,x1:J,y1:Z,x2:re,y2:ye,width:se,color:we,borderDash:V,borderDashOffset:Q,tickWidth:h,tickColor:b,tickBorderDash:_,tickBorderDashOffset:O}))}return this._ticksLength=g,this._borderValue=D,S}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:f,padding:p,mirror:g}=s,v=td(i.grid),S=v+p,k=g?-p:S,w=-Eo(this.labelRotation),C=[];let T,D,P,j,N,B,L,z,W,J,Z,re,ye="middle";if(r==="top")B=this.bottom-k,L=this._getXAxisLabelAlignment();else if(r==="bottom")B=this.top+k,L=this._getXAxisLabelAlignment();else if(r==="left"){const he=this._getYAxisLabelAlignment(v);L=he.textAlign,N=he.x}else if(r==="right"){const he=this._getYAxisLabelAlignment(v);L=he.textAlign,N=he.x}else if(n==="x"){if(r==="center")B=(e.top+e.bottom)/2+S;else if(pt(r)){const he=Object.keys(r)[0],H=r[he];B=this.chart.scales[he].getPixelForValue(H)+S}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")N=(e.left+e.right)/2-S;else if(pt(r)){const he=Object.keys(r)[0],H=r[he];N=this.chart.scales[he].getPixelForValue(H)}L=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(u==="start"?ye="top":u==="end"&&(ye="bottom"));const ue=this._getLabelSizes();for(T=0,D=l.length;T<D;++T){P=l[T],j=P.label;const he=s.setContext(this.getContext(T));z=this.getPixelForTick(T)+s.labelOffset,W=this._resolveTickFontOptions(T),J=W.lineHeight,Z=fn(j)?j.length:1;const H=Z/2,te=he.color,Y=he.textStrokeColor,se=he.textStrokeWidth;let we=L;o?(N=z,L==="inner"&&(T===D-1?we=this.options.reverse?"left":"right":T===0?we=this.options.reverse?"right":"left":we="center"),r==="top"?f==="near"||w!==0?re=-Z*J+J/2:f==="center"?re=-ue.highest.height/2-H*J+J:re=-ue.highest.height+J/2:f==="near"||w!==0?re=J/2:f==="center"?re=ue.highest.height/2-H*J:re=ue.highest.height-Z*J,g&&(re*=-1),w!==0&&!he.showLabelBackdrop&&(N+=J/2*Math.sin(w))):(B=z,re=(1-Z)*J/2);let V;if(he.showLabelBackdrop){const Q=Wi(he.backdropPadding),h=ue.heights[T],b=ue.widths[T];let _=re-Q.top,O=0-Q.left;switch(ye){case"middle":_-=h/2;break;case"bottom":_-=h;break}switch(L){case"center":O-=b/2;break;case"right":O-=b;break;case"inner":T===D-1?O-=b:T>0&&(O-=b/2);break}V={left:O,top:_,width:b+Q.width,height:h+Q.height,color:he.backdropColor}}C.push({label:j,font:W,textOffset:re,options:{rotation:w,color:te,strokeColor:Y,strokeWidth:se,textAlign:we,textBaseline:ye,translation:[N,B],backdrop:V}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Eo(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let f,p;return n==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-l,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p=this.left)):n==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+l,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,g,v;this.isHorizontal()?(f=vo(e,this.left,o)-o/2,p=vo(e,this.right,l)+l/2,g=v=u):(g=vo(e,this.top,o)-o/2,v=vo(e,this.bottom,l)+l/2,f=p=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(f,g),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&cx(i,r);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,f=o.label,p=o.textOffset;qd(i,f,0,p,u,l)}r&&lx(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=An(i.font),o=Wi(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||pt(n)?(u+=o.bottom,fn(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:p,maxWidth:g,rotation:v}=Hee(this,u,n,l);qd(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:v,textAlign:Vee(l,n,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=at(e.grid&&e.grid.z,-1),r=at(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return An(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Np{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Gee(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,qee(e,o,i),this.override&&Qt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Qt[r]&&(delete Qt[r][i],this.override&&delete Xo[i])}}function qee(t,e,n){const i=Ud(Object.create(null),[n?Qt.get(n):{},Qt.get(e),t.defaults]);Qt.set(e,i),t.defaultRoutes&&Wee(e,t.defaultRoutes),t.descriptors&&Qt.describe(e,t.descriptors)}function Wee(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");Qt.route(s,r,u,l)})}function Gee(t){return"id"in t&&"defaults"in t}class Jee{constructor(){this.controllers=new Np(Ad,"datasets",!0),this.elements=new Np(cc,"elements"),this.plugins=new Np(Object,"plugins"),this.scales=new Np(Yl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):bt(r,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const r=rx(e);Bt(i["before"+r],[],i),n[e](i),Bt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Sr=new Jee;class Yee{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,l=o[i],u=[n,r,s.options];if(Bt(l,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=at(i.options&&i.options.plugins,{}),s=Kee(i);return r===!1&&!n?[]:Qee(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function Kee(t){const e={},n=[],i=Object.keys(Sr.plugins.items);for(let s=0;s<i.length;s++)n.push(Sr.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Xee(t,e){return!e&&t===!1?null:t===!0?{}:t}function Qee(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const l of e){const u=l.id,f=Xee(i[u],r);f!==null&&s.push({plugin:l,options:Zee(t.config,{plugin:l,local:n[u]},f,o)})}return s}function Zee(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cw(t,e){const n=Qt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ete(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tte(t,e){return t===e?"_index_":"_value_"}function yR(t){if(t==="x"||t==="y"||t==="r")return t}function nte(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Mw(t,...e){if(yR(t))return t;for(const n of e){const i=n.axis||nte(n.position)||t.length>1&&yR(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function bR(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ite(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return bR(t,"x",n[0])||bR(t,"y",n[0])}return{}}function rte(t,e){const n=Xo[t.type]||{scales:{}},i=e.scales||{},r=Cw(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!pt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Mw(o,l,ite(o,t),Qt.scales[l.type]),f=tte(u,r),p=n.scales||{};s[o]=kd(Object.create(null),[{axis:u},l,p[u],p[f]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||Cw(l,e),p=(Xo[l]||{}).scales||{};Object.keys(p).forEach(g=>{const v=ete(g,u),S=o[v+"AxisID"]||v;s[S]=s[S]||Object.create(null),kd(s[S],[{axis:v},i[S],p[g]])})}),Object.keys(s).forEach(o=>{const l=s[o];kd(l,[Qt.scales[l.type],Qt.scale])}),s}function O3(t){const e=t.options||(t.options={});e.plugins=at(e.plugins,{}),e.scales=rte(t,e)}function R3(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ste(t){return t=t||{},t.data=R3(t.data),O3(t),t}const _R=new Map,D3=new Set;function jp(t,e){let n=_R.get(t);return n||(n=e(),_R.set(t,n),D3.add(n)),n}const nd=(t,e,n)=>{const i=qm(e,n);i!==void 0&&t.add(i)};class ate{constructor(e){this._config=ste(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=R3(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),O3(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return jp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return jp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return jp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const u=new Set;n.forEach(p=>{e&&(u.add(e),p.forEach(g=>nd(u,e,g))),p.forEach(g=>nd(u,r,g)),p.forEach(g=>nd(u,Xo[s]||{},g)),p.forEach(g=>nd(u,Qt,g)),p.forEach(g=>nd(u,Sw,g))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),D3.has(n)&&o.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Xo[n]||{},Qt.datasets[n]||{},{type:n},Qt,Sw]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=wR(this._resolverCache,e,r);let u=o;if(cte(o,n)){s.$shared=!1,i=Da(i)?i():i;const f=this.createResolver(e,i,l);u=Il(o,i,f)}for(const f of n)s[f]=u[f];return s}createResolver(e,n,i=[""],r){const{resolver:s}=wR(this._resolverCache,e,i);return pt(n)?Il(s,n,void 0,r):s}}function wR(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:ux(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const ote=t=>pt(t)&&Object.getOwnPropertyNames(t).some(e=>Da(t[e]));function cte(t,e){const{isScriptable:n,isIndexable:i}=m3(t);for(const r of e){const s=n(r),o=i(r),l=(o||s)&&t[r];if(s&&(Da(l)||ote(l))||o&&fn(l))return!0}return!1}var lte="4.5.1";const ute=["top","bottom","left","right","chartArea"];function SR(t,e){return t==="top"||t==="bottom"||ute.indexOf(t)===-1&&e==="x"}function xR(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function kR(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[t],e)}function dte(t){const e=t.chart,n=e.options.animation;Bt(n&&n.onProgress,[t],e)}function P3(t){return hx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const nm={},CR=t=>{const e=P3(t);return Object.values(nm).filter(n=>n.canvas===e).pop()};function fte(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function hte(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var oa;let Yg=(oa=class{static register(...e){Sr.add(...e),MR()}static unregister(...e){Sr.remove(...e),MR()}constructor(e,n){const i=this.config=new ate(n),r=P3(e),s=CR(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Ree(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,o.aspectRatio),u=l&&l.canvas,f=u&&u.height,p=u&&u.width;if(this.id=gQ(),this.ctx=l,this.canvas=u,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yee,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IQ(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],nm[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}as.listen(this,"complete",kR),as.listen(this,"progress",dte),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Nt(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():X2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J2(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(e,n){as.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,X2(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Bt(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};bt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],u=Mw(o,l),f=u==="r",p=u==="x";return{options:l,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),bt(s,o=>{const l=o.options,u=l.id,f=Mw(u,l),p=at(l.type,o.dtype);(l.position===void 0||SR(l.position,f)!==SR(o.dposition))&&(l.position=o.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===p)g=i[u];else{const v=Sr.getScale(p);g=new v({id:u,type:p,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(l,e)}),bt(r,(o,l)=>{o||delete i[l]}),bt(i,o=>{$i.configure(this,o,o.options),$i.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(xR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||Cw(l,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Sr.getController(l),{datasetElementType:f,dataElementType:p}=Qt.datasets[l];Object.assign(u,{dataElementType:Sr.getElement(p),datasetElementType:f&&Sr.getElement(f)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){bt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),v=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(v),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||bt(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xR("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){bt(this.scales,e=>{$i.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!B2(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;fte(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!B2(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$i.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],bt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Da(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),kR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=HZ(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&cx(n,r),e.controller.draw(),r&&lx(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Hd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=uee.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=oc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Wm(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),as.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete nm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};bt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,f)=>{n.addEventListener(this,u,f),e[u]=f},r=(u,f)=>{e[u]&&(n.removeEventListener(this,u,f),delete e[u])},s=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){bt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},bt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Vm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,f)=>u.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),o=s(n,e),l=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,l=this._getActiveElements(e,r,i,o),u=SQ(e),f=hte(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Bt(s.onHover,[e,l,this],this),u&&Bt(s.onClick,[e,l,this],this));const p=!Vm(l,r);return(p||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=f,p}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Se(oa,"defaults",Qt),Se(oa,"instances",nm),Se(oa,"overrides",Xo),Se(oa,"registry",Sr),Se(oa,"version",lte),Se(oa,"getChart",CR),oa);function MR(){return bt(Yg.instances,t=>t._plugins.invalidate())}function N3(t,e,n=e){t.lineCap=at(n.borderCapStyle,e.borderCapStyle),t.setLineDash(at(n.borderDash,e.borderDash)),t.lineDashOffset=at(n.borderDashOffset,e.borderDashOffset),t.lineJoin=at(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=at(n.borderWidth,e.borderWidth),t.strokeStyle=at(n.borderColor,e.borderColor)}function pte(t,e,n){t.lineTo(n.x,n.y)}function mte(t){return t.stepped?XQ:t.tension||t.cubicInterpolationMode==="monotone"?QQ:pte}function j3(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:l}=e,u=Math.max(r,o),f=Math.min(s,l),p=r<o&&s<o||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:f<u&&!p?i+f-u:f-u}}function gte(t,e,n,i){const{points:r,options:s}=e,{count:o,start:l,loop:u,ilen:f}=j3(r,n,i),p=mte(s);let{move:g=!0,reverse:v}=i||{},S,k,w;for(S=0;S<=f;++S)k=r[(l+(v?f-S:S))%o],!k.skip&&(g?(t.moveTo(k.x,k.y),g=!1):p(t,w,k,v,s.stepped),w=k);return u&&(k=r[(l+(v?f:0))%o],p(t,w,k,v,s.stepped)),!!u}function vte(t,e,n,i){const r=e.points,{count:s,start:o,ilen:l}=j3(r,n,i),{move:u=!0,reverse:f}=i||{};let p=0,g=0,v,S,k,w,C,T;const D=j=>(o+(f?l-j:j))%s,P=()=>{w!==C&&(t.lineTo(p,C),t.lineTo(p,w),t.lineTo(p,T))};for(u&&(S=r[D(0)],t.moveTo(S.x,S.y)),v=0;v<=l;++v){if(S=r[D(v)],S.skip)continue;const j=S.x,N=S.y,B=j|0;B===k?(N<w?w=N:N>C&&(C=N),p=(g*p+j)/++g):(P(),t.lineTo(j,N),k=B,g=0,w=C=N),T=N}P()}function Ew(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?vte:gte}function yte(t){return t.stepped?RZ:t.tension||t.cubicInterpolationMode==="monotone"?DZ:So}function bte(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),N3(t,e.options),t.stroke(r)}function _te(t,e,n,i){const{segments:r,options:s}=e,o=Ew(e);for(const l of r)N3(t,s,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const wte=typeof Path2D=="function";function Ste(t,e,n,i){wte&&!e.options.segment?bte(t,e,n,i):_te(t,e,n,i)}class vd extends cc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;xZ(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zZ(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=IZ(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],u=yte(i);let f,p;for(f=0,p=o.length;f<p;++f){const{start:g,end:v}=o[f],S=s[g],k=s[v];if(S===k){l.push(S);continue}const w=Math.abs((r-S[n])/(k[n]-S[n])),C=u(S,k,w,i.stepped);C[n]=e[n],l.push(C)}return l.length===1?l[0]:l}pathSegment(e,n,i){return Ew(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Ew(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)o&=s(e,this,l,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Ste(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Se(vd,"id","line"),Se(vd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Se(vd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Se(vd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ER(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class im extends cc{constructor(n){super();Se(this,"parsed");Se(this,"skip");Se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return ER(this,n,"x",i)}inYRange(n,i){return ER(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Hd(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,xw(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Se(im,"id","point"),Se(im,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Se(im,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const TR=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},xte=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class AR extends cc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Bt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=An(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=TR(i,s);let f,p;n.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,l,u)+10):(p=this.maxHeight,f=this._fitCols(o,r,l,u)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+l;let g=e;s.textAlign="left",s.textBaseline="middle";let v=-1,S=-p;return this.legendItems.forEach((k,w)=>{const C=i+n/2+s.measureText(k.text).width;(w===0||f[f.length-1]+C+2*l>o)&&(g+=p,f[f.length-(w>0?0:1)]=0,S+=p,v++),u[w]={left:0,top:S,row:v,width:C,height:r},f[f.length-1]+=C+l}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-e;let g=l,v=0,S=0,k=0,w=0;return this.legendItems.forEach((C,T)=>{const{itemWidth:D,itemHeight:P}=kte(i,n,s,C,r);T>0&&S+P+2*l>p&&(g+=v+l,f.push({width:v,height:S}),k+=v+l,w++,v=S=0),u[T]={left:k,top:S,col:w,width:D,height:P},v=Math.max(v,D),S+=P+l}),g+=v,f.push({width:v,height:S}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=bl(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=kn(i,this.left+r,this.right-this.lineWidths[l]);for(const f of n)l!==f.row&&(l=f.row,u=kn(i,this.left+r,this.right-this.lineWidths[l])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let l=0,u=kn(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const f of n)f.col!==l&&(l=f.col,u=kn(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cx(e,this),this._draw(),lx(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,l=Qt.color,u=bl(e.rtl,this.left,this.width),f=An(o.font),{padding:p}=o,g=f.size,v=g/2;let S;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:k,boxHeight:w,itemHeight:C}=TR(o,g),T=function(B,L,z){if(isNaN(k)||k<=0||isNaN(w)||w<0)return;r.save();const W=at(z.lineWidth,1);if(r.fillStyle=at(z.fillStyle,l),r.lineCap=at(z.lineCap,"butt"),r.lineDashOffset=at(z.lineDashOffset,0),r.lineJoin=at(z.lineJoin,"miter"),r.lineWidth=W,r.strokeStyle=at(z.strokeStyle,l),r.setLineDash(at(z.lineDash,[])),o.usePointStyle){const J={radius:w*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:W},Z=u.xPlus(B,k/2),re=L+v;h3(r,J,Z,re,o.pointStyleWidth&&k)}else{const J=L+Math.max((g-w)/2,0),Z=u.leftForLtr(B,k),re=Td(z.borderRadius);r.beginPath(),Object.values(re).some(ye=>ye!==0)?kw(r,{x:Z,y:J,w:k,h:w,radius:re}):r.rect(Z,J,k,w),r.fill(),W!==0&&r.stroke()}r.restore()},D=function(B,L,z){qd(r,z.text,B,L+C/2,f,{strikethrough:z.hidden,textAlign:u.textAlign(z.textAlign)})},P=this.isHorizontal(),j=this._computeTitleHeight();P?S={x:kn(s,this.left+p,this.right-i[0]),y:this.top+p+j,line:0}:S={x:this.left+p,y:kn(s,this.top+j+p,this.bottom-n[0].height),line:0},_3(this.ctx,e.textDirection);const N=C+p;this.legendItems.forEach((B,L)=>{r.strokeStyle=B.fontColor,r.fillStyle=B.fontColor;const z=r.measureText(B.text).width,W=u.textAlign(B.textAlign||(B.textAlign=o.textAlign)),J=k+v+z;let Z=S.x,re=S.y;u.setWidth(this.width),P?L>0&&Z+J+p>this.right&&(re=S.y+=N,S.line++,Z=S.x=kn(s,this.left+p,this.right-i[S.line])):L>0&&re+N>this.bottom&&(Z=S.x=Z+n[S.line].width+p,S.line++,re=S.y=kn(s,this.top+j+p,this.bottom-n[S.line].height));const ye=u.x(Z);if(T(ye,re,B),Z=BQ(W,Z+k+v,P?Z+J:this.right,e.rtl),D(u.x(Z),re,B),P)S.x+=J+p;else if(typeof B.text!="string"){const ue=f.lineHeight;S.y+=L3(B,ue)+p}else S.y+=N}),w3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=An(n.font),r=Wi(n.padding);if(!n.display)return;const s=bl(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=i.size/2,f=r.top+u;let p,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,g=kn(e.align,g,this.right-v);else{const k=this.columnSizes.reduce((w,C)=>Math.max(w,C.height),0);p=f+kn(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const S=kn(l,g,g+v);o.textAlign=s.textAlign(ax(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,qd(o,n.text,S,p,i)}_computeTitleHeight(){const e=this.options.title,n=An(e.font),i=Wi(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(md(e,this.left,this.right)&&md(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],md(e,r.left,r.left+r.width)&&md(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Ete(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=xte(r,i);r&&!s&&Bt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Bt(n.onHover,[e,i,this],this)}else i&&Bt(n.onClick,[e,i,this],this)}}function kte(t,e,n,i,r){const s=Cte(i,t,e,n),o=Mte(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Cte(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function Mte(t,e,n){let i=t;return typeof e.text!="string"&&(i=L3(e,n)),i}function L3(t,e){const n=t.text?t.text.length:0;return e*n}function Ete(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Tte={id:"legend",_element:AR,start(t,e,n){const i=t.legend=new AR({ctx:t.ctx,options:n,chart:t});$i.configure(t,i,n),$i.addBox(t,i)},stop(t){$i.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;$i.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(n?0:void 0),p=Wi(f.borderWidth);return{text:e[u.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(l||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class I3 extends cc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=fn(i.text)?i.text.length:1;this._padding=Wi(i.padding);const s=r*An(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,l=o.align;let u=0,f,p,g;return this.isHorizontal()?(p=kn(l,i,s),g=n+e,f=s-i):(o.position==="left"?(p=i+e,g=kn(l,r,n),u=hn*-.5):(p=s-e,g=kn(l,n,r),u=hn*.5),f=r-n),{titleX:p,titleY:g,maxWidth:f,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=An(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:f}=this._drawArgs(s);qd(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:f,textAlign:ax(n.align),textBaseline:"middle",translation:[o,l]})}}function Ate(t,e){const n=new I3({ctx:t.ctx,options:e,chart:t});$i.configure(t,n,e),$i.addBox(t,n),t.titleBlock=n}var Ote={id:"title",_element:I3,start(t,e,n){Ate(t,n)},stop(t){const e=t.titleBlock;$i.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;$i.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=ww(e,f);p<r&&(r=p,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function br(t,e){return e&&(fn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function os(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Rte(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function OR(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:l}=e,u=An(e.bodyFont),f=An(e.titleFont),p=An(e.footerFont),g=s.length,v=r.length,S=i.length,k=Wi(e.padding);let w=k.height,C=0,T=i.reduce((j,N)=>j+N.before.length+N.lines.length+N.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,g&&(w+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),T){const j=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;w+=S*j+(T-S)*u.lineHeight+(T-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let D=0;const P=function(j){C=Math.max(C,n.measureText(j).width+D)};return n.save(),n.font=f.string,bt(t.title,P),n.font=u.string,bt(t.beforeBody.concat(t.afterBody),P),D=e.displayColors?o+2+e.boxPadding:0,bt(i,j=>{bt(j.before,P),bt(j.lines,P),bt(j.after,P)}),D=0,n.font=p.string,bt(t.footer,P),n.restore(),C+=k.width,{width:C,height:w}}function Dte(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Pte(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function Nte(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:l,right:u}}=t;let f="center";return i==="center"?f=r<=(l+u)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),Pte(f,t,e,n)&&(f="center"),f}function RR(t,e,n){const i=n.yAlign||e.yAlign||Dte(t,n);return{xAlign:n.xAlign||e.xAlign||Nte(t,e,n,i),yAlign:i}}function jte(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Lte(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function DR(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,f=r+s,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:S}=Td(o);let k=jte(e,l);const w=Lte(e,u,f);return u==="center"?l==="left"?k+=f:l==="right"&&(k-=f):l==="left"?k-=Math.max(p,v)+r:l==="right"&&(k+=Math.max(g,S)+r),{x:Bi(k,0,i.width-e.width),y:Bi(w,0,i.height-e.height)}}function Lp(t,e,n){const i=Wi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function PR(t){return br([],os(t))}function Ite(t,e,n){return oc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function NR(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const B3={beforeTitle:ss,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ss,beforeBody:ss,beforeLabel:ss,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Nt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ss,afterBody:ss,beforeFooter:ss,footer:ss,afterFooter:ss};function Qn(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?B3[e].call(n,i):r}var G0;let jR=(G0=class extends cc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new x3(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ite(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Qn(i,"beforeTitle",this,e),s=Qn(i,"title",this,e),o=Qn(i,"afterTitle",this,e);let l=[];return l=br(l,os(r)),l=br(l,os(s)),l=br(l,os(o)),l}getBeforeBody(e,n){return PR(Qn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return bt(e,s=>{const o={before:[],lines:[],after:[]},l=NR(i,s);br(o.before,os(Qn(l,"beforeLabel",this,s))),br(o.lines,Qn(l,"label",this,s)),br(o.after,os(Qn(l,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return PR(Qn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Qn(i,"beforeFooter",this,e),s=Qn(i,"footer",this,e),o=Qn(i,"afterFooter",this,e);let l=[];return l=br(l,os(r)),l=br(l,os(s)),l=br(l,os(o)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let l=[],u,f;for(u=0,f=n.length;u<f;++u)l.push(Rte(this.chart,n[u]));return e.filter&&(l=l.filter((p,g,v)=>e.filter(p,g,v,i))),e.itemSort&&(l=l.sort((p,g)=>e.itemSort(p,g,i))),bt(l,p=>{const g=NR(e.callbacks,p);r.push(Qn(g,"labelColor",this,p)),s.push(Qn(g,"labelPointStyle",this,p)),o.push(Qn(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=yd[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=OR(this,i),f=Object.assign({},l,u),p=RR(this.chart,i,f),g=DR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:g}=Td(l),{x:v,y:S}=e,{width:k,height:w}=n;let C,T,D,P,j,N;return s==="center"?(j=S+w/2,r==="left"?(C=v,T=C-o,P=j+o,N=j-o):(C=v+k,T=C+o,P=j-o,N=j+o),D=C):(r==="left"?T=v+Math.max(u,p)+o:r==="right"?T=v+k-Math.max(f,g)-o:T=this.caretX,s==="top"?(P=S,j=P-o,C=T-o,D=T+o):(P=S+w,j=P+o,C=T+o,D=T-o),N=P),{x1:C,x2:T,x3:D,y1:P,y2:j,y3:N}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,l,u;if(s){const f=bl(i.rtl,this.x,this.width);for(e.x=Lp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",o=An(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=s,p=An(s.bodyFont),g=Lp(this,"left",s),v=r.x(g),S=u<p.lineHeight?(p.lineHeight-u)/2:0,k=n.y+S;if(s.usePointStyle){const w={radius:Math.min(f,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},C=r.leftForLtr(v,f)+f/2,T=k+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,xw(e,w,C,T),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xw(e,w,C,T)}else{e.lineWidth=pt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(v,f),C=r.leftForLtr(r.xPlus(v,1),f-2),T=Td(o.borderRadius);Object.values(T).some(D=>D!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,kw(e,{x:w,y:k,w:f,h:u,radius:T}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),kw(e,{x:C,y:k+1,w:f-2,h:u-2,radius:T}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,k,f,u),e.strokeRect(w,k,f,u),e.fillStyle=o.backgroundColor,e.fillRect(C,k+1,f-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:f,boxPadding:p}=i,g=An(i.bodyFont);let v=g.lineHeight,S=0;const k=bl(i.rtl,this.x,this.width),w=function(z){n.fillText(z,k.x(e.x+S),e.y+v/2),e.y+=v+s},C=k.textAlign(o);let T,D,P,j,N,B,L;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,e.x=Lp(this,C,i),n.fillStyle=i.bodyColor,bt(this.beforeBody,w),S=l&&C!=="right"?o==="center"?f/2+p:f+2+p:0,j=0,B=r.length;j<B;++j){for(T=r[j],D=this.labelTextColors[j],n.fillStyle=D,bt(T.before,w),P=T.lines,l&&P.length&&(this._drawColorBox(n,e,j,k,i),v=Math.max(g.lineHeight,u)),N=0,L=P.length;N<L;++N)w(P[N]),v=g.lineHeight;bt(T.after,w)}S=0,v=g.lineHeight,bt(this.afterBody,w),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,l;if(s){const u=bl(i.rtl,this.x,this.width);for(e.x=Lp(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=An(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:f,height:p}=i,{topLeft:g,topRight:v,bottomLeft:S,bottomRight:k}=Td(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+g,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+f-v,u),n.quadraticCurveTo(l+f,u,l+f,u+v),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+f,u+p-k),n.quadraticCurveTo(l+f,u+p,l+f-k,u+p),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+S,u+p),n.quadraticCurveTo(l,u+p,l,u+p-S),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+g),n.quadraticCurveTo(l,u,l+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=yd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=OR(this,e),u=Object.assign({},o,this._size),f=RR(n,e,u),p=DR(e,u,f,n);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Wi(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),_3(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),w3(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[u],index:u}}),s=!Vm(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),l=this._positionChanged(o,e),u=n||!Vm(o,s)||l;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=yd[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}},Se(G0,"positioners",yd),G0);var Bte={id:"tooltip",_element:jR,positioners:yd,afterInit(t,e,n){n&&(t.tooltip=new jR({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:B3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $te=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function zte(t,e,n,i){const r=t.indexOf(e);if(r===-1)return $te(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const Fte=(t,e)=>t===null?null:Bi(Math.round(t),0,e);function LR(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Tw extends Yl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Nt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:zte(i,e,at(n,e),this._addedLabels),Fte(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return LR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Se(Tw,"id","category"),Se(Tw,"defaults",{ticks:{callback:LR}});function Ute(t,e){const n=[],{bounds:r,step:s,min:o,max:l,precision:u,count:f,maxTicks:p,maxDigits:g,includeBounds:v}=t,S=s||1,k=p-1,{min:w,max:C}=e,T=!Nt(o),D=!Nt(l),P=!Nt(f),j=(C-w)/(g+1);let N=z2((C-w)/k/S)*S,B,L,z,W;if(N<1e-14&&!T&&!D)return[{value:w},{value:C}];W=Math.ceil(C/N)-Math.floor(w/N),W>k&&(N=z2(W*N/k/S)*S),Nt(u)||(B=Math.pow(10,u),N=Math.ceil(N*B)/B),r==="ticks"?(L=Math.floor(w/N)*N,z=Math.ceil(C/N)*N):(L=w,z=C),T&&D&&s&&EQ((l-o)/s,N/1e3)?(W=Math.round(Math.min((l-o)/N,p)),N=(l-o)/W,L=o,z=l):P?(L=T?o:L,z=D?l:z,W=f-1,N=(z-L)/W):(W=(z-L)/N,Cd(W,Math.round(W),N/1e3)?W=Math.round(W):W=Math.ceil(W));const J=Math.max(F2(N),F2(L));B=Math.pow(10,Nt(u)?J:u),L=Math.round(L*B)/B,z=Math.round(z*B)/B;let Z=0;for(T&&(v&&L!==o?(n.push({value:o}),L<o&&Z++,Cd(Math.round((L+Z*N)*B)/B,o,IR(o,j,t))&&Z++):L<o&&Z++);Z<W;++Z){const re=Math.round((L+Z*N)*B)/B;if(D&&re>l)break;n.push({value:re})}return D&&v&&z!==l?n.length&&Cd(n[n.length-1].value,l,IR(l,j,t))?n[n.length-1].value=l:n.push({value:l}):(!D||z===l)&&n.push({value:z}),n}function IR(t,e,{horizontal:n,minRotation:i}){const r=Eo(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Vte extends Yl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=Ll(r),f=Ll(s);u<0&&f<0?l(0):u>0&&f>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Ute(r,s);return e.bounds==="ticks"&&TQ(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return d3(e,this.chart.options.locale,this.options.ticks.format)}}class Aw extends Vte{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qi(e)?e:0,this.max=qi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Eo(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Se(Aw,"id","linear"),Se(Aw,"defaults",{ticks:{callback:f3.formatters.numeric}});const Kg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ei=Object.keys(Kg);function BR(t,e){return t-e}function $R(t,e){if(Nt(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),qi(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Vd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function zR(t,e,n,i){const r=ei.length;for(let s=ei.indexOf(t);s<r-1;++s){const o=Kg[ei[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return ei[s]}return ei[r-1]}function Hte(t,e,n,i,r){for(let s=ei.length-1;s>=ei.indexOf(n);s--){const o=ei[s];if(Kg[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return ei[n?ei.indexOf(n):0]}function qte(t){for(let e=ei.indexOf(t)+1,n=ei.length;e<n;++e)if(Kg[ei[e]].common)return ei[e]}function FR(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=sx(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Wte(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function UR(t,e,n){const i=[],r={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],r[l]=o,i.push({value:l,major:!1});return s===0||!n?i:Wte(t,i,r,n)}class Km extends Yl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new see._date(e.adapters.date);r.init(n),kd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:$R(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!l&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=qi(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=qi(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,l=NQ(r,s,o);return this._unit=n.unit||(i.autoSkip?zR(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Hte(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:qte(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),UR(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Bi(n,0,o),i=Bi(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||zR(s.minUnit,n,i,this._getLabelCapacity(n)),l=at(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,f=Vd(u)||u===!0,p={};let g=n,v,S;if(f&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,f?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const k=r.ticks.source==="data"&&this.getDataTimestamps();for(v=g,S=0;v<i;v=+e.add(v,l,o),S++)FR(p,v,k);return(v===i||r.bounds==="ticks"||S===1)&&FR(p,v,k),Object.keys(p).sort(BR).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Bt(o,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&l[u],g=f&&l[f],v=i[n],S=f&&g&&v&&v.major;return this._adapter.format(e,r||(S?g:p))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Eo(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,UR(this,[e],this._majorUnit),r),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push($R(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return LQ(e.sort(BR))}}Se(Km,"id","time"),Se(Km,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ip(t,e,n){let i=0,r=t.length-1,s,o,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=To(t,"pos",e)),{pos:s,time:l}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=To(t,"time",e)),{time:s,pos:l}=t[i],{time:o,pos:u}=t[r]);const f=o-s;return f?l+(u-l)*(e-s)/f:l}class VR extends Km{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ip(n,this.min),this._tableRange=Ip(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,l,u,f,p;for(o=0,l=e.length;o<l;++o)f=e[o],f>=n&&f<=i&&r.push(f);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)p=r[o+1],u=r[o-1],f=r[o],Math.round((p+u)/2)!==f&&s.push({time:f,pos:o/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ip(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ip(this._table,i*this._tableRange+this._minPos,!0)}}Se(VR,"id","timeseries"),Se(VR,"defaults",Km.defaults);const $3="label";function HR(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Gte(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function z3(t,e){t.labels=e}function F3(t,e,n=$3){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Jte(t,e=$3){const n={labels:[],datasets:[]};return z3(n,t.labels),F3(n,t.datasets,e),n}function Yte(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:l,options:u,plugins:f=[],fallbackContent:p,updateMode:g,...v}=t,S=M.useRef(null),k=M.useRef(null),w=()=>{S.current&&(k.current=new Yg(S.current,{type:o,data:Jte(l,s),options:u&&{...u},plugins:f}),HR(e,k.current))},C=()=>{HR(e,null),k.current&&(k.current.destroy(),k.current=null)};return M.useEffect(()=>{!r&&k.current&&u&&Gte(k.current,u)},[r,u]),M.useEffect(()=>{!r&&k.current&&z3(k.current.config.data,l.labels)},[r,l.labels]),M.useEffect(()=>{!r&&k.current&&l.datasets&&F3(k.current.config.data,l.datasets,s)},[r,l.datasets]),M.useEffect(()=>{k.current&&(r?(C(),setTimeout(w)):k.current.update(g))},[r,u,l.labels,l.datasets,g]),M.useEffect(()=>{k.current&&(C(),setTimeout(w))},[o]),M.useEffect(()=>(w(),()=>C()),[]),E.jsx("canvas",{ref:S,role:"img",height:n,width:i,...v,children:p})}const Kte=M.forwardRef(Yte);function Xte(t,e){return Yg.register(e),M.forwardRef((n,i)=>E.jsx(Kte,{...n,ref:i,type:t}))}const Qte=Xte("line",em);var Zte=iV({extend:{classGroups:{shadow:[{shadow:["xshort","short","long","xlong"]}],button:[{button:["sm","md","lg","xl"]},{"button-icon":["sm","md","lg","xl"]}]},theme:{spacing:["element-xs","element-md","element-sm","element-lg","element-xl","element-2xl"]}}});function _e(...t){return Zte(DP(t))}var ene=({data:t,classNames:e={}})=>E.jsx("dl",{className:_e("text-sm grid grid-cols-[1fr_2fr] gap-2 items-center",e.container),children:Object.entries(t).map(([n,i])=>E.jsxs(un.Fragment,{children:[E.jsx("dt",{className:_e("text-muted-foreground",e.key),children:n}),E.jsx("dd",{className:_e("text-right font-mono text-xs min-w-0 truncate",e.value),children:i})]},n))}),U3=ene,qR=({className:t,transportState:e})=>E.jsxs("span",{className:_e("mono-upper text-muted-foreground font-medium flex items-center gap-1.5 leading-none justify-end",{"text-active":e==="connected"||e==="ready","text-destructive":e==="error","text-subtle/50 dark:text-subtle/80":e==="disconnected","text-subtle":!e,"animate-pulse":["initializing","authenticating","authenticated","connecting"].includes(e||"")},t),children:[e||E.jsx(rm,{}),e&&["authenticating","authenticated","connecting"].includes(e)&&E.jsx(fg,{size:12,className:"animate-spin"})]}),V3=({classNames:t={},noAgentState:e=!1,noClientState:n=!1})=>{const i=nc(),[r,s]=M.useState(null);if(M.useEffect(()=>{i==="connecting"&&s("connecting")},[i]),je(fe.BotReady,()=>{e||s("ready")}),je(fe.BotConnected,()=>{e||s("connected")}),je(fe.Disconnected,()=>{e||s("disconnected")}),je(fe.BotDisconnected,()=>{e||s("disconnected")}),e&&n)return null;const o={};return n||(o.Client=E.jsx(qR,{transportState:i})),e||(o.Agent=E.jsx(qR,{transportState:r})),E.jsx(U3,{classNames:t,data:o})},tne=Na("border inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{primary:"bg-primary text-primary-foreground hover:bg-primary/90 border-transparent [--loader-stripe-color:var(--color-primary)]",secondary:"bg-secondary border-transparent text-secondary-foreground hover:bg-secondary/60 focus-visible:border-secondary [--loader-stripe-color:var(--color-secondary)]",outline:"text-foreground border bg-background hover:bg-accent dark:bg-input/30 dark:border-input dark:hover:bg-input/50 focus-visible:border-ring [--loader-stripe-color:var(--color-accent-foreground)]",destructive:"bg-destructive border-transparent text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 [--loader-stripe-color:var(--color-destructive)]",ghost:"text-foreground border border-transparent hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 [--loader-stripe-color:var(--color-accent-foreground)]",link:"text-primary underline-offset-4 hover:underline border border-transparent [--loader-stripe-color:var(--color-primary)]",active:"bg-active border border-transparent text-active-foreground hover:bg-active/90 focus-visible:ring-active/20 dark:focus-visible:ring-active/40",inactive:"bg-inactive border border-transparent text-inactive-foreground hover:bg-inactive/90 focus-visible:ring-inactive/20 dark:focus-visible:ring-inactive/40"},size:{sm:"button-sm [&_svg:not([class*='size-'])]:size-4",md:"button-md [&_svg:not([class*='size-'])]:size-5",lg:"button-lg [&_svg:not([class*='size-'])]:size-5",xl:"button-xl [&_svg:not([class*='size-'])]:size-6 text-lg"},rounded:{size:"",none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},state:{default:"",active:"",inactive:""},isIcon:{true:"",false:""},isFullWidth:{true:"w-full",false:""},loader:{icon:"",stripes:"loader-stripes disabled:opacity-100 dark:disabled:opacity-100 text-white/0"},uppercase:{true:"uppercase tracking-wider",false:""},noContainerQueries:{true:"",false:""}},compoundVariants:[{uppercase:!0,size:"md",className:"text-[11px] [&_svg:not([class*='size-'])]:size-4"},{uppercase:!0,size:"sm",className:"text-[10px]"},{uppercase:!0,size:"lg",className:"text-xs [&_svg:not([class*='size-'])]:size-5"},{uppercase:!0,size:"xl",className:"text-sm [&_svg:not([class*='size-'])]:size-5"},{size:["sm","md","lg","xl"],isIcon:!1,noContainerQueries:!1,className:"@max-xs/panel:button-sm @max-xs/panel:has-[>svg]:button-sm @max-xs/panel:[&_svg:not([class*='size-'])]:size-4"},{size:["sm","md","lg","xl"],isIcon:!0,noContainerQueries:!1,className:"@max-xs/panel:button-icon-sm @max-xs/panel:[&_svg:not([class*='size-'])]:size-4"},{rounded:"size",noContainerQueries:!1,className:"@max-xs/panel:rounded-sm "},{size:"sm",isIcon:!0,className:"button-icon-sm [&_svg:not([class*='size-'])]:size-4"},{size:"md",isIcon:!0,className:"button-icon-md [&_svg:not([class*='size-'])]:size-5"},{size:"lg",isIcon:!0,className:"button-icon-lg [&_svg:not([class*='size-'])]:size-5"},{size:"xl",isIcon:!0,className:"button-icon-xl [&_svg:not([class*='size-'])]:size-6"},{variant:"primary",state:"active",className:"bg-active text-active-foreground hover:bg-active/90 focus-visible:ring-active/20 dark:focus-visible:ring-active/40"},{variant:"primary",state:"inactive",className:"bg-inactive text-inactive-foreground hover:bg-inactive/90 focus-visible:ring-inactive/20 dark:focus-visible:ring-inactive/40"},{variant:"secondary",state:"active",className:"bg-active text-active-foreground hover:bg-active/90 focus-visible:ring-active/20 dark:focus-visible:ring-active/40 focus-visible:border-active"},{variant:"secondary",state:"inactive",className:"bg-inactive text-inactive-foreground hover:bg-inactive/90 focus-visible:ring-inactive/20 dark:focus-visible:ring-inactive/40 focus-visible:border-inactive"},{variant:"outline",state:"active",className:"bg-active-accent text-active border-active hover:bg-active-accent/60 dark:bg-active-accent dark:hover:bg-active-accent/60 dark:border-active focus-visible:border-active focus-visible:ring-active/20 dark:focus-visible:ring-active/40"},{variant:"outline",state:"inactive",className:"bg-inactive-accent text-inactive border-inactive hover:bg-inactive-accent/60 dark:bg-inactive-accent dark:hover:bg-inactive-accent/60 dark:border-inactive focus-visible:border-inactive focus-visible:ring-inactive/20 dark:focus-visible:ring-inactive/40"},{rounded:"size",size:"md",className:"rounded-md"},{rounded:"size",size:"sm",className:"rounded-sm"},{rounded:"size",size:"lg",className:"rounded-lg"},{rounded:"size",size:"xl",className:"rounded-xl"}],defaultVariants:{variant:"primary",size:"md",state:"default",rounded:"size",isIcon:!1,isFullWidth:!1,uppercase:!1,noContainerQueries:!1}}),nne={primary:{default:"text-active",inactive:"text-inactive-foreground",active:"text-active"},secondary:{default:"text-active",inactive:"text-inactive-foreground",active:"text-active"},outline:{default:"text-active",inactive:"text-inactive",active:"text-active"},destructive:{default:"text-background",inactive:"text-background",active:"text-background"},ghost:{default:"text-active",inactive:"text-border",active:"text-active"},link:{default:"text-active",inactive:"text-inactive",active:"text-active"},active:{default:"text-active",inactive:"text-inactive-foreground",active:"text-active"},inactive:{default:"text-inactive",inactive:"text-inactive-foreground",active:"text-inactive"}},WR=tne;function Un({className:t,variant:e,size:n,rounded:i,state:r,isIcon:s,isLoading:o=!1,isFullWidth:l=!1,uppercase:u=!1,noContainerQueries:f=!1,asChild:p=!1,loader:g="icon",children:v,...S}){const k=p?q7:"button";return o?E.jsxs(k,{"data-slot":"button",className:_e(WR({variant:e,size:n,rounded:i,state:r,isIcon:s,isFullWidth:l,loader:g,uppercase:u,noContainerQueries:f}),t),...S,disabled:!0,children:[g==="icon"&&E.jsx(x7,{className:"animate-spin"}),v]}):E.jsx(k,{"data-slot":"button",className:_e(WR({variant:e,size:n,rounded:i,state:r,isIcon:s,isFullWidth:l,uppercase:u,noContainerQueries:f}),t),...S,children:v})}var ine=({className:t,onClick:e,onConnect:n,onDisconnect:i,stateContent:r,size:s="md",transportState:o})=>{const l=()=>{if(r&&r[o])return r[o];switch(o){case"disconnected":case"initialized":return{children:"Connect",variant:"active"};case"initializing":return{children:"Initializing...",variant:"secondary"};case"ready":return{children:"Disconnect",variant:"destructive"};case"disconnecting":return{children:"Disconnecting...",variant:"secondary"};case"error":return{children:"Error",variant:"destructive"};default:return{children:"Connecting...",variant:"secondary"}}},{children:u,className:f,variant:p}=l(),g=()=>{e==null||e(),["ready","connected"].includes(o)?i==null||i():n==null||n()};return E.jsx(Un,{onClick:g,variant:p,size:s,disabled:!["disconnected","ready","initialized"].includes(o),isLoading:!["disconnected","ready","error","initialized"].includes(o),className:_e(f,t),children:u})},H3=M.memo(t=>{const e=nc();return E.jsx(ine,{transportState:e,...t})});H3.displayName="ConnectButton";var rne=H3,q3=M.createContext({show:!0,setShow:()=>{}}),sne=({children:t,visible:e,defaultVisible:n=!0,variant:i="primary",onClose:r,className:s,inset:o=!1,...l})=>{const[u,f]=Ea({defaultProp:n,prop:e,onChange:r});return u?E.jsx(q3.Provider,{value:{show:u,setShow:f},children:E.jsx("div",{className:_e("flex w-full font-semibold items-center justify-between gap-2 bg-primary px-2 py-1 text-primary-foreground",o&&"rounded-lg",i==="destructive"&&"bg-destructive text-white",s),...l,children:t})}):null},ane=({icon:t,className:e,...n})=>E.jsx("div",{className:_e("rounded-full bg-foreground/10 dark:bg-foreground/30 p-1",e),...n,children:E.jsx(t,{size:16})}),one=({className:t,...e})=>E.jsx("p",{className:_e("flex-1 text-sm",t),...e}),cne=({variant:t="ghost",size:e="sm",onClick:n,className:i,...r})=>{const{setShow:s}=M.useContext(q3),o=l=>{s(!1),n==null||n(l)};return E.jsx(Un,{className:_e("shrink-0 bg-transparent hover:bg-background/10 hover:text-background",i),isIcon:!0,onClick:o,size:e,variant:t,...r,children:E.jsx(U7,{size:18})})},rm=({className:t})=>E.jsx("span",{className:_e("mono-upper text-subtle/60",t),children:"---"}),lne=Na("flex items-center",{variants:{orientation:{horizontal:"flex-row *:not-first:not-last:rounded-none *:first:not-only:rounded-e-none *:last:not-only:rounded-s-none *:not-first:not-last:border-x-0",vertical:"flex-col *:not-first:not-last:rounded-none *:first:not-only:rounded-b-none *:last:not-only:rounded-t-none *:not-first:not-last:border-y-0 *:self-stretch"}},defaultVariants:{orientation:"horizontal"}}),W3=({className:t,orientation:e="horizontal",children:n,...i})=>E.jsx("div",{className:_e("flex",lne({orientation:e}),t),...i,children:n});function une(){return".voice-ui-kit"}function Xg(){return document.querySelector(une())??document.body}var dne=Na("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto border p-1",{variants:{rounded:{base:"rounded-base",none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl"},shadow:{none:"shadow-none",xshort:"shadow-xshort",short:"shadow-short",long:"shadow-long",xlong:"shadow-xlong"}},defaultVariants:{rounded:"base",shadow:"short"}});function G3({...t}){return E.jsx(dW,{"data-slot":"dropdown-menu",...t})}function fne({...t}){return E.jsx(hW,{container:Xg(),"data-slot":"dropdown-menu-portal",...t})}function J3({...t}){return E.jsx(fW,{"data-slot":"dropdown-menu-trigger",...t})}function Y3({className:t,sideOffset:e=4,rounded:n,shadow:i,...r}){return E.jsx(fne,{children:E.jsx(pW,{"data-slot":"dropdown-menu-content",sideOffset:e,className:_e(dne({rounded:n,shadow:i}),t),...r})})}function z0({className:t,inset:e,variant:n="default",...i}){return E.jsx(gW,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:_e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-base px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function hne({className:t,children:e,checked:n,...i}){return E.jsxs(vW,{"data-slot":"dropdown-menu-checkbox-item",className:_e("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n&&"font-medium bg-accent",t),checked:n,...i,children:[E.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:E.jsx(yW,{children:E.jsx(uN,{})})}),e]})}function pne({className:t,inset:e,...n}){return E.jsx(mW,{"data-slot":"dropdown-menu-label","data-inset":e,className:_e("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function mne({className:t,...e}){return E.jsx(bW,{"data-slot":"dropdown-menu-separator",className:_e("bg-border -mx-1 my-1 h-px",t),...e})}var gne=Na("border file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex w-full min-w-0 rounded-md transition-[color,box-shadow] outline-none file:inline-flex file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"border-input bg-transparent text-foreground dark:bg-input/30",secondary:"border-input bg-accent dark:bg-background text-foreground focus-visible:ring-0",destructive:"border-destructive bg-destructive/10 text-destructive-foreground focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 focus-visible:border-destructive placeholder:text-destructive-foreground/50",ghost:"border-transparent text-foreground bg-transparent focus-visible:bg-black"},size:{sm:"button-sm px-2 text-sm",md:"button-md px-2.5",lg:"button-lg px-3.5",xl:"button-xl px-4"},rounded:{size:"",none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}},defaultVariants:{size:"md",variant:"default",rounded:"size"}});function vne({className:t,type:e,variant:n,size:i,rounded:r,...s}){const o=r==="size"?i:r;return E.jsx("input",{type:e,"data-slot":"input",className:_e(gne({size:i,variant:n,rounded:o,className:t})),...s})}var yne=({size:t=32})=>E.jsx(fg,{className:"animate-spin opacity-50",size:t});function mf({className:t,...e}){return E.jsx("div",{"data-slot":"panel",className:_e("group @container/panel bg-card text-card-foreground flex flex-col rounded-panel border",t),...e})}var bne=Na("@container/panel-header",{variants:{variant:{default:"border-b flex items-center justify-center text-card-foreground p-2 @xs/panel:p-3 @md/panel:p-4",inline:"items-start text-foreground p-2 @xs/panel:p-3 @md/panel:p-4 group-has-data-[slot=panel-content]:pb-0",noPadding:"border-b flex items-center justify-center text-card-foreground"}},defaultVariants:{variant:"default"}});function Io({variant:t,className:e,...n}){return E.jsx("div",{"data-slot":"panel-header",className:_e(bne({variant:t}),e),...n})}function _l({className:t,...e}){return E.jsx("div",{"data-slot":"panel-title",className:_e("mono-upper",t),...e})}function Bo({className:t,...e}){return E.jsx("div",{"data-slot":"panel-content",className:_e("text-foreground flex flex-col gap-2 p-2 @xs/panel:p-3 @xs/panel:gap-3 @md/panel:p-4 @md/panel:gap-4",t),...e})}function F0({...t}){return E.jsx(LW,{"data-slot":"popover",...t})}function U0({...t}){return E.jsx(IW,{"data-slot":"popover-trigger",...t})}function V0({className:t,align:e="center",sideOffset:n=4,...i}){return E.jsx(BW,{container:Xg(),children:E.jsx($W,{"data-slot":"popover-content",align:e,sideOffset:n,className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}var _ne=Na(`inline-flex overflow-hidden bg-white min-h-[1px] h-full relative shrink-0 grow-0
  [&>[data-slot=progress-indicator]]:absolute [&>[data-slot=progress-indicator]]:top-0 [&>[data-slot=progress-indicator]]:left-0 [&>[data-slot=progress-indicator]]:bottom-0 [&>[data-slot=progress-indicator]]:w-[var(--progress-width)]`,{variants:{size:{default:"w-10",xs:"w-2",sm:"w-5",lg:"w-15",xl:"w-20",half:"h-1/2 w-1/2"},color:{primary:"bg-primary/20 [&>[data-slot=progress-indicator]]:bg-primary",secondary:"bg-secondary/20 [&>[data-slot=progress-indicator]]:bg-secondary",destructive:"bg-destructive/20 [&>[data-slot=progress-indicator]]:bg-destructive",warning:"bg-warning/20 [&>[data-slot=progress-indicator]]:bg-warning",active:"bg-active/20 [&>[data-slot=progress-indicator]]:bg-active",inactive:"bg-inactive/20 [&>[data-slot=progress-indicator]]:bg-inactive",agent:"bg-agent/20 [&>[data-slot=progress-indicator]]:bg-agent",client:"bg-client/20 [&>[data-slot=progress-indicator]]:bg-client"},rounded:{true:"rounded-full",false:""}},defaultVariants:{size:"default",color:"primary"}}),wne=M.forwardRef(({className:t,percent:e,size:n,color:i,rounded:r,...s},o)=>E.jsx(Xj,{ref:o,"data-slot":"progress",className:_e(_ne({size:n,color:i,rounded:r}),t),...s,children:E.jsx(YW,{"data-slot":"progress-indicator",style:{"--progress-width":`${e||0}%`}})}));wne.displayName=Xj.displayName;function GR({className:t,...e}){return QW(),E.jsx(yL,{"data-slot":"resizable-panel-group",className:_e("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e})}function id({...t}){return E.jsx(Zj,{"data-slot":"resizable-panel",...t})}var Sne=Na("group focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",{variants:{size:{sm:"[&_svg]:size-3",md:"[&_svg]:size-4",lg:"[&_svg]:size-5"},noBorder:{false:"bg-border hover:bg-foreground/20 hover:ring-foreground/20 hover:ring-1",true:"border-none"}}});function H0({withHandle:t,noBorder:e=!0,size:n="sm",icon:i,className:r,...s}){const{direction:o}=CG();return E.jsx(bL,{"data-slot":"resizable-handle",className:_e(Sne({noBorder:e,size:n}),o==="vertical"?"cursor-row-resize":"cursor-col-resize",r),...s,children:t&&E.jsx("div",{className:"border-transparent z-10 flex items-center justify-center text-subtle group-hover:text-foreground group-focus:text-foreground",children:i||E.jsx(v7,{})})})}var xne=Na("truncate data-[placeholder]:text-muted-foreground font-mono text-xs [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between border bg-transparent whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{primary:"text-primary-foreground bg-primary hover:bg-primary/90 dark:hover:bg-primary/90 border-transparent data-[placeholder]:text-primary-foreground dark:bg-primary [&_svg:not([class*='text-'])]:text-brder",outline:"text-foreground border-input hover:bg-accent",ghost:"text-foreground border-transparent hover:bg-accent"},size:{md:"button-md [&_svg]:size-3.5 [&_[data-slot^=select-guide]]:mr-2",sm:"button-sm [&_svg]:size-3.5 [&_[data-slot^=select-guide]]:mr-2",lg:"button-lg [&_svg]:size-4 [&_[data-slot^=select-guide]]:mr-3",xl:"button-xl [&_svg]:size-4 [&_[data-slot^=select-guide]]:mr-3"},align:{left:"text-left",center:"text-center",right:"text-right"},rounded:{size:"",none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}},defaultVariants:{size:"md",variant:"outline",rounded:"size",align:"left"}});function kne({...t}){return E.jsx(rJ,{"data-slot":"select",...t})}function Cne({...t}){return E.jsx(aJ,{"data-slot":"select-value",...t})}function Mne({className:t,size:e="md",variant:n,rounded:i="size",align:r,children:s,...o}){const l=i==="size"?e:i;return E.jsxs(sJ,{"data-slot":"select-trigger","data-size":e,className:_e(xne({size:e,variant:n,align:r,rounded:l,className:t})),...o,children:[E.jsx("span",{className:"truncate flex-1 min-w-0",children:s}),E.jsx(oJ,{asChild:!0,children:E.jsx(l7,{className:"opacity-50 flex-none"})})]})}function Ene({className:t,...e}){return E.jsx("span",{"data-slot":"select-guide",className:_e("text-subtle font-sans",t),...e})}function Tne({className:t,children:e,position:n="popper",...i}){return E.jsx(cJ,{container:Xg(),children:E.jsxs(lJ,{"data-slot":"select-content",className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[E.jsx(One,{}),E.jsx(uJ,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),E.jsx(Rne,{})]})})}function Ane({className:t,children:e,...n}){return E.jsxs(dJ,{"data-slot":"select-item",className:_e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[E.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:E.jsx(hJ,{children:E.jsx(uN,{className:"size-4"})})}),E.jsx(fJ,{children:e})]})}function One({className:t,...e}){return E.jsx(pJ,{"data-slot":"select-scroll-up-button",className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(a7,{className:"size-4"})})}function Rne({className:t,...e}){return E.jsx(mJ,{"data-slot":"select-scroll-down-button",className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:E.jsx(fS,{className:"size-4"})})}function K3({className:t,...e}){return E.jsx(yJ,{"data-slot":"tabs",className:_e("flex flex-col gap-2",t),...e})}function X3({className:t,...e}){return E.jsx(bJ,{"data-slot":"tabs-list",className:_e("bg-muted text-muted-foreground inline-flex h-10 p-1 w-fit items-center justify-center rounded-md p-[3px] gap-1",t),...e})}function ll({className:t,...e}){return E.jsx(_J,{"data-slot":"tabs-trigger",className:_e("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring hover:bg-muted-foreground/10 text-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-sm border border-transparent px-2 py-1 text-xs font-bold whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 mono-upper",t),...e})}function ul({className:t,...e}){return E.jsx(wJ,{"data-slot":"tabs-content",forceMount:!0,className:_e("flex-1 outline-none data-[state=inactive]:hidden",t),...e})}function Q3({delayDuration:t=0,...e}){return E.jsx($J,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Dne({...t}){return E.jsx(Q3,{children:E.jsx(zJ,{"data-slot":"tooltip",...t})})}function Pne({...t}){return E.jsx(FJ,{"data-slot":"tooltip-trigger",...t})}function Nne({className:t,sideOffset:e=0,children:n,...i}){return E.jsx(UJ,{container:Xg(),children:E.jsxs(VJ,{"data-slot":"tooltip-content",sideOffset:e,className:_e("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[n,E.jsx(HJ,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var _r=(t,e)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime(),Xm=t=>{const e=t.parts||[];return e.length===0?!0:e.every(n=>typeof n.text=="string"?n.text.trim().length===0:!1)},cs=t=>t.filter((e,n,i)=>Xm(e)?!i.slice(n+1).find(s=>s.role===e.role&&!Xm(s)):!0),wr=t=>{const e=[];for(let n=0;n<t.length;n++){const i=t[n],r=e[e.length-1],s=r?Math.abs(new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime()):1/0;r&&r.role===i.role&&i.role!=="system"&&s<3e4?e[e.length-1]={...r,parts:[...r.parts||[],...i.parts||[]],updatedAt:i.updatedAt||i.createdAt,final:i.final!==!1}:e.push({...i})}return e},nl=(t,e)=>{t.forEach(n=>{try{n(e)}catch(i){console.error("Error in message callback:",i)}})},wa=YJ()(t=>({messages:[],messageCallbacks:new Map,llmTextStreams:new Map,ttsTextStreams:new Map,registerMessageCallback:(e,n)=>t(i=>{const r={...i};return r.messageCallbacks.set(e,n||(()=>{})),r}),unregisterMessageCallback:e=>t(n=>{const i={...n};return i.messageCallbacks.delete(e),i}),clearMessages:()=>t({messages:[],llmTextStreams:new Map,ttsTextStreams:new Map}),addMessage:e=>{const n=new Date,i={...e,createdAt:n.toISOString(),updatedAt:n.toISOString()};t(r=>{const s=[...r.messages,i],o=wr(cs(s.sort(_r)));return nl(r.messageCallbacks,i),{messages:o}})},updateLastMessage:(e,n)=>{t(i=>{const r=[...i.messages],s=r.findLastIndex(u=>u.role===e);if(s===-1)return i;const o={...r[s],...n,updatedAt:new Date().toISOString()};r[s]=o;const l=wr(cs(r.sort(_r)));return nl(i.messageCallbacks,o),{messages:l}})},finalizeLastMessage:e=>{t(n=>{const i=[...n.messages],r=i.findLastIndex(u=>u.role===e);if(r===-1)return n;const s=i[r],o=n.llmTextStreams.get(s.createdAt)||n.ttsTextStreams.get(s.createdAt);if(Xm(s)&&!o)i.splice(r,1);else{const u=[...s.parts||[]];u.length>0&&(u[u.length-1]={...u[u.length-1],final:!0}),i[r]={...s,parts:u,final:!0,updatedAt:new Date().toISOString()},nl(n.messageCallbacks,i[r])}return{messages:wr(cs(i.sort(_r)))}})},removeEmptyLastMessage:e=>{t(n=>{const i=[...n.messages],r=i.findLastIndex(o=>o.role===e);if(r===-1)return n;const s=i[r];return Xm(s)?(i.splice(r,1),{messages:wr(cs(i.sort(_r)))}):n})},injectMessage:e=>{const n=new Date,i={role:e.role,final:!0,parts:[...e.parts],createdAt:n.toISOString(),updatedAt:n.toISOString()};t(r=>{const s=[...r.messages,i],o=wr(cs(s.sort(_r)));return nl(r.messageCallbacks,i),{messages:o}})},upsertUserTranscript:(e,n)=>{const i=new Date;t(r=>{const s=[...r.messages],o=s.findLastIndex(p=>p.role==="user");if(o!==-1&&!s[o].final){const p={...s[o]},g=Array.isArray(p.parts)?[...p.parts]:[],v=g[g.length-1];!v||v.final?g.push({text:e,final:n,createdAt:i.toISOString()}):g[g.length-1]={...v,text:e,final:n};const S={...p,final:n?!0:p.final,parts:g,updatedAt:i.toISOString()};s[o]=S;const k=wr(cs(s.sort(_r)));return nl(r.messageCallbacks,S),{messages:k}}const l={role:"user",final:n,parts:[{text:e,final:n,createdAt:i.toISOString()}],createdAt:i.toISOString(),updatedAt:i.toISOString()},u=[...s,l],f=wr(cs(u.sort(_r)));return nl(r.messageCallbacks,l),{messages:f}})},updateAssistantText:(e,n,i)=>{const r=new Date;t(s=>{const o=[...s.messages],l=new Map(s.llmTextStreams),u=new Map(s.ttsTextStreams),f=o.findLastIndex(v=>v.role==="assistant");let p;if(f===-1){p=r.toISOString();const v={role:"assistant",final:n,parts:[],createdAt:p,updatedAt:p};o.push(v)}else{const v=o[f];p=v.createdAt,o[f]={...v,final:n?!0:v.final,updatedAt:r.toISOString()}}if(i==="llm"){const v=l.get(p)||"";l.set(p,v+e)}else{const v=u.get(p)||"",S=v&&!v.endsWith(" ")&&!e.startsWith(" ")?" ":"";u.set(p,v+S+e)}return{messages:wr(o.sort(_r)),llmTextStreams:l,ttsTextStreams:u}})},startAssistantLlmStream:()=>{t(e=>{const n=[...e.messages],i=new Map(e.llmTextStreams),r=new Date,s=n.length-1,o=n.findLastIndex(f=>f.role==="assistant"),l=o!==-1?n[o]:void 0;if(!l||s!==o){const f={role:"assistant",final:!1,parts:[],createdAt:r.toISOString(),updatedAt:r.toISOString()};n.push(f)}else if(s===o){const f=l.createdAt,p=i.get(f)||"";p&&!p.endsWith(" ")&&i.set(f,p+" "),n[o]={...l,final:!1,updatedAt:r.toISOString()}}return{messages:wr(cs(n.sort(_r))),llmTextStreams:i}})}})),Z3=M.createContext(null),jne=({children:t})=>{const{messages:e,clearMessages:n,addMessage:i,finalizeLastMessage:r,removeEmptyLastMessage:s,injectMessage:o,upsertUserTranscript:l,updateAssistantText:u,startAssistantLlmStream:f}=wa(),p=M.useRef(void 0),g=M.useRef(0);je(fe.Connected,()=>{n()}),je(fe.BotLlmStarted,()=>{f(),g.current+=1}),je(fe.BotLlmText,S=>{u(S.text,!1,"llm")}),je(fe.BotLlmStopped,()=>{r("assistant")}),je(fe.BotTtsStarted,()=>{const S=wa.getState(),k=S.messages.findLastIndex(C=>C.role==="assistant"),w=k!==-1?S.messages[k]:void 0;(!w||w.final)&&i({role:"assistant",final:!1,parts:[]})}),je(fe.BotTtsText,S=>{u(S.text,!1,"tts")}),je(fe.BotTtsStopped,()=>{const k=wa.getState().messages.findLast(w=>w.role==="assistant");k&&!k.final&&r("assistant")}),je(fe.UserStartedSpeaking,()=>{clearTimeout(p.current)}),je(fe.UserTranscript,S=>{const k=S.text??"",w=!!S.final;l(k,w),clearTimeout(p.current)}),je(fe.UserStoppedSpeaking,()=>{clearTimeout(p.current),p.current=setTimeout(()=>{const S=wa.getState().messages.findLast(w=>w.role==="user"),k=Array.isArray(S==null?void 0:S.parts)&&S.parts.length>0;!S||!k?s("user"):S.final||r("user")},3e3)});const v={messages:e,injectMessage:o};return E.jsx(Z3.Provider,{value:v,children:t})},Lne=()=>{const t=M.useContext(Z3);if(!t)throw new Error("useConversation must be used within a ConversationProvider");return t},eB=({onMessageAdded:t,textMode:e="llm"}={})=>{const{injectMessage:n}=Lne(),{registerMessageCallback:i,unregisterMessageCallback:r}=wa(),s=M.useId();M.useEffect(()=>(i(s,t),()=>{r(s)}),[s,t,i,r]);const o=wa(p=>p.messages),l=wa(p=>p.llmTextStreams),u=wa(p=>p.ttsTextStreams);return{messages:M.useMemo(()=>{const p=o.map(v=>{if(v.role==="assistant"){const S=v.createdAt,k=e==="llm"?l.get(S)||"":u.get(S)||"";return{...v,parts:k?[{text:k,final:v.final||!1,createdAt:v.createdAt}]:v.parts}}return v});return wr(cs(p.sort(_r)))},[o,l,u,e]),injectMessage:n}},Ine=({assistantLabel:t="assistant",clientLabel:e="user",systemLabel:n="system",className:i,role:r})=>{const s=M.useMemo(()=>({user:e,assistant:t,system:n}),[t,e,n]);return E.jsx("div",{className:_e("font-semibold font-mono text-xs leading-6 w-max",{"text-client":r==="user","text-agent":r==="assistant","text-subtle":r==="system"},i),children:s[r]||r})},Bne=({"aria-label":t="Loading",className:e="",initialDots:n=1,interval:i=500,maxDots:r=3})=>{const[s,o]=M.useState(n);M.useEffect(()=>{const u=setInterval(()=>{o(f=>f%r+1)},i);return()=>clearInterval(u)},[i,r]);const l=()=>".".repeat(s);return E.jsx("span",{className:e,"aria-label":t,children:l()})},$ne=Bne,zne=({classNames:t={},message:e})=>{const n=Array.isArray(e.parts)?e.parts:[];return E.jsxs("div",{className:_e("flex flex-col gap-2",t.messageContent),children:[n.map((i,r)=>{const s=(n==null?void 0:n[r+1])??null,o=typeof i.text=="string",l=s&&typeof s.text=="string";return E.jsxs(M.Fragment,{children:[i.text,o&&l?" ":null]},r)}),n.length===0||n.every(i=>typeof i.text=="string"&&i.text.trim()==="")?E.jsx($ne,{className:t.thinking}):null,E.jsx("div",{className:_e("self-end text-xs text-gray-500 mb-1",t.time),children:new Date(e.createdAt).toLocaleTimeString()})]})},Fne=({assistantLabel:t,clientLabel:e,systemLabel:n,classNames:i={},message:r})=>E.jsxs("div",{className:_e("flex flex-col gap-2",i.container),children:[E.jsx(Ine,{assistantLabel:t,clientLabel:e,systemLabel:n,className:i.role,role:r.role}),E.jsx(zne,{classNames:{messageContent:i.messageContent,thinking:i.thinking,time:i.time},message:r})]}),Une=M.memo(({assistantLabel:t,classNames:e={},clientLabel:n,noAutoscroll:i=!1,systemLabel:r,textMode:s="llm"})=>{const o=nc(),l=M.useRef(null),u=M.useRef(!0),f=M.useCallback(()=>{l.current&&u.current&&l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},[]),p=M.useCallback(()=>{!l.current||i||(u.current=Math.ceil(l.current.scrollHeight-l.current.scrollTop)<=Math.ceil(l.current.clientHeight))},[i]),{messages:g}=eB({textMode:s}),v=o==="authenticating"||o==="connecting",S=o==="connected"||o==="ready";return M.useEffect(()=>{i||f()},[g,f,i]),M.useEffect(()=>{const k=l.current;if(!k)return;const w=()=>p();return k.addEventListener("scroll",w),p(),()=>k.removeEventListener("scroll",w)},[p]),g.length>0?E.jsx("div",{ref:l,className:_e("relative h-full overflow-y-auto p-4",e.container),children:E.jsx("div",{className:_e(e.message),children:g.map((k,w)=>E.jsx(Fne,{message:k,assistantLabel:t,clientLabel:n,systemLabel:r,classNames:{container:e.message,messageContent:e.messageContent,thinking:e.thinking,time:e.time,role:e.role}},w))})}):v?E.jsx("div",{className:_e("relative flex items-center justify-center h-full",e.container),children:E.jsx("div",{className:"text-muted-foreground text-sm",children:"Connecting to agent..."})}):S?E.jsx("div",{className:_e("relative flex items-center justify-center h-full",e.container),children:E.jsx("div",{className:"text-muted-foreground text-sm",children:"Waiting for messages..."})}):E.jsx("div",{className:_e("relative flex items-center justify-center h-full",e.container),children:E.jsxs("div",{className:"text-center p-4",children:[E.jsx("div",{className:"text-muted-foreground mb-2",children:"Not connected to agent"}),E.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Connect to an agent to see conversation messages in real-time."})]})})}),Vne=Une,Hne=({text:t,iconSize:e=16,className:n=""})=>{const[i,r]=M.useState(!1),s=async()=>{try{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)}catch(o){console.error("Failed to copy text: ",o)}};return E.jsxs("div",{className:_e("flex items-center overflow-hidden w-full",n),children:[E.jsx("span",{className:"truncate min-w-0",children:t}),E.jsx(Q3,{children:E.jsxs(Dne,{children:[E.jsx(Pne,{asChild:!0,children:E.jsx(Un,{variant:"ghost",isIcon:!0,size:"sm",className:"flex-none text-muted-foreground",onClick:s,"aria-label":"Copy to clipboard",children:i?E.jsx(h7,{size:e}):E.jsx(m7,{size:e})})}),E.jsx(Nne,{children:i?"Copied!":"Copy to clipboard"})]})})]})},JR=Hne,tB=({children:t,noMenuLabel:e=!1,noMenuSeparator:n=!1,menuLabel:i="Device select",availableDevices:r,selectedDevice:s,updateDevice:o,classNames:l})=>E.jsxs(G3,{children:[E.jsx(J3,{asChild:!0,children:t}),E.jsxs(Y3,{align:"end",className:_e(l==null?void 0:l.dropdownMenuContent),children:[!e&&E.jsx(pne,{className:_e(l==null?void 0:l.dropdownMenuLabel),children:i}),!n&&E.jsx(mne,{}),r==null?void 0:r.map(u=>E.jsx(hne,{checked:(s==null?void 0:s.deviceId)===u.deviceId,onCheckedChange:()=>o==null?void 0:o(u.deviceId),className:_e(l==null?void 0:l.dropdownMenuCheckboxItem),children:u.label||`Device ${u.deviceId.slice(0,5)}`},u.deviceId))]})]}),YR=45/26,qne=({className:t="",alt:e="Pipecat Logo",color:n="currentColor",height:i,width:r})=>{const s=i||(r?Math.round(r/YR):100),o=r||(i?Math.round(i*YR):200);return E.jsxs("svg",{width:o,height:s,viewBox:"0 0 45 26",xmlns:"http://www.w3.org/2000/svg",className:t,"aria-label":e,children:[E.jsx("path",{d:"M6.19825 0.104287C6.83144 -0.13411 7.5461 0.044779 7.99232 0.553371L13.8037 7.17714H31.1545L36.9659 0.553371C37.4121 0.044779 38.1268 -0.13411 38.76 0.104287C39.3932 0.342685 39.8124 0.948477 39.8124 1.62507V16.25H44.9582V19.5H36.5624V5.94116L33.112 9.87383C32.8035 10.2255 32.3584 10.4271 31.8905 10.4271H13.0677C12.5998 10.4271 12.1547 10.2255 11.8462 9.87383L8.39581 5.94116V19.5H0V16.25H5.14582V1.62507C5.14582 0.948477 5.56505 0.342685 6.19825 0.104287Z",fill:n}),E.jsx("path",{d:"M36.5624 22.75H44.9582V26H36.5624V22.75Z",fill:n}),E.jsx("path",{d:"M0 22.75H8.39581V26H0V22.75Z",fill:n}),E.jsx("path",{d:"M17.3333 17.3334C17.3333 18.53 16.3632 19.5 15.1666 19.5C13.97 19.5 13 18.53 13 17.3334C13 16.1367 13.97 15.1667 15.1666 15.1667C16.3632 15.1667 17.3333 16.1367 17.3333 17.3334Z",fill:n}),E.jsx("path",{d:"M31.9582 17.3334C31.9582 18.53 30.9882 19.5 29.7916 19.5C28.595 19.5 27.6249 18.53 27.6249 17.3334C27.6249 16.1367 28.595 15.1667 29.7916 15.1667C30.9882 15.1667 31.9582 16.1367 31.9582 17.3334Z",fill:n})]})},Wne=qne,nB=({noTransportType:t=!1,noSessionId:e=!1,noParticipantId:n=!1,noRTVIVersion:i=!1,sessionId:r,participantId:s})=>{const o=tc();let l="Unknown";o&&"dailyCallClient"in o.transport?l=`Daily (v${qX.version()})`:(o==null?void 0:o.transport.__proto__.constructor.SERVICE_NAME)==="small-webrtc-transport"&&(l="Small WebRTC");const u={};return t||(u.Transport=l),e||(u["Session ID"]=r?E.jsx(JR,{className:"justify-end",iconSize:12,text:r}):E.jsx(rm,{})),n||(u["Participant ID"]=s?E.jsx(JR,{className:"justify-end",iconSize:12,text:s}):E.jsx(rm,{})),i||(u.RTVI=(o==null?void 0:o.version)||E.jsx(rm,{})),E.jsx(U3,{classNames:{container:"w-full overflow-hidden"},data:u})},KR=t=>t==="ready"?"connected":["authenticating","authenticated","connecting","connected"].includes(t)?"connecting":"disconnected",Gne=()=>{const t=tc(),[e,n]=M.useState(KR((t==null?void 0:t.state)??"disconnected"));return je(fe.TransportStateChanged,M.useCallback(i=>{n(KR(i))},[])),{state:e,isConnected:e==="connected",isConnecting:e==="connecting",isDisconnected:e==="disconnected"}},Jne=class{constructor(t,e={}){Se(this,"canvas");Se(this,"ctx",null);Se(this,"dpr",1);Se(this,"audioContext",null);Se(this,"analyser",null);Se(this,"source",null);Se(this,"frequencyData",null);Se(this,"downsampledData",null);Se(this,"normalizedData",null);Se(this,"smoothedData",null);Se(this,"temporallySmoothedData",null);Se(this,"peakValues",null);Se(this,"prevFrameData",null);Se(this,"animationId",null);Se(this,"isPlaying",!1);Se(this,"animationTime",0);Se(this,"lastFrameTime",0);Se(this,"rotation",0);Se(this,"targetRotationSpeed",0);Se(this,"currentRotationSpeed",0);Se(this,"freqBars",[]);Se(this,"nextPulseTime",0);Se(this,"isPulsing",!1);Se(this,"pulseProgress",0);Se(this,"pulseDuration",.8);Se(this,"statusCallback",null);Se(this,"options",{width:0,height:0,color1:"rgba(0, 150, 255, 0.8)",color2:"rgba(255, 0, 150, 0.8)",backgroundColor:"transparent",sensitivity:1,rotationEnabled:!0,rotationSpeed:.05,rotationBoostFactor:15,numBars:128,barWidth:5,state:"idle",debug:!1});Se(this,"config");Se(this,"draw",t=>{if(!this.ctx){this.animationId=requestAnimationFrame(this.draw);return}const e=Math.min(Math.max((t-this.lastFrameTime)/1e3,.001),.1);this.lastFrameTime=t,this.animationTime+=e,this.options.rotationEnabled&&(this.updateRotationSpeed(e),this.rotation+=this.currentRotationSpeed*e*60);const n=this.ctx,i=this.canvas,r=i.width/this.dpr,s=i.height/this.dpr;switch(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.setTransform(1,0,0,1,0,0),n.scale(this.dpr,this.dpr),this.options.state==="audio"&&this.updateAudioPulse(),n.clearRect(0,0,r,s),this.options.backgroundColor!=="transparent"&&(n.fillStyle=this.options.backgroundColor,n.fillRect(0,0,r,s)),this.options.state){case"complete":this.drawCompleteState();break;case"thinking":this.drawThinkingState(n,i,e);break;case"audio":this.analyser&&this.frequencyData?this.drawAudioState(n,i):this.drawStaticState(n,i,e);break;case"idle":default:this.drawStaticState(n,i,e);break}this.animationId=requestAnimationFrame(this.draw)});this.canvas=t,this.ctx=t.getContext("2d"),this.options={...this.options,...e},this.options.state=this.options.state||"idle",this.config=this.generateConfig(),this.freqBars=this.createFrequencyBars(this.config.numBars),this.updateCanvasSize(),this.drawInitialState()}generateConfig(){const{sensitivity:t,numBars:e,barWidth:n,rotationSpeed:i,rotationBoostFactor:r}=this.options;return{numBars:e,barWidth:n,maxBarLength:1,minBarLength:1e-4,downsampleFactor:2,activityThreshold:.1,minGain:Math.max(.01,.25-t*.1),maxGain:1.2,dynamicRange:Math.max(.8,Math.min(2.5,t*1.2)),bassBoost:1.4,baseRadius:.3,rotationSpeed:i*.01,rotationBoostFactor:r,rotationDecayRate:1,frequencySmoothing:.6,pulseSpeed:8,pulseWidth:Math.PI*.3,maxPulseHeight:.15,listeningPulseAmount:2}}createFrequencyBars(t){const e=[];for(let n=0;n<t;n++){const i=n/t*Math.PI*2,r=n/t*360,s=[0,t*.5],o=t*.2,l=s.map(u=>{const f=Math.min(Math.abs(n-u),Math.abs(n-u-t),Math.abs(n-u+t))/(o/2);return Math.max(0,1-f)}).reduce((u,f)=>Math.max(u,f),0);e.push({angle:i,value:0,targetValue:0,hue:r,transitionWeight:l})}return e}initializeAudio(){if(this.audioContext)return this.audioContext;try{const t=window.AudioContext||window.webkitAudioContext,e=new t({latencyHint:"interactive",sampleRate:44100});this.audioContext=e;const n=e.createAnalyser();n.fftSize=1024,n.minDecibels=-110,n.maxDecibels=-30+(this.config.dynamicRange-1)*5,n.smoothingTimeConstant=.5,this.analyser=n,this.frequencyData=new Uint8Array(n.frequencyBinCount);const i=Math.ceil(n.frequencyBinCount/this.config.downsampleFactor);return this.downsampledData=new Float32Array(i),this.normalizedData=new Float32Array(i),this.smoothedData=new Float32Array(i),this.temporallySmoothedData=new Float32Array(i),e.state==="suspended"&&this.setupAutoResume(e),e}catch(t){return console.error("Failed to initialize audio context:",t),this.setStatus("Audio API not supported in this browser"),null}}setupAutoResume(t){const e=()=>{t.resume().then(()=>{document.removeEventListener("click",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",e)}).catch(n=>{console.error("Failed to resume AudioContext:",n)})};document.addEventListener("click",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",e)}setupAudioProcessingChain(t){if(!this.source||!this.analyser)return;const e=t.createBiquadFilter();e.type="peaking",e.frequency.value=2e3,e.Q.value=1,e.gain.value=3.5;const n=t.createBiquadFilter();n.type="lowshelf",n.frequency.value=300,n.gain.value=this.config.bassBoost,this.analyser.fftSize=1024,this.analyser.minDecibels=-100,this.analyser.maxDecibels=-30+(this.config.dynamicRange-1)*5,this.analyser.smoothingTimeConstant=.65,this.source.connect(e),e.connect(n),n.connect(this.analyser)}processAudioData(t){const e=this.config.downsampleFactor,n=Math.ceil(t.length/e);if((!this.downsampledData||this.downsampledData.length!==n)&&(this.downsampledData=new Float32Array(n),this.normalizedData=new Float32Array(n),this.smoothedData=new Float32Array(n),this.temporallySmoothedData=new Float32Array(n)),!this.downsampledData||!this.normalizedData)return;const i=Math.floor(4/e),r=Math.min(Math.floor(372/e),this.downsampledData.length-1);let s=0;for(let o=0;o<this.downsampledData.length;o++){const l=t[o*e]/255;this.downsampledData[o]=l;const u=o>=i&&o<=r?1:.25;this.normalizedData[o]=l*u,o>=i&&o<=r&&this.normalizedData[o]>s&&(s=this.normalizedData[o])}for(let o=0;o<this.normalizedData.length;o++)this.normalizedData[o]=Math.pow(this.normalizedData[o],.8),this.normalizedData[o]=Math.max(this.config.minGain,Math.min(this.config.maxGain,this.normalizedData[o]));if(s>.7){for(let l=0;l<this.normalizedData.length;l++)if(this.normalizedData[l]>.7){const u=this.normalizedData[l]-.7;this.normalizedData[l]=.7+u/2}}this.applyOptimizedFrequencySmoothing(),this.applyOptimizedTemporalSmoothing(),this.calculateOptimizedAudioLevels(t,i,r)}applyOptimizedFrequencySmoothing(){const t=this.normalizedData.length,e=Math.max(1,Math.floor(this.config.frequencySmoothing*3)),n=new Float32Array(t);for(let r=0;r<t;r++){let s=0,o=0;for(let l=Math.max(0,r-e);l<=Math.min(t-1,r+e);l++){const u=1-Math.abs(r-l)/(e+1);s+=this.normalizedData[l]*u,o+=u}n[r]=s/o}const i=Math.min(8,Math.floor(t*.04));for(let r=0;r<i;r++){const s=(i-r)/i,o=r,l=t-r-1;if(o<l){const u=(n[o]+n[l])/2;n[o]=n[o]*(1-s)+u*s,n[l]=n[l]*(1-s)+u*s}}this.smoothedData.set(n)}applyOptimizedTemporalSmoothing(){(!this.prevFrameData||this.prevFrameData.length!==this.smoothedData.length)&&(this.prevFrameData=new Float32Array(this.smoothedData.length),this.prevFrameData.set(this.smoothedData)),(!this.temporallySmoothedData||this.temporallySmoothedData.length!==this.smoothedData.length)&&(this.temporallySmoothedData=new Float32Array(this.smoothedData.length));const t=.3;for(let e=0;e<this.smoothedData.length;e++)this.temporallySmoothedData[e]=this.smoothedData[e]*(1-t)+this.prevFrameData[e]*t,this.prevFrameData[e]=this.temporallySmoothedData[e]}calculateOptimizedAudioLevels(t,e,n){const i=t.length,r=Math.floor(i*.2),s=Math.floor(i*.6),o=4;let l=0,u=0,f=0,p=0,g=0,v=0;for(let P=0;P<r;P+=o)l+=t[P],p++;for(let P=r;P<s;P+=o)u+=t[P],g++;for(let P=s;P<i;P+=o)f+=t[P],v++;const S=Math.max(.2,l/(p||1)/255*this.config.bassBoost),k=Math.max(.2,u/(g||1)/255),w=Math.max(.2,f/(v||1)/255),C=Math.sqrt((S*S+k*k+w*w)/3),T=C>this.config.activityThreshold,D=T?Math.min(1,Math.max(.15,Math.pow(C/.4,1.2))):.15;if(this.options.rotationEnabled)if(T){const P=Math.min(1,C)*this.config.rotationBoostFactor;this.targetRotationSpeed=this.config.rotationSpeed*(1+P)}else this.targetRotationSpeed=this.config.rotationSpeed;this.updateBarsOptimized(e,n,D,T,C,[S,k,w])}updateBarsOptimized(t,e,n,i,r,s){const o=this.freqBars.length;(!this.peakValues||this.peakValues.length!==o)&&(this.peakValues=new Float32Array(o));const l=new Array(o).fill(0);for(let u=0;u<o;u++){const f=u/o;if(f<.8){const p=Math.floor(t*1.2),g=Math.min(e,Math.floor(e*.9)),v=Math.floor(p+f*(g-p)/.8);if(this.temporallySmoothedData){const S=Math.min(this.temporallySmoothedData.length-1,Math.max(0,v));l[u]=this.temporallySmoothedData[S]*1.1}}else{const p=(f-.8)/.2,g=Math.floor(e*.6),S=Math.floor(g+p*(e-g));if(this.temporallySmoothedData){const k=Math.min(this.temporallySmoothedData.length-1,Math.max(0,S));l[u]=this.temporallySmoothedData[k]*1.4}}}this.applyEnhancedFrequencySpread(l);for(let u=0;u<o;u++){const f=this.freqBars[u],p=this.processBarValueOptimized(l[u],n,i,r,u,o,s);f.targetValue=p;const g=f.targetValue>f.value?.25:.12,v=f.targetValue-f.value;f.value+=v*g,f.value=Math.min(f.value,.9),this.peakValues[u]=f.value}}applyEnhancedFrequencySpread(t){const e=t.length,n=Math.floor(e*.15),i=[...t],r=new Array(e).fill(0);let s=0;for(let p=0;p<e;p++)r[p]=i[p],s+=i[p];const o=s/e;for(let p=0;p<e;p++)if(i[p]>.08){const g=i[p],S=p>=Math.floor(e*.6)&&p<=Math.floor(e*.9)?n*1.5:n;for(let k=1;k<=S;k++){const w=(p-k+e)%e,C=(p+k)%e;let T=1-k/S;(w>=Math.floor(e*.6)&&w<=Math.floor(e*.9)||C>=Math.floor(e*.6)&&C<=Math.floor(e*.9))&&(T=T*1.3);const P=g*T*.4;t[w]=Math.max(t[w],t[w]*.6+P*.4),t[C]=Math.max(t[C],t[C]*.6+P*.4)}}const l=2;for(let p=0;p<l;p++){const g=[...t];for(let v=0;v<e;v++){const S=v>=Math.floor(e*.55)&&v<=Math.floor(e*.95);if(S||p===0){const k=(v-1+e)%e,w=(v+1)%e,C=S?1.5:2;t[v]=(g[k]+g[v]*C+g[w])/(2+C)}}}let u=1,f=0;for(let p=0;p<e;p++)u=Math.min(u,t[p]),f=Math.max(f,t[p]);if(f>u*3&&u>0){const p=f-u;for(let g=0;g<e;g++){const v=(t[g]-u)/p,S=Math.sqrt(v)*p*.8+u*1.2;t[g]<o&&(t[g]=t[g]*.7+S*.3)}}}processBarValueOptimized(t,e,n,i,r,s,o){const l=r/s;let u=t;const[f,p,g]=o,v=l*Math.PI*2,S=.5+.5*Math.cos(v),k=.5+.5*Math.cos(v-Math.PI*.5),w=.5+.5*Math.cos(v-Math.PI),C=.5+.5*Math.cos(v-Math.PI*1.5),T=(.85+f*.7)*S*.25+(.85+p*.6)*k*.25+(.85+g*.6)*w*.25+(.85+f*.7)*C*.25;if(u=u*T*1.3,u=u*e*1.2,n&&i>.2&&(u=Math.max(u,.08*i)),this.options.state==="thinking"){const P=Math.sin(this.animationTime*.8+l*Math.PI*2)*.008,j=this.getThinkingPulseInfluence(r,s);return u=.01+P+j*.1,this.limitBarValue(u)}if(n){const D=Math.min(.04,Math.max(.01,i*.12)),P=Math.sin(this.animationTime*1.5+l*Math.PI*2)*D;u<.15?u+=P+i*.2:u+=P*.6}else{const D=Math.sin(this.animationTime*.8+l*Math.PI*2)*.002;u=Math.min(u,.01),u=.005+D}if(u=Math.min(u,.85),this.options.state==="audio"){const D=this.getAudioPulseInfluence(r,s);if(D>0){const P=Math.max(0,1-u*.8),j=D*P*.4;u=u*(1+j)+D*.05}else if(this.isPulsing&&this.pulseProgress>0){const P=r/s;let j=Math.abs(P-this.pulseProgress);j=Math.min(j,1-j);const N=1-this.pulseProgress,L=Math.max(0,1-Math.pow(j/.12,2))*N*.2;u=u*(1+L*.1)+L*.01}}return u=Math.max(.005,this.limitBarValue(u,.9)),u}drawInitialState(){if(!this.ctx)return;const t=this.ctx,e=this.canvas.width/this.dpr,n=this.canvas.height/this.dpr;t.setTransform(1,0,0,1,0,0),t.scale(this.dpr,this.dpr),t.clearRect(0,0,e,n),this.options.backgroundColor!=="transparent"&&(t.fillStyle=this.options.backgroundColor,t.fillRect(0,0,e,n))}drawThinkingState(t,e,n){const i=e.width/this.dpr,r=e.height/this.dpr,s=i/2,o=r/2,l=Math.min(i,r)*this.config.baseRadius,u=this.freqBars,f=u.length,p=.1,g=this.config.maxPulseHeight*.35,v=this.animationTime*this.config.pulseSpeed%(Math.PI*2);for(let S=0;S<f;S++){const k=u[S],w=S/f*Math.PI*2;let C=Math.abs(w-v);C=Math.min(C,Math.PI*2-C);const T=Math.max(0,1-C/(this.config.pulseWidth/2)),D=Math.pow(Math.sin(T*Math.PI/2),2)*g,P=.03*n*60,N=k.targetValue*(1-P)+p*P+D;k.targetValue=Math.min(N,this.config.maxBarLength);const B=.6*n*60,L=.4*n*60,z=k.targetValue>k.value?Math.min(1,B):Math.min(1,L),W=k.targetValue-k.value;k.value+=W*z;const J=k.angle+this.rotation;this.drawBar(t,s,o,l,k,J)}this.targetRotationSpeed=this.config.rotationSpeed}drawStaticState(t,e,n){const i=e.width/this.dpr,r=e.height/this.dpr,s=i/2,o=r/2,l=Math.min(i,r)*this.config.baseRadius;t.clearRect(0,0,i,r),this.options.backgroundColor!=="transparent"&&(t.fillStyle=this.options.backgroundColor,t.fillRect(0,0,i,r));for(let u=0;u<this.freqBars.length;u++){const f=this.freqBars[u],p=f.angle+this.rotation,S=.1+Math.sin(this.animationTime+u*.1)*.1;f.targetValue=S,f.value+=(f.targetValue-f.value)*.05*n*60,this.drawBar(t,s,o,l,f,p)}this.targetRotationSpeed=this.config.rotationSpeed}drawAudioState(t,e){const n=e.width/this.dpr,i=e.height/this.dpr,r=n/2,s=i/2,o=Math.min(n,i)*this.config.baseRadius,l=this.analyser,u=this.frequencyData;l.getByteFrequencyData(u),this.processAudioData(u);const f=this.freqBars,p=f.length;for(let g=0;g<p;g++){const v=f[g],S=v.angle+this.rotation;this.drawBar(t,r,s,o,v,S)}}drawBar(t,e,n,i,r,s){const o=this.limitBarValue(r.value);let l;const u=i*this.config.minBarLength,f=i*this.config.maxBarLength;l=u+Math.pow(o,1.4)*f,l=Math.min(l,f),l=Math.max(l,i*.003);const p=i,g=p+l,v=e+Math.cos(s)*p,S=n+Math.sin(s)*p,k=e+Math.cos(s)*g,w=n+Math.sin(s)*g,C=Math.min(1,o/.3),T=Math.pow(C,3),D=this.blendColors(this.options.color1,this.options.color2,T),P=this.config.barWidth,j=.5,B=j+(1.5-j)*Math.pow(C,2.2),L=P*B;t.beginPath(),t.moveTo(v,S),t.lineTo(k,w),t.strokeStyle=D,t.lineWidth=L,t.lineCap="round",t.stroke()}blendColors(t,e,n){const i=this.parseRGBA(t),r=this.parseRGBA(e),s=Math.round(i.r*(1-n)+r.r*n),o=Math.round(i.g*(1-n)+r.g*n),l=Math.round(i.b*(1-n)+r.b*n),u=i.a!==void 0&&r.a!==void 0?i.a*(1-n)+r.a*n:1;return u!==1?`rgba(${s}, ${o}, ${l}, ${u})`:`rgb(${s}, ${o}, ${l})`}parseRGBA(t){let e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);return e?{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10),a:e[4]?parseFloat(e[4]):void 0}:(e=t.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:(e=t.match(/#([0-9a-f])([0-9a-f])([0-9a-f])/i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:(console.warn(`Failed to parse color: ${t}, using black instead`),{r:0,g:0,b:0})))}drawCompleteState(){this.targetRotationSpeed=this.config.rotationSpeed}startVisualization(){this.animationId&&cancelAnimationFrame(this.animationId),this.isPlaying||(this.rotation=0,this.currentRotationSpeed=this.config.rotationSpeed,this.targetRotationSpeed=this.config.rotationSpeed,this.animationTime=0,this.nextPulseTime===0&&(this.nextPulseTime=1.5+this.getRandomPulseInterval())),this.freqBars.length||(this.freqBars=this.createFrequencyBars(this.config.numBars)),(!this.peakValues||this.peakValues.length!==this.config.numBars)&&(this.peakValues=new Float32Array(this.config.numBars)),this.lastFrameTime=performance.now(),this.isPlaying=!0,this.animationId=requestAnimationFrame(this.draw)}stopVisualization(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.isPlaying=!1,this.targetRotationSpeed=this.config.rotationSpeed,this.currentRotationSpeed=this.config.rotationSpeed,this.options.state==="audio"&&this.setState("idle")}connectToAudioTrack(t){const e=this.initializeAudio();if(!e||!this.analyser)return!1;try{e.resume().catch(i=>console.warn("Failed to resume audio context:",i)),this.source&&this.source.disconnect();const n=new MediaStream;return n.addTrack(t),this.source=e.createMediaStreamSource(n),this.setupAudioProcessingChain(e),this.targetRotationSpeed=this.config.rotationSpeed,this.currentRotationSpeed=this.config.rotationSpeed,this.startVisualization(),this.options.state!=="thinking"&&this.setState("audio"),this.setStatus("Audio connected"),!0}catch(n){return console.error("Error connecting audio source:",n),this.setStatus(`Error connecting audio: ${n.message}`),!1}}dispose(){this.stopVisualization(),this.source&&(this.source.disconnect(),this.source=null),this.audioContext&&(this.audioContext.close().catch(console.error),this.audioContext=null),this.frequencyData=null,this.prevFrameData=null,this.downsampledData=null,this.normalizedData=null,this.smoothedData=null,this.temporallySmoothedData=null,this.peakValues=null}updateOptions(t){const e=this.options.sensitivity,n=this.options.state,i=this.options.rotationSpeed,r=this.options.rotationBoostFactor;if(this.options={...this.options,...t},this.config=this.generateConfig(),this.isPlaying&&this.options.sensitivity!==e&&this.audioContext&&this.setupAudioProcessingChain(this.audioContext),(this.options.rotationSpeed!==i||this.options.rotationBoostFactor!==r)&&(this.targetRotationSpeed=this.config.rotationSpeed),this.options.state!==n&&this.setState(this.options.state),this.isPlaying){if(n!==this.options.state){const s=this.isPlaying;this.stopVisualization(),s&&this.options.state!=="complete"&&this.startVisualization()}}else this.drawInitialState()}setState(t){if(this.options.state===t)return;const e=this.options.state;switch(this.options.state=t,this.targetRotationSpeed=this.config.rotationSpeed,this.currentRotationSpeed=this.config.rotationSpeed,t){case"thinking":this.isPulsing=!1,this.pulseProgress=0,this.nextPulseTime=this.animationTime,this.ctx&&!this.isPlaying&&this.drawThinkingState(this.ctx,this.canvas,0);break;case"audio":this.isPulsing=!1,this.pulseProgress=0,e==="thinking"?this.nextPulseTime=this.animationTime+this.getRandomPulseInterval()+1:this.nextPulseTime=this.animationTime+1,this.audioContext&&!this.isPlaying&&(this.audioContext.resume().catch(console.error),this.startVisualization());break}this.animationId===null&&t!=="idle"&&this.startVisualization()}updateCanvasSize(t,e){t!==void 0&&(this.options.width=t),e!==void 0&&(this.options.height=e);const n=this.getSize();this.dpr=window.devicePixelRatio||1,this.canvas.width=n.width*this.dpr,this.canvas.height=n.height*this.dpr,this.canvas.style.width=`${n.width}px`,this.canvas.style.height=`${n.height}px`,this.ctx&&(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(this.dpr,this.dpr)),!this.isPlaying&&this.ctx&&this.drawInitialState()}getSize(){if(this.options.width&&this.options.height)return{width:this.options.width,height:this.options.height};const t=window.innerWidth,e=window.innerHeight,n=Math.min(t*.95,e*.7,400);return{width:n,height:n}}setStatusCallback(t){this.statusCallback=t}setStatus(t){this.statusCallback&&this.statusCallback(t)}updateAudioPulse(){const t=this.animationTime;this.nextPulseTime===0&&(this.nextPulseTime=t+this.getRandomPulseInterval()),this.isPulsing?(this.pulseProgress+=.016/this.pulseDuration,this.pulseProgress>=1&&(this.isPulsing=!1,this.pulseProgress=0,this.nextPulseTime=t+this.getRandomPulseInterval())):t>=this.nextPulseTime&&(this.isPulsing=!0,this.pulseProgress=0)}getRandomPulseInterval(){return 3+Math.random()*5}updateRotationSpeed(t){if((this.options.state!=="audio"||!this.analyser)&&(this.targetRotationSpeed=this.config.rotationSpeed,this.options.state!=="audio")){this.currentRotationSpeed=this.config.rotationSpeed;return}if(this.options.state==="audio"&&this.analyser&&this.frequencyData){let e=0;const n=Math.min(50,this.frequencyData.length);for(let s=0;s<n;s++)e+=this.frequencyData[s];const i=e/n/255,r=i>=.05;if(r){const s=Math.min(1,i*2),o=this.config.rotationBoostFactor*s;this.targetRotationSpeed=this.config.rotationSpeed*(1+o);const l=10,u=this.targetRotationSpeed-this.currentRotationSpeed;u>0&&(this.currentRotationSpeed+=u*Math.min(1,l*t))}else{this.targetRotationSpeed=this.config.rotationSpeed;const s=this.config.rotationDecayRate,o=this.targetRotationSpeed-this.currentRotationSpeed;o<0&&(this.currentRotationSpeed+=o*Math.min(1,s*t))}this.options.debug&&Math.random()<.01&&console.log(`Rotation: current=${this.currentRotationSpeed.toFixed(4)}, target=${this.targetRotationSpeed.toFixed(4)}, audio=${r?"active":"inactive"}`)}}limitBarValue(t,e=this.config.maxBarLength){return Math.min(t,e)}getAudioPulseInfluence(t,e){if(!this.isPulsing||this.config.listeningPulseAmount<=0)return 0;const n=t/e,i=this.pulseProgress;let r=Math.abs(n-i);r=Math.min(r,1-r);const o=Math.max(0,1-Math.pow(r/.15,2)),l=Math.sin(this.pulseProgress*Math.PI)*o,u=Math.min(1,this.pulseProgress*4);return l*this.config.listeningPulseAmount*u}getThinkingPulseInfluence(t,e){const n=t/e,i=this.animationTime*.4%1;let r=Math.abs(n-i);r=Math.min(r,1-r);const l=Math.max(0,1-Math.pow(r/.12,2))*this.config.maxPulseHeight*.35;return this.limitBarValue(l)}},iB=({size:t,audioTrack:e=null,isThinking:n=!1,className:i="",color1:r="#00D3F2",color2:s="#E12AFB",backgroundColor:o="transparent",sensitivity:l=1,rotationEnabled:u=!0,numBars:f=64,barWidth:p=4,debug:g=!1})=>{const v=M.useRef(null),S=M.useRef(null),k=M.useRef(null),w=M.useCallback(()=>{if(t)return{width:t,height:t};let P=window.innerWidth,j=window.innerHeight;if(S.current){const L=S.current.getBoundingClientRect();P=L.width,j=L.height}const B=Math.min(P,j);return{width:B,height:B}},[t]),C=M.useCallback(()=>n?"thinking":e?"audio":"idle",[n,e]),T=M.useCallback(()=>{if(!v.current)return;const P=v.current,{width:j,height:N}=w(),B={width:j,height:N,state:"idle",color1:r,color2:s,backgroundColor:o,sensitivity:l,rotationEnabled:u,numBars:f,barWidth:p,debug:g},L=new Jne(P,B);k.current=L,setTimeout(()=>{L.startVisualization();const z=C();L.setState(z)},100)},[w,r,s,o,l,u,f,p,g,C]),D=M.useCallback(()=>{!k.current||!e||k.current.connectToAudioTrack(e)},[e]);return M.useEffect(()=>{if(!S.current)return;const P=()=>{if(!k.current||!v.current)return;const{width:N,height:B}=w();k.current.updateCanvasSize(N,B)},j=new ResizeObserver(()=>{P()});return j.observe(S.current),()=>{j.disconnect()}},[w]),M.useEffect(()=>{T()},[T]),M.useEffect(()=>{e&&k.current&&D()},[e,D]),M.useEffect(()=>{if(!k.current)return;const P=C();k.current.setState(P)},[n,e,C]),M.useEffect(()=>{k.current&&k.current.updateOptions({color1:r,color2:s,backgroundColor:o,sensitivity:l,rotationEnabled:u,numBars:f,barWidth:p,debug:g})},[r,s,o,l,u,f,p,g]),M.useEffect(()=>()=>{k.current&&k.current.dispose()},[]),E.jsx("div",{ref:S,className:_e("circular-waveform-container w-full h-full flex items-center justify-center",i),style:{position:"relative"},children:E.jsx("canvas",{ref:v,className:"circular-waveform-canvas"})})};iB.displayName="CircularWaveform";var gx=un.memo(({backgroundColor:t="transparent",barColor:e="black",noPeaks:n=!0,peakLineColor:i="red",peakLineSpeed:r=.2,peakLineThickness:s=2,peakOffset:o=0,peakFadeSpeed:l=.02,barCount:u=5,barGap:f=12,barLineCap:p="round",barMaxHeight:g=120,barOrigin:v="center",barWidth:S=30,participantType:k,className:w})=>{const C=M.useRef(null),T=M.useRef("black"),D=M.useRef("black");M.useEffect(()=>{function j(N){return N?N==="currentColor"?C.current&&getComputedStyle(C.current).color||"black":N.startsWith("--")?getComputedStyle(document.documentElement).getPropertyValue(N).trim()||"black":N:"black"}T.current=j(e),D.current=j(i)},[e,i,w]);const P=Hl("audio",k);return M.useEffect(()=>{if(!C.current)return;const j=u*S+(u-1)*f,N=g,B=C.current,L=2,z=()=>{B.width=j*L,B.height=N*L,B.style.width=`${j}px`,B.style.height=`${N}px`,W.lineCap=p,W.scale(L,L)},W=B.getContext("2d");if(z(),!P)return;const J=new AudioContext,Z=J.createMediaStreamSource(new MediaStream([P])),re=J.createAnalyser();re.fftSize=1024,Z.connect(re);const ye=new Uint8Array(re.frequencyBinCount);W.lineCap=p;const ue=Array.from({length:u},(se,we)=>{const V=u>20?200:80,Q=1e4,h=2595*Math.log10(1+V/700),_=(2595*Math.log10(1+Q/700)-h)/u,O=h+we*_,A=700*(Math.pow(10,O/2595)-1),I=700*(Math.pow(10,(O+_)/2595)-1),F={startFreq:A,endFreq:I,smoothValue:0};return n||(F.peakValue=0,F.peakOpacity=0),F}),he=se=>{const we=J.sampleRate/2;return Math.round(se/we*(re.frequencyBinCount-1))};function H(){re.getByteFrequencyData(ye),W.clearRect(0,0,B.width/L,B.height/L),W.fillStyle=t,W.fillRect(0,0,B.width/L,B.height/L);let se=!1;const we=ue.length*S+(ue.length-1)*f,V=(B.width/L-we)/2,Q=S/2,h=T.current;ue.forEach((b,_)=>{const O=he(b.startFreq),A=he(b.endFreq),I=ye.slice(O,A),F=I.reduce((Pe,We)=>Pe+We,0)/I.length,U=.2,K=.5;if(F<1?b.smoothValue=Math.max(b.smoothValue-U*5,0):(b.smoothValue=b.smoothValue+(F-b.smoothValue)*U,se=!0),!n&&b.peakValue!==void 0&&b.peakOpacity!==void 0)if(b.smoothValue>b.peakValue)b.peakValue=b.smoothValue,b.peakOpacity=1;else{const Pe=r;b.peakValue=Math.max(b.peakValue-Pe*5,b.smoothValue),b.smoothValue<=K&&(b.peakOpacity=Math.max(0,b.peakOpacity-l))}const oe=V+_*(S+f),pe=0,Te=Math.max(pe,Math.min(b.smoothValue/255*g,g));let qe,ot;const Ae=B.height/L;switch(v){case"top":qe=Q,ot=Math.min(Q+Te,Ae-Q);break;case"bottom":ot=Ae-Q,qe=Math.max(ot-Te,Q);break;case"center":default:qe=Math.max(Ae/2-Te/2,Q),ot=Math.min(Ae/2+Te/2,Ae-Q);break}if(b.smoothValue>0?(W.beginPath(),W.moveTo(oe+S/2,qe),W.lineTo(oe+S/2,ot),W.lineWidth=S,W.strokeStyle=h,W.stroke()):te(Q,h,oe,qe),!n&&b.peakValue!==void 0&&b.peakOpacity!==void 0&&(b.peakValue>0||o>0&&b.peakOpacity>0)){const Pe=Math.max(pe,Math.min(b.peakValue/255*g,g));let We;switch(v){case"top":We=Q+Pe;break;case"bottom":We=Ae-Q-Pe;break;case"center":default:We=Ae/2-Pe/2;break}const qt=p==="round"||p==="square"?S/2:0,Ft=(()=>{switch(v){case"top":return ot+qt;case"bottom":return qe-qt;case"center":default:return qe-qt}})();if(v==="top"){const zt=Ft+o;We=Math.max(We,zt)}else{const zt=Ft-o;We=Math.min(We,zt)}const an=W.lineCap,pn=W.globalAlpha;W.lineCap="butt",W.globalAlpha=b.peakOpacity,W.beginPath(),W.moveTo(oe,We),W.lineTo(oe+S,We),W.lineWidth=s,W.strokeStyle=D.current,W.stroke(),W.lineCap=an,W.globalAlpha=pn}}),se||Y(Q,h),requestAnimationFrame(H)}function te(se,we,V,Q){switch(p){case"square":W.fillStyle=we,W.fillRect(V+S/2-se,Q-se,se*2,se*2);break;case"round":default:W.beginPath(),W.arc(V+S/2,Q,se,0,2*Math.PI),W.fillStyle=we,W.fill(),W.closePath();break}}function Y(se,we){const V=ue.length*S+(ue.length-1)*f,Q=(B.width/L-V)/2,h=B.height/L;let b;switch(v){case"top":b=se;break;case"bottom":b=h-se;break;case"center":default:b=h/2;break}ue.forEach((_,O)=>{const A=Q+O*(S+f);te(se,we,A,b)})}return H(),window.addEventListener("resize",z),()=>{J.close(),window.removeEventListener("resize",z)}},[t,u,f,p,g,v,S,P,e,n,r,s,o,l]),E.jsx("canvas",{ref:C,style:{display:"block",width:"100%",height:"100%"},className:w})});gx.displayName="VoiceVisualizer";var XR="flex-1 w-full z-10 justify-start",Yne=({variant:t="secondary",size:e="md",classNames:n={},buttonProps:i={},dropdownButtonProps:r={},deviceDropDownProps:s={},noDevicePicker:o=!1,noVisualizer:l=!1,visualizerProps:u={},isMicEnabled:f=!1,state:p,availableMics:g,selectedMic:v,updateMic:S,noAudio:k,noAudioText:w="Audio disabled",noIcon:C=!1,activeText:T,inactiveText:D,children:P,onClick:j})=>{var B;let N;if(k||i!=null&&i.isLoading)N=E.jsx(Un,{variant:t,size:e,...i,disabled:!0,className:_e(XR,(i==null?void 0:i.isLoading)&&"justify-center",n.button),children:!(i!=null&&i.isLoading)&&E.jsxs(E.Fragment,{children:[!C&&E.jsx(P_,{}),w&&E.jsx("span",{className:"flex-1",children:w}),P]})});else{const L=p||(f?"default":"inactive");N=E.jsxs(E.Fragment,{children:[E.jsxs(Un,{onClick:j,variant:t,state:L,size:e,...i,className:_e(XR,!o&&"rounded-e-none",n.button),children:[!C&&(f?E.jsx(fN,{}):E.jsx(P_,{})),L==="inactive"&&D?E.jsx("span",{className:_e("flex-1",n.inactiveText),children:D}):null,L!=="inactive"&&T?E.jsx("span",{className:_e("flex-1 ",n.activeText),children:T}):null,P,!l&&E.jsx(gx,{participantType:"local",backgroundColor:"transparent",barCount:10,barGap:2,barMaxHeight:e==="lg"?24:e==="xl"?36:20,barOrigin:"center",barWidth:3,barColor:"currentColor",className:_e("mx-auto",(B=nne[t||"primary"])==null?void 0:B[L]),...u})]}),!o&&E.jsx(tB,{menuLabel:"Microphone device",availableDevices:g,selectedDevice:v,updateDevice:S,classNames:{dropdownMenuContent:n.dropdownMenuContent,dropdownMenuCheckboxItem:n.dropdownMenuCheckboxItem},...s,children:E.jsx(Un,{className:_e("flex-none z-0 rounded-s-none border-l-0",n.dropdownMenuTrigger),variant:t,size:e,isIcon:!0,...r,children:E.jsx(fS,{size:16})})})]})}return E.jsx(W3,{className:_e(t!=="outline"&&"gap-[1px]"),children:N})},Kne=({buttonProps:t,...e})=>{const{availableMics:n,selectedMic:i,updateMic:r}=dS(),s=nc(),o=s==="disconnected"||s==="initializing";return E.jsx(UV,{children:({isMicEnabled:l,onClick:u})=>E.jsx(Yne,{onClick:u,isMicEnabled:l,availableMics:n,selectedMic:i,updateMic:r,state:l?"default":"inactive",buttonProps:{isLoading:o,...t},...e})})},rB=Kne,Xne=({label:t="Audio Output",placeholder:e="Select a speaker",guide:n,availableDevices:i,selectedDevice:r,updateDevice:s,className:o,classNames:l,selectProps:u,contentProps:f,...p})=>{const g=(r==null?void 0:r.deviceId)??"",v=M.useId();return E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("label",{htmlFor:v,className:"text-sm font-medium text-muted-foreground whitespace-nowrap flex-1",children:t}),E.jsxs(kne,{value:g,onValueChange:S=>s==null?void 0:s(S),...u,children:[E.jsxs(Mne,{id:v,className:_e(l==null?void 0:l.selectTrigger,o),variant:"ghost",...p,children:[n?E.jsx(Ene,{children:n}):null,E.jsx(Cne,{placeholder:e})]}),E.jsx(Tne,{className:_e(l==null?void 0:l.selectContent),align:"end",...f,children:i==null?void 0:i.map(S=>E.jsx(Ane,{value:S.deviceId||"empty",className:_e(l==null?void 0:l.selectItem),children:S.label||`Speaker ${S.deviceId.slice(0,5)}`},S.deviceId||"empty"))})]})]})},Qne=t=>{const{availableSpeakers:e,selectedSpeaker:n,updateSpeaker:i}=dS();return E.jsx(Xne,{availableDevices:e,selectedDevice:n,updateDevice:i,...t})},sB=Qne,Zne={resolvedTheme:"light",theme:"system",setTheme:()=>null},aB=M.createContext(Zne),eie=()=>{const t=M.useContext(aB);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},tie=({variant:t="secondary",size:e="md",classNames:n={},buttonProps:i={},noScreen:r=!1,screenProps:s={},isScreenEnabled:o=!1,state:l,noScreenText:u="Screen sharing disabled",noIcon:f=!1,activeText:p,inactiveText:g,children:v,onClick:S})=>{const k=l||(o?"active":"inactive"),w=()=>i!=null&&i.isLoading?E.jsx(E.Fragment,{children:!(i!=null&&i.isLoading)&&E.jsxs(E.Fragment,{children:[!f&&E.jsx(QT,{}),u&&E.jsx("span",{className:"flex-1",children:u}),v]})}):E.jsxs(E.Fragment,{children:[!f&&(o?E.jsx(A7,{}):E.jsx(QT,{})),!r&&k==="inactive"&&g?E.jsx("span",{className:_e("flex-1",n.inactiveText),children:g}):null,!r&&k!=="inactive"&&p?E.jsx("span",{className:_e("flex-1",n.activeText),children:p}):null,v]});return E.jsxs("div",{className:_e("relative",{"aspect-video bg-primary rounded-md":!r},n.container),children:[!r&&E.jsxs(E.Fragment,{children:[E.jsx(dg,{className:_e("rounded-md w-full h-full object-cover aspect-video",{hidden:!o},n.screen),participant:"local",trackType:"screenVideo",...s}),(i==null?void 0:i.isLoading)&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx(fg,{className:"animate-spin",size:24})})]}),E.jsx("div",{className:_e({"absolute bottom-2 left-2":!r}),children:E.jsx(Un,{className:_e({"w-fit! hover:opacity-100! hover:bg-muted hover:text-muted-foreground":!r,"flex-1 w-full z-10":r,"bg-active text-active-foreground":o},n.button),variant:t,size:e,state:k,onClick:i!=null&&i.isLoading?void 0:S,isIcon:!r,disabled:(i==null?void 0:i.disabled)||(i==null?void 0:i.isLoading),...i,children:w()})})]})},nie=t=>{const{isConnected:e}=Gne();return E.jsx(HV,{children:({isScreenShareEnabled:n,onClick:i})=>E.jsx(E.Fragment,{children:E.jsx(tie,{isScreenEnabled:n,noScreen:!n,onClick:i,...t,buttonProps:{disabled:!e,...t.buttonProps}})})})},oB=nie,iie=({variant:t="secondary",size:e="md",classNames:n={},buttonProps:i={},dropdownButtonProps:r={},deviceDropDownProps:s={},noDevicePicker:o=!1,noVideo:l=!1,videoProps:u={},isCamEnabled:f=!1,state:p,availableCams:g=[],selectedCam:v,updateCam:S,noVideoText:k="Video disabled",noIcon:w=!1,activeText:C,inactiveText:T,children:D,onClick:P})=>{const j=p||(f?"active":"inactive"),N=()=>i!=null&&i.isLoading?E.jsx(E.Fragment,{children:!(i!=null&&i.isLoading)&&E.jsxs(E.Fragment,{children:[!w&&E.jsx(N_,{}),k&&E.jsx("span",{className:"flex-1",children:k}),D]})}):E.jsxs(E.Fragment,{children:[!w&&(f?E.jsx(z7,{}):E.jsx(N_,{})),!l&&j==="inactive"&&T?E.jsx("span",{className:_e("flex-1",n.inactiveText),children:T}):null,!l&&j!=="inactive"&&C?E.jsx("span",{className:_e("flex-1",n.activeText),children:C}):null,D]});return E.jsxs("div",{className:_e("relative",{"aspect-video bg-primary rounded-md":!l},n.container),children:[!l&&E.jsxs(E.Fragment,{children:[E.jsx(dg,{className:_e("rounded-md w-full h-full object-cover aspect-video",{hidden:!f},n.video),participant:"local",...u}),(i==null?void 0:i.isLoading)&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx(fg,{className:"animate-spin",size:24})})]}),E.jsx("div",{className:_e({"absolute bottom-2 left-2":!l},n.buttongroupWrapper),children:E.jsxs(W3,{className:_e(t!=="outline"&&"gap-[1px]",n.buttongroup),children:[E.jsx(Un,{className:_e({"w-fit! hover:opacity-100! hover:bg-muted hover:text-muted-foreground":!l,"flex-1 w-full z-10":l,"rounded-e-none":l&&!o,"bg-active text-active-foreground":f},n.button),variant:t,size:e,state:j,onClick:i!=null&&i.isLoading?void 0:P,isIcon:!l,disabled:i==null?void 0:i.isLoading,...i,children:N()}),!o&&E.jsx(tB,{availableDevices:g,selectedDevice:v,updateDevice:S,classNames:{dropdownMenuCheckboxItem:n.dropdownMenuCheckboxItem,dropdownMenuContent:n.dropdownMenuContent},menuLabel:"Camera device",...s,children:E.jsx(Un,{className:_e({"hover:opacity-100! hover:bg-primary hover:text-primary-foreground":!l,"flex-none z-0 rounded-s-none border-l-0":l},n.dropdownMenuTrigger),variant:t,size:e,isIcon:!0,disabled:i==null?void 0:i.isLoading,...r,children:E.jsx(fS,{size:l?16:12})})})]})})]})},rie=({buttonProps:t,...e})=>{const{availableCams:n,selectedCam:i,updateCam:r}=dS(),s=nc(),o=s==="disconnected"||s==="initializing";return E.jsx(zV,{children:({isCamEnabled:l,onClick:u})=>E.jsx(iie,{isCamEnabled:l,onClick:u,availableCams:n,selectedCam:i,updateCam:r,state:o||l?"default":"inactive",buttonProps:{isLoading:o,...t},...e})})},cB=rie,q0=10,QR=({className:t,collapsed:e=!1})=>{const n=Hl("audio","bot"),[i,r]=M.useState(48),[s,o]=M.useState(4),l=M.useRef(null);return M.useEffect(()=>{if(!l.current)return;const u=new ResizeObserver(f=>{for(const p of f){const{width:g,height:v}=p.contentRect,k=240/(2*q0-1),w=240/(16/9),C=Math.max(Math.min(g/(q0*2),k),2),T=Math.max(Math.min(v,w),20);r(T),o(C)}});return u.observe(l.current),()=>{u.disconnect()}},[]),E.jsxs(mf,{className:_e("flex-1 mt-auto",{"flex-0 border-none":e},t),children:[!e&&E.jsx(Io,{children:E.jsx(_l,{children:"Bot Audio"})}),E.jsx(Bo,{className:_e("overflow-hidden flex-1",{"aspect-video":e}),children:E.jsx("div",{ref:l,className:"relative flex h-full overflow-hidden",children:n?E.jsx("div",{className:"m-auto",children:E.jsx(gx,{participantType:"bot",backgroundColor:"transparent",barColor:"--color-agent",barCount:q0,barGap:s,barLineCap:"square",barMaxHeight:i,barOrigin:"bottom",barWidth:s})}):E.jsxs("div",{className:"text-subtle flex w-full gap-2 items-center justify-center",children:[E.jsx(P_,{size:16}),!e&&E.jsx("span",{className:"font-semibold text-sm",children:"No audio"})]})})})]})},ZR=({className:t,collapsed:e=!1})=>{const n=Hl("video","bot");return E.jsxs(mf,{className:_e("flex-1 mb-auto",{"flex-0 border-none":e},t),children:[!e&&E.jsx(Io,{children:E.jsx(_l,{children:"Bot Video"})}),E.jsx(Bo,{className:_e("overflow-hidden flex-1",{"aspect-video":e}),children:n?E.jsx("div",{className:_e("relative flex h-full bg-muted rounded-sm",{"aspect-video":e}),children:E.jsx(dg,{participant:"bot",className:"aspect-video max-h-full",fit:"contain"})}):E.jsxs("div",{className:"text-subtle flex w-full h-full gap-2 items-center justify-center",children:[E.jsx(N_,{size:16}),!e&&E.jsx("span",{className:"font-semibold text-sm",children:"No video"})]})})]})};Yg.register(Tw,Aw,im,vd,Ote,Bte,Tte);var sie=({chartOptions:t={},classNames:e={},ignoreProcessorNames:n=[],noPromptTokens:i=!1,noCompletionTokens:r=!1,noTotalTokens:s=!1})=>{const[o,l]=M.useState({}),[u,f]=M.useState({}),p=nc();je(fe.Connected,()=>{l({}),f({completion_tokens:0,prompt_tokens:0,total_tokens:0})}),je(fe.Metrics,N=>{if(N!=null&&N.ttfb&&Array.isArray(N.ttfb)){const L=new Date().toISOString();l(z=>{const W={...z};return(N.ttfb??[]).forEach(J=>{const{processor:Z,value:re}=J;if(n.includes(Z))return;W[Z]||(W[Z]=[]);const ye=[...W[Z],{timestamp:L,value:re}].slice(-100);W[Z]=ye}),W})}const B=N==null?void 0:N.tokens;if(B&&Array.isArray(B)&&B.length>0){const L=B[0];f(z=>({completion_tokens:z.completion_tokens+(r?0:L.completion_tokens||0),prompt_tokens:z.prompt_tokens+(i?0:L.prompt_tokens||0),total_tokens:z.total_tokens+(s?0:L.total_tokens||0)}))}});const g=(N,B)=>({labels:B.map(L=>{const z=new Date(L.timestamp);return`${z.getHours()}:${z.getMinutes()}:${z.getSeconds()}.${z.getMilliseconds()}`}),datasets:[{label:`TTFB (${N})`,data:B.map(L=>L.value*1e3),borderColor:v(N),backgroundColor:v(N,.2),tension:.4}]}),v=(N,B=1)=>{const L=N.split("").reduce((W,J)=>J.charCodeAt(0)+((W<<5)-W),0);return`hsla(${Math.abs(L)%360}, 70%, 50%, ${B})`},S={responsive:!0,maintainAspectRatio:!1,scales:{y:{title:{display:!0,text:"Time (ms)"},beginAtZero:!0},x:{title:{display:!0,text:"Time"},ticks:{maxRotation:0,autoSkip:!0,maxTicksLimit:10}}},plugins:{tooltip:{callbacks:{label:function(N){return`${N.dataset.label}: ${N.parsed.y.toFixed(2)} ms`}}}},...t},k=p==="authenticating"||p==="connecting",w=p==="connected"||p==="ready",C=Object.keys(u).length>0,T=Object.keys(o).length>0,D=_e("bg-card rounded-md p-3 shadow-sm",e.tokenCard),P=_e("text-sm text-muted-foreground",e.tokenType),j=_e("text-2xl font-medium",e.tokenValue);return T||C?E.jsxs("div",{className:_e("@container/metrics grid gap-6 items-start p-4 max-h-full overflow-auto",e.container),children:[C&&E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:_e("text-xl font-semibold",e.heading),children:"Token Usage"}),E.jsxs("div",{className:_e("grid grid-cols-1 @xl/metrics:grid-cols-2 @3xl/metrics:grid-cols-3 gap-4",e.tokenContainer),children:[!i&&E.jsxs("div",{className:D,children:[E.jsx("div",{className:P,children:"Prompt Tokens"}),E.jsx("div",{className:j,children:u.prompt_tokens})]}),!r&&E.jsxs("div",{className:D,children:[E.jsx("div",{className:P,children:"Completion Tokens"}),E.jsx("div",{className:j,children:u.completion_tokens})]}),!s&&E.jsxs("div",{className:D,children:[E.jsx("div",{className:P,children:"Total Tokens"}),E.jsx("div",{className:j,children:u.total_tokens})]})]})]}),T&&E.jsxs(E.Fragment,{children:[E.jsx("h2",{className:_e("text-xl font-semibold",e.heading),children:"TTFB Metrics"}),E.jsx("div",{className:_e("grid grid-cols-1 @xl/metrics:grid-cols-2 @3xl/metrics:grid-cols-3 gap-4",e.metricsContainer),children:Object.entries(o).map(([N,B])=>E.jsxs("div",{className:_e("bg-card border rounded-lg shadow-sm p-3 h-60",e.metricsCard),children:[E.jsx("h3",{className:_e("mb-2",e.metricsTitle),children:N}),E.jsx("div",{className:_e("h-44",e.metricsChart),children:E.jsx(Qte,{data:g(N,B),options:S})})]},N))})]})]}):k?E.jsx("div",{className:_e("flex items-center justify-center h-full text-muted-foreground text-sm",e.container),children:"Connecting to agent..."}):w?E.jsx("div",{className:_e("flex items-center justify-center h-full text-muted-foreground text-sm",e.container),children:"Waiting for metrics data..."}):E.jsx("div",{className:_e("flex items-center justify-center h-full text-muted-foreground text-center",e.container),children:E.jsxs("div",{className:"p-4",children:[E.jsx("div",{className:"mb-2",children:"Not connected to agent"}),E.jsx("p",{className:"text-sm max-w-md",children:"Connect to an agent to view metrics in real-time."})]})})},aie=M.memo(({conversationElementProps:t,noConversation:e=!1,noMetrics:n=!1,noTextModeToggle:i=!1,textMode:r="llm"})=>{const s=e?"metrics":"conversation",[o,l]=M.useState(r);return E.jsx(K3,{className:"h-full",defaultValue:s,children:E.jsxs(mf,{className:"h-full max-sm:border-none",children:[E.jsxs(Io,{variant:"noPadding",className:"p-1.5 relative",children:[E.jsxs(X3,{children:[!e&&E.jsxs(ll,{value:"conversation",children:[E.jsx(dN,{size:20}),"Conversation"]}),!n&&E.jsxs(ll,{value:"metrics",children:[E.jsx(n7,{size:20}),"Metrics"]})]}),!i&&E.jsx(Un,{className:"absolute right-1.5 top-1/2 -translate-y-1/2",variant:"ghost",isIcon:!0,onClick:()=>l(o==="tts"?"llm":"tts"),children:o==="tts"?"TTS":"LLM"})]}),E.jsxs(Bo,{className:"p-0! overflow-hidden h-full",children:[!e&&E.jsx(ul,{value:"conversation",className:"overflow-hidden h-full",children:E.jsx(Vne,{...t,textMode:o})}),!n&&E.jsx(ul,{value:"metrics",className:"h-full",children:E.jsx(sie,{})})]})]})})}),eD=aie,tD=({collapsed:t=!1})=>{const e=tc(),[n,i]=M.useState([]),r=M.useRef(null),s=M.useRef(!0),o=M.useCallback(v=>{r.current&&(s.current=Math.ceil(r.current.scrollHeight-r.current.scrollTop)<=Math.ceil(r.current.clientHeight)),i(S=>[...S,v])},[]),l=nc(),u=M.useRef("");M.useEffect(()=>{l!==u.current&&(o({event:"transportState",message:`Transport state changed: ${l}`,time:new Date().toLocaleTimeString()}),u.current=l)},[o,l]),M.useEffect(()=>{e&&o({event:"initialized",message:`RTVI Client initialized (version ${e.version})`,time:new Date().toLocaleTimeString()})},[o,e]),je(fe.BotConnected,v=>{o({event:fe.BotConnected,message:`Bot connected: ${v.id}`,time:new Date().toLocaleTimeString()})}),je(fe.BotDisconnected,v=>{o({event:fe.BotDisconnected,message:`Bot disconnected: ${v.id}`,time:new Date().toLocaleTimeString()})}),je(fe.BotReady,v=>{o({event:fe.BotReady,message:`Bot ready (v${v.version}): ${JSON.stringify(v.about??{})}`,time:new Date().toLocaleTimeString()})}),je(fe.BotStartedSpeaking,()=>{o({event:fe.BotStartedSpeaking,message:"Bot started speaking",time:new Date().toLocaleTimeString()})}),je(fe.BotStoppedSpeaking,()=>{o({event:fe.BotStoppedSpeaking,message:"Bot stopped speaking",time:new Date().toLocaleTimeString()})}),je(fe.Connected,()=>{o({event:fe.Connected,message:"Client connected",time:new Date().toLocaleTimeString()})}),je(fe.Disconnected,()=>{o({event:fe.Disconnected,message:"Client disconnected",time:new Date().toLocaleTimeString()})}),je(fe.Error,v=>{o({event:fe.Error,message:`Error: ${JSON.stringify(v)}`,time:new Date().toLocaleTimeString()})}),je(fe.ParticipantConnected,v=>{o({event:fe.ParticipantConnected,message:`Participant connected: ${v.id}`,time:new Date().toLocaleTimeString()})}),je(fe.ParticipantLeft,v=>{o({event:fe.ParticipantLeft,message:`Participant left: ${v.id}`,time:new Date().toLocaleTimeString()})}),je(fe.ServerMessage,v=>{o({event:fe.ServerMessage,message:`Server message: ${JSON.stringify(v)}`,time:new Date().toLocaleTimeString()})}),je(fe.TrackStarted,(v,S)=>{o({event:fe.TrackStarted,message:`Track started: ${v.kind} for participant ${S==null?void 0:S.id}`,time:new Date().toLocaleTimeString()})}),je(fe.TrackStopped,(v,S)=>{o({event:fe.TrackStopped,message:`Track stopped: ${v.kind} for participant ${S==null?void 0:S.id}`,time:new Date().toLocaleTimeString()})}),je(fe.ScreenTrackStarted,(v,S)=>{o({event:fe.ScreenTrackStarted,message:`Screen track started: ${v.kind} for participant ${S==null?void 0:S.id}`,time:new Date().toLocaleTimeString()})}),je(fe.ScreenTrackStopped,(v,S)=>{o({event:fe.ScreenTrackStopped,message:`Screen track stopped: ${v.kind} for participant ${S==null?void 0:S.id}`,time:new Date().toLocaleTimeString()})}),je(fe.UserStartedSpeaking,()=>{o({event:fe.UserStartedSpeaking,message:"User started speaking",time:new Date().toLocaleTimeString()})}),je(fe.UserStoppedSpeaking,()=>{o({event:fe.UserStoppedSpeaking,message:"User stopped speaking",time:new Date().toLocaleTimeString()})}),M.useEffect(()=>{r.current&&s.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"instant"})},[n]);const[f,p]=M.useState(""),g=n.filter(v=>v.event.toString().toLowerCase().includes(f)||v.message.toLowerCase().includes(f));return E.jsxs(mf,{className:_e("bg-accent dark:bg-accent/50 h-full rounded-none! max-sm:border-none sm:border-x-0 sm:mt-2",{"bg-accent opacity-50":t}),children:[E.jsxs(Io,{className:_e("gap-4 justify-start items-center @md:py-2 bg-background",{"py-2!":t}),children:[E.jsx(_l,{children:"Events"}),!t&&E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:E.jsx(b7,{size:16})}),E.jsx(vne,{type:"text",placeholder:"Filter",className:"bg-secondary max-w-48 ps-8",onChange:v=>{p(v.target.value.toLowerCase())}})]})]}),!t&&E.jsx(Bo,{ref:r,className:"overflow-y-auto",children:E.jsx("div",{className:"grid grid-cols-[min-content_min-content_1fr] gap-x-4 gap-y-2 items-center font-mono text-xs",children:g.map((v,S)=>E.jsxs(M.Fragment,{children:[E.jsx("div",{className:"text-xs text-muted-foreground text-nowrap",children:v.time}),E.jsx("div",{className:"font-semibold",children:v.event}),E.jsx("div",{children:v.message})]},S))})})]})},nD=({noAudioOutput:t=!1,noSessionInfo:e=!1,noStatusInfo:n=!1,noUserAudio:i=!1,noUserVideo:r=!1,noScreenControl:s=!1,participantId:o,sessionId:l})=>{const u=t&&i&&r&&s,f=n&&u&&e,{isCamEnabled:p}=uS();return f?null:E.jsxs(mf,{className:"h-full overflow-y-auto overflow-x-hidden",children:[!n&&E.jsxs(E.Fragment,{children:[E.jsx(Io,{variant:"inline",children:E.jsx(_l,{children:"Status"})}),E.jsx(Bo,{children:E.jsx(V3,{})})]}),!u&&E.jsxs(E.Fragment,{children:[E.jsx(Io,{className:"border-t border-t-border",variant:"inline",children:E.jsx(_l,{children:"Devices"})}),E.jsxs(Bo,{children:[!i&&E.jsx(rB,{}),!r&&E.jsx(cB,{noVideo:!p}),!s&&E.jsx(oB,{}),!t&&E.jsx(sB,{})]})]}),!e&&E.jsxs(E.Fragment,{children:[E.jsx(Io,{className:"border-t border-t-border",variant:"inline",children:E.jsx(_l,{children:"Session"})}),E.jsx(Bo,{children:E.jsx(nB,{sessionId:l,participantId:o})})]})]})};function oie({children:t,defaultTheme:e="system",storageKey:n="voice-ui-kit-theme",disableStorage:i=!1,...r}){const[s,o]=M.useState(()=>typeof window<"u"&&!i&&localStorage.getItem(n)||e),[l,u]=M.useState(!1),[f,p]=M.useState(()=>typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);M.useEffect(()=>{u(!0)},[]),M.useEffect(()=>{if(!l||s!=="system")return;const w=window.matchMedia("(prefers-color-scheme: dark)"),C=D=>{p(D.matches)},T=D=>{p(D.matches)};return C(w),"addEventListener"in w?(w.addEventListener("change",T),()=>{w.removeEventListener("change",T)}):(w.addListener(T),()=>{w.removeListener(T)})},[l,s]),M.useEffect(()=>{!l||i||(s!=="system"?localStorage.setItem(n,s):localStorage.removeItem(n))},[l,n,s,i]);const g=M.useMemo(()=>s==="system"?f?"dark":"light":s,[s,f]);M.useEffect(()=>{if(!l)return;const w=window.document.documentElement,C=v.current;C&&w.classList.remove(C);const T=String(g);w.classList.add(T),v.current=T},[g,l]),M.useEffect(()=>{l&&(i?s!==e&&o(e):!localStorage.getItem(n)&&s!==e&&o(e))},[e,l,n,i,s]);const v=M.useRef(null),S=M.useCallback(w=>{o(w)},[]),k=M.useMemo(()=>({theme:s,setTheme:S,resolvedTheme:g}),[s,S,g]);return E.jsx(aB.Provider,{...r,value:k,children:t})}async function lB(t){try{switch(t){case"daily":{const{DailyTransport:e}=await BT(async()=>{const{DailyTransport:n}=await Promise.resolve().then(()=>vie);return{DailyTransport:n}},void 0);return{DailyTransport:e}}case"smallwebrtc":{const{SmallWebRTCTransport:e}=await BT(async()=>{const{SmallWebRTCTransport:n}=await Promise.resolve().then(()=>yie);return{SmallWebRTCTransport:n}},void 0);return{SmallWebRTCTransport:e}}default:throw new Error(`Unsupported transport type: ${t}`)}}catch(e){const n=e instanceof Error?e.message:String(e);throw new Error(`Failed to load transport "${t}". Make sure the package is installed: ${t==="daily"?"npm install @pipecat-ai/daily-transport":"npm install @pipecat-ai/small-webrtc-transport"}. Original error: ${n}`)}}async function cie(t,e){const n=await lB(t);switch(t){case"daily":{const{DailyTransport:i}=n;if(!i)throw new Error("DailyTransport not found in loaded module");return new i(e)}case"smallwebrtc":{const{SmallWebRTCTransport:i}=n;if(!i)throw new Error("SmallWebRTCTransport not found in loaded module");return new i(e)}default:throw new Error(`Unsupported transport type: ${t}`)}}var lie=t=>t,uie=({clientOptions:t,connectOnMount:e=!1,connectParams:n,initDevicesOnMount:i=!1,noAudioOutput:r=!1,noThemeProvider:s=!1,startBotParams:o,startBotResponseTransformer:l=lie,transportOptions:u,transportType:f,themeProps:p,children:g})=>{const[v,S]=M.useState(null),[k,w]=M.useState(null),[C,T]=M.useState(null),[D,P]=M.useState(null),j=M.useCallback(async W=>{try{if(o){const J=await W.startBot({requestData:{},...o});if(T(J),f==="smallwebrtc"&&typeof J=="object"&&J!==null&&"iceConfig"in J){const re=J.iceConfig;W.transport.iceServers=re.iceServers}const Z=await l(J);await W.connect(Z),P(Z)}else await W.connect(n??{})}catch(J){console.error("Connection error:",J),w(`Failed to start session: ${J instanceof Error?J.message:String(J)}`)}},[n,o,l,f]);M.useEffect(()=>{let W=null;return(async()=>{try{const J=await cie(f,u),Z=new hr({enableCam:!1,enableMic:!0,transport:J,...t});W=Z,S(Z),i&&await Z.initDevices(),e&&await j(Z)}catch(J){console.error("Failed to initialize transport:",J)}})(),()=>{W==null||W.disconnect(),S(null),w(null)}},[t,e,i,j,u,f]);const N=async()=>{!v||!["initialized","disconnected","error"].includes(v.state)||(w(null),await j(v))},B=async()=>{v&&await v.disconnect()};if(!v)return typeof g=="function"?g({client:null,error:null}):g;const L={client:v,handleConnect:N,handleDisconnect:B,error:k,rawStartBotResponse:C,transformedStartBotResponse:D},z=E.jsx(oN,{client:v,children:E.jsxs(jne,{children:[typeof g=="function"?g(L):g,!r&&E.jsx(cN,{})]})});return s?z:E.jsx(oie,{...p,children:z})};function die(){const{setTheme:t}=eie();return E.jsxs(G3,{children:[E.jsx(J3,{asChild:!0,children:E.jsxs(Un,{variant:"ghost",isIcon:!0,children:[E.jsx(I7,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),E.jsx(R7,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),E.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),E.jsxs(Y3,{align:"end",children:[E.jsx(z0,{onClick:()=>t("light"),children:"Light"}),E.jsx(z0,{onClick:()=>t("dark"),children:"Dark"}),E.jsx(z0,{onClick:()=>t("system"),children:"System"})]})]})}var fie=die,hie=({audioCodec:t="default",transportType:e,videoCodec:n="default"})=>{const i=tc();return M.useEffect(function(){!i||e!=="smallwebrtc"||lB("smallwebrtc").then(({SmallWebRTCTransport:s})=>{if(!s)return;const o=i.transport;o instanceof s&&(t&&o.setAudioCodec(t),n&&o.setVideoCodec(n))})},[t,i,n,e]),null},pie={enableCam:!1,enableMic:!0},mie={};M.memo(t=>{const{clientOptions:e=pie,connectParams:n,noAutoInitDevices:i=!1,startBotParams:r,startBotResponseTransformer:s,theme:o,transportOptions:l=mie,transportType:u="smallwebrtc"}=t;return E.jsx(uie,{connectParams:n,initDevicesOnMount:!i,startBotParams:r,startBotResponseTransformer:s,transportType:u,clientOptions:e,transportOptions:l,themeProps:{defaultTheme:o},children:({client:f,error:p,handleConnect:g,handleDisconnect:v})=>f?E.jsx(gie,{...t,error:p,handleConnect:g,handleDisconnect:v}):E.jsx("div",{className:"flex items-center justify-center h-full w-full",children:E.jsx(yne,{})})})});var gie=({noUserAudio:t=!1,noUserVideo:e=!1,noScreenControl:n=!1,noAudioOutput:i=!1,noBotAudio:r=!1,noBotVideo:s=!1,transportType:o="smallwebrtc",noThemeSwitch:l=!1,noLogo:u=!1,noSessionInfo:f=!1,noStatusInfo:p=!1,titleText:g="Pipecat Playground",assistantLabelText:v,userLabelText:S,systemLabelText:k,collapseInfoPanel:w=!1,collapseMediaPanel:C=!1,audioCodec:T="default",videoCodec:D="default",noConversation:P=!1,noMetrics:j=!1,logoComponent:N,conversationElementProps:B,onInjectMessage:L,onServerMessage:z,error:W,handleConnect:J,handleDisconnect:Z})=>{const[re,ye]=M.useState(!1),[ue,he]=M.useState(!1),[H,te]=M.useState(!1),[Y,se]=M.useState(""),[we,V]=M.useState(""),Q=M.useRef(null),{injectMessage:h}=eB(),{isCamEnabled:b}=uS();M.useEffect(()=>{L&&L(h)},[L,h]);const _=r&&s,O=P&&j,A=i&&t&&e&&n,I=p&&A&&f;return je(fe.ParticipantConnected,F=>{F.local&&se(F.id||"")}),je(fe.TrackStarted,(F,U)=>{U!=null&&U.id&&(U!=null&&U.local)&&se(U.id)}),je(fe.ServerMessage,F=>{z==null||z(F)}),je(fe.BotStarted,F=>{const U=F;U!=null&&U.sessionId&&V(U.sessionId)}),E.jsxs(E.Fragment,{children:[o==="smallwebrtc"&&E.jsx(hie,{audioCodec:T,transportType:o,videoCodec:D}),E.jsxs("div",{className:"flex flex-col h-full w-full overflow-auto",children:[E.jsxs("div",{className:"h-min grid grid-cols-2 sm:grid-cols-[150px_1fr_150px] gap-2 items-center justify-center p-2 bg-background sm:relative top-0 w-full z-10",children:[u?E.jsx("span",{className:"h-6"}):N??E.jsx(Wne,{className:"h-6 w-auto text-foreground"}),E.jsx("strong",{className:"hidden sm:block text-center",children:g}),E.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-3 xl:gap-6",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[!l&&E.jsx(fie,{}),E.jsx(Un,{className:"hidden sm:flex",variant:"ghost",isIcon:!0,onClick:()=>{var F,U;ue?(F=Q.current)==null||F.expand():(U=Q.current)==null||U.collapse()},children:ue?E.jsx(P7,{}):E.jsx(j7,{})})]}),E.jsx(rne,{onConnect:J,onDisconnect:Z})]})]}),W&&E.jsxs(sne,{variant:"destructive",className:"h-min animate-in fade-in duration-300",children:[E.jsx(ane,{icon:d7}),E.jsx(one,{children:"Unable to connect. Please check web console for errors."}),E.jsx(cne,{variant:"destructive"})]}),E.jsx("div",{className:"hidden sm:block h-full",children:E.jsxs(GR,{direction:"vertical",className:"h-full",children:[E.jsx(id,{defaultSize:70,minSize:50,children:E.jsxs(GR,{direction:"horizontal",children:[!_&&E.jsxs(E.Fragment,{children:[E.jsxs(id,{className:"flex flex-col gap-2 p-2 xl:gap-4",defaultSize:C?8:26,maxSize:30,minSize:10,collapsible:!0,collapsedSize:8,onCollapse:()=>ye(!0),onExpand:()=>ye(!1),children:[!r&&E.jsx(QR,{className:_e({"mb-auto":s}),collapsed:re}),!s&&E.jsx(ZR,{className:_e({"mt-auto":r}),collapsed:re})]}),(!O||!I)&&E.jsx(H0,{withHandle:!0})]}),!O&&E.jsxs(E.Fragment,{children:[E.jsx(id,{className:"h-full p-2",defaultSize:w?70:47,minSize:30,children:E.jsx(eD,{noConversation:P,noMetrics:j,conversationElementProps:{...B,assistantLabel:v,clientLabel:S,systemLabel:k}})}),!I&&E.jsx(H0,{withHandle:!0})]}),!I&&E.jsx(id,{id:"info-panel",ref:Q,collapsible:!0,collapsedSize:4,defaultSize:w?4:27,minSize:15,onCollapse:()=>he(!0),onExpand:()=>he(!1),className:"p-2",children:ue?E.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 h-full",children:[!p&&E.jsxs(F0,{children:[E.jsx(U0,{asChild:!0,children:E.jsx(Un,{variant:"ghost",isIcon:!0,children:E.jsx(KT,{size:16})})}),E.jsx(V0,{side:"left",children:E.jsx(V3,{})})]}),!A&&E.jsxs(F0,{children:[E.jsx(U0,{asChild:!0,children:E.jsx(Un,{variant:"ghost",isIcon:!0,children:E.jsx(fN,{size:16})})}),E.jsxs(V0,{className:"flex flex-col gap-2",side:"left",children:[!t&&E.jsx(rB,{}),!e&&E.jsx(cB,{noVideo:!b}),!n&&E.jsx(oB,{}),!i&&E.jsx(sB,{})]})]}),!f&&E.jsxs(F0,{children:[E.jsx(U0,{asChild:!0,children:E.jsx(Un,{variant:"ghost",isIcon:!0,children:E.jsx(XT,{size:16})})}),E.jsx(V0,{side:"left",children:E.jsx(nB,{participantId:Y,sessionId:we})})]})]}):E.jsx(nD,{noAudioOutput:i,noSessionInfo:f,noStatusInfo:p,noUserAudio:t,noUserVideo:e,noScreenControl:n,participantId:Y,sessionId:we})})]})}),E.jsx(H0,{withHandle:!0}),E.jsx(id,{collapsible:!0,collapsedSize:4,minSize:7,onCollapse:()=>te(!0),onExpand:()=>te(!1),children:E.jsx(tD,{collapsed:H})})]})}),E.jsxs(K3,{defaultValue:_?O?"info":"conversation":"bot",className:"flex flex-col gap-0 h-full sm:hidden overflow-hidden",children:[E.jsxs("div",{className:"flex flex-col overflow-hidden flex-1",children:[!_&&E.jsxs(ul,{value:"bot",className:"flex-1 overflow-auto flex flex-col gap-4 p-2",children:[!r&&E.jsx(QR,{}),!s&&E.jsx(ZR,{})]}),!O&&E.jsx(ul,{value:"conversation",className:"flex-1 overflow-auto",children:E.jsx(eD,{noConversation:P,noMetrics:j})}),E.jsx(ul,{value:"info",className:"flex-1 overflow-auto p-2",children:E.jsx(nD,{noAudioOutput:i,noUserAudio:t,noUserVideo:e,noScreenControl:n,participantId:Y,sessionId:we})}),E.jsx(ul,{value:"events",className:"flex-1 overflow-auto",children:E.jsx(tD,{})})]}),E.jsxs(X3,{className:"w-full h-12 rounded-none z-10 mt-auto shrink-0",children:[!_&&E.jsx(ll,{value:"bot",children:E.jsx(e7,{})}),!O&&E.jsx(ll,{value:"conversation",children:E.jsx(dN,{})}),E.jsx(ll,{value:"info",children:E.jsx(XT,{})}),E.jsx(ll,{value:"events",children:E.jsx(KT,{})})]})]})]})]})};let W0=null;const Bp=t=>{const e=document.getElementById("waveform-root");e&&(W0||(W0=pU.createRoot(e)),W0.render(E.jsx(un.StrictMode,{children:E.jsx("div",{style:{width:"100%",height:"100%"},children:E.jsx(iB,{audioTrack:t,isThinking:!1,color1:"#00D3F2",color2:"#E12AFB"})})})))},dl=class dl{constructor(){Se(this,"rtviClient",null);Se(this,"connectBtn",null);Se(this,"disconnectBtn",null);Se(this,"statusSpan",null);Se(this,"debugLog",null);Se(this,"wsUrlInput",null);Se(this,"botAudio");this.botAudio=document.createElement("audio"),this.botAudio.autoplay=!0,document.body.appendChild(this.botAudio),this.setupDOMElements(),this.setupEventListeners(),Bp(null)}setupDOMElements(){this.connectBtn=document.getElementById("connect-btn"),this.disconnectBtn=document.getElementById("disconnect-btn"),this.statusSpan=document.getElementById("connection-status"),this.debugLog=document.getElementById("debug-log"),this.wsUrlInput=document.getElementById("ws-url-input")}setupEventListeners(){var e,n;(e=this.connectBtn)==null||e.addEventListener("click",()=>this.connect()),(n=this.disconnectBtn)==null||n.addEventListener("click",()=>this.disconnect())}log(e){if(!this.debugLog)return;const n=document.createElement("div");n.textContent=`${new Date().toISOString()} - ${e}`,e.startsWith("User: ")?n.style.color="#2196F3":e.startsWith("Bot: ")&&(n.style.color="#4CAF50"),this.debugLog.appendChild(n),this.debugLog.scrollTop=this.debugLog.scrollHeight,console.log(e)}updateStatus(e){this.statusSpan&&(this.statusSpan.textContent=e),this.log(`Status: ${e}`)}async emulateTwilioMessages(){var r;const e={event:"connected",protocol:"Call",version:"1.0.0"},n=(r=this.rtviClient)==null?void 0:r.transport;n==null||n.sendRawMessage(e);const i={event:"start",start:{streamSid:dl.STREAM_SID,callSid:dl.CALL_SID}};n==null||n.sendRawMessage(i)}setupMediaTracks(){var n;if(!this.rtviClient)return;const e=this.rtviClient.tracks();(n=e.bot)!=null&&n.audio&&this.setupAudioTrack(e.bot.audio)}setupTrackListeners(){this.rtviClient&&(this.rtviClient.on(fe.TrackStarted,(e,n)=>{!(n!=null&&n.local)&&e.kind==="audio"&&this.setupAudioTrack(e)}),this.rtviClient.on(fe.TrackStopped,(e,n)=>{this.log(`Track stopped: ${e.kind} from ${(n==null?void 0:n.name)||"unknown"}`)}))}setupAudioTrack(e){if(this.log("Setting up audio track"),this.botAudio.srcObject&&"getAudioTracks"in this.botAudio.srcObject){const n=this.botAudio.srcObject.getAudioTracks()[0];if((n==null?void 0:n.id)===e.id)return}this.botAudio.srcObject=new MediaStream([e]),Bp(e)}async connect(){try{if(!this.wsUrlInput||!this.wsUrlInput.value){this.log("Error: WebSocket URL cannot be empty."),this.updateStatus("Error");return}const e=this.wsUrlInput.value.trim();this.log(`Attempting to connect to: ${e}`);const n=Date.now(),i={serializer:new sU,recorderSampleRate:8e3,playerSampleRate:8e3,ws_url:e},r={transport:new El(i),enableMic:!0,enableCam:!1,callbacks:{onConnected:()=>{this.emulateTwilioMessages(),this.updateStatus("Connected"),this.connectBtn&&(this.connectBtn.disabled=!0),this.disconnectBtn&&(this.disconnectBtn.disabled=!1)},onDisconnected:()=>{this.updateStatus("Disconnected"),this.connectBtn&&(this.connectBtn.disabled=!1),this.disconnectBtn&&(this.disconnectBtn.disabled=!0),this.log("Client disconnected"),Bp(null)},onBotReady:o=>{this.log(`Bot ready: ${JSON.stringify(o)}`),this.setupMediaTracks()},onUserTranscript:o=>{o.final&&this.log(`User: ${o.text}`)},onBotTranscript:o=>this.log(`Bot: ${o.text}`),onMessageError:o=>console.error("Message error:",o),onError:o=>console.error("Error:",o)}};this.rtviClient=new hr(r),this.setupTrackListeners(),this.log("Initializing devices..."),await this.rtviClient.initDevices(),this.log("Connecting to bot..."),await this.rtviClient.connect();const s=Date.now()-n;this.log(`Connection complete, timeTaken: ${s}`)}catch(e){if(this.log(`Error connecting: ${e.message}`),this.updateStatus("Error"),this.rtviClient)try{await this.rtviClient.disconnect()}catch(n){this.log(`Error during disconnect: ${n}`)}}}async disconnect(){if(this.rtviClient)try{await this.rtviClient.disconnect(),this.rtviClient=null,this.botAudio.srcObject&&"getAudioTracks"in this.botAudio.srcObject&&(this.botAudio.srcObject.getAudioTracks().forEach(e=>e.stop()),this.botAudio.srcObject=null),Bp(null)}catch(e){this.log(`Error disconnecting: ${e.message}`)}}};Se(dl,"STREAM_SID","ws_mock_stream_sid"),Se(dl,"CALL_SID","ws_mock_stream_sid");let Qm=dl;window.addEventListener("DOMContentLoaded",()=>{window.WebsocketClientApp=Qm,new Qm});const vie=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),yie=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
